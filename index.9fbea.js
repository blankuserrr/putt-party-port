System.register("chunks:///_virtual/activity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Discord.mjs", "./events.mjs", "./common.mjs", "./responses.mjs", "./Constants.mjs", "./PermissionUtils.mjs", "./decimal.mjs", "./PriceConstants.mjs", "./index2.mjs", "./BigInteger.mjs", "./index5.mjs", "./tslib.es6.mjs", "./index.mjs_cjs=&original=.js", "./logging.ts", "./nexusJwt.ts", "./utils.ts", "./index.js"], (function(t) {
    var e, n, i, s, r, o, a, c, d, h, u, l, E, p, v;
    return {
        setters: [function(t) {
            e = t.inheritsLoose, n = t.createClass, i = t.asyncToGenerator, s = t.regeneratorRuntime
        }, function(t) {
            r = t.cclegacy
        }, function(t) {
            o = t.DiscordSDK
        }, function(t) {
            a = t.Events
        }, function(t) {
            c = t.OrientationLockStateTypeObject
        }, null, function(t) {
            d = t.Permissions
        }, function(t) {
            h = t.default
        }, null, null, null, null, null, null, null, function(t) {
            u = t.setLoggingUserId
        }, function(t) {
            l = t.default
        }, function(t) {
            E = t.isLocalhost, p = t.inIFrame
        }, function(t) {
            v = t.default
        }],
        execute: function() {
            r._RF.push({}, "fd1d7Q07HdKQpUn8jQYMXIn", "activity", void 0);
            var m = t("LaunchSteps", {
                    STARTED: "started",
                    AUTHORIZE_STARTED: "authorize_started",
                    AUTHORIZE_ENDED: "authorize_ended",
                    AUTHENTICATE_ENDED: "authenticate_ended",
                    DOWNLOAD_STARTED: "download_started",
                    DOWNLOAD_ENDED: "download_ended",
                    BACKEND_CONNECT_ENDED: "backend_connect_ended",
                    ENDED: "ended"
                }),
                _ = function(t) {
                    return t[t.CLOSE_NORMAL = 1e3] = "CLOSE_NORMAL", t[t.CLOSE_UNSUPPORTED = 1003] = "CLOSE_UNSUPPORTED", t[t.CLOSE_ABNORMAL = 1006] = "CLOSE_ABNORMAL", t[t.INVALID_CLIENTID = 4e3] = "INVALID_CLIENTID", t[t.INVALID_ORIGIN = 4001] = "INVALID_ORIGIN", t[t.RATELIMITED = 4002] = "RATELIMITED", t[t.TOKEN_REVOKED = 4003] = "TOKEN_REVOKED", t[t.INVALID_VERSION = 4004] = "INVALID_VERSION", t[t.INVALID_ENCODING = 4005] = "INVALID_ENCODING", t
                }(_ || {}),
                f = function(t) {
                    return t[t.HANDSHAKE = 0] = "HANDSHAKE", t[t.FRAME = 1] = "FRAME", t[t.CLOSE = 2] = "CLOSE", t[t.HELLO = 3] = "HELLO", t
                }(f || {}),
                S = t("generateRandomString", (function() {
                    var t = new Uint32Array(28);
                    return window.crypto.getRandomValues(t), Array.from(t, (function(t) {
                        return ("0" + t.toString(16)).substr(-2)
                    })).join("")
                }));
            t("default", new(function() {
                function t() {
                    this._source = void 0, this._origin = void 0, this._canInvite = !1, this.appID = void 0, this.apiHost = void 0, this.discord = void 0, this.nexusJwt = void 0, this.oauthToken = void 0, this.joinTimeoutHandle = void 0, this.sessionID = void 0, this.richPresence = "", this.lastStepEvent = 0, this.thermalState = void 0, this.requiresHWAcceleration = !0, this.hwAccelerationIsEnabled = !0, this.thermalStateIsEnabled = !1, this.skus = [], this.entitlements = [], this.fetchingSkus = !1, this.fetchingEntitlements = !1, this.onActivityReady = void 0, this.onActivityDisconnect = void 0, this.onSpeakingStatusChanged = void 0, this.onUpdateStoreSkus = void 0, this.onUpdateEntitlements = void 0, this.onEntitlementCreated = void 0, this.onThermalsChanged = void 0
                }
                var r = t.prototype;
                return r.toggleThermals = function() {
                    if (this.thermalStateIsEnabled = !this.thermalStateIsEnabled, this.onThermalsChanged) {
                        var t = this.thermalState ? this.thermalState.thermal_state : 0;
                        this.onThermalsChanged(this.thermalStateIsEnabled, t)
                    }
                }, r.openExternalLink = function(t) {
                    var e;
                    t && t.length > 0 && (null == (e = this.discord) || e.commands.openExternalLink({
                        url: t
                    }))
                }, r.getRPCServerSource = function() {
                    var t;
                    return [null != (t = window.parent.opener) ? t : window.parent, document.referrer ? document.referrer : "*"]
                }, r.initialize = function(t, n, i) {
                    if (!E()) {
                        var s = function(t) {
                            function n(e) {
                                return t.call(this, e, window.fetch) || this
                            }
                            return e(n, t), n
                        }(v.Transports.FetchTransport);
                        v.init({
                            dsn: "https://2dcf009695bd477499f90d34d40be990@o64374.ingest.sentry.io/6097689",
                            environment: window._PuttEnv.sentry_env || "dev",
                            transport: s,
                            sampleRate: .01,
                            initialScope: {
                                tags: {
                                    product: "PuttParty"
                                }
                            }
                        })
                    }
                    this.appID = t, this.apiHost = n, this.richPresence = i, this.skus = [], this.entitlements = [], this.lastStepEvent = Date.now(), this.sessionID = S();
                    var r = this.getRPCServerSource(),
                        c = r[0],
                        d = r[1];
                    return this._source = c, this._origin = d, this.discord = new o(t), this.discord.subscribe(a.READY, this.onReady.bind(this)), this
                }, r.authorize = function() {
                    var t = i(s().mark((function t() {
                        var e, n, i, r, o, a, c, E, p, v, f, S = this;
                        return s().wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return this.SendStepEvent(m.AUTHORIZE_STARTED, {
                                        next_step: m.AUTHORIZE_ENDED
                                    }), e = "", t.prev = 2, t.next = 5, null == (n = this.discord) ? void 0 : n.commands.authorize({
                                        response_type: "code",
                                        client_id: this.appID,
                                        state: "",
                                        prompt: "none",
                                        scope: ["applications.commands", "rpc.voice.read", "rpc.activities.write", "guilds.members.read", "identify"]
                                    });
                                case 5:
                                    i = t.sent, e = i.code, t.next = 15;
                                    break;
                                case 9:
                                    t.prev = 9, t.t0 = t.catch(2), console.error("error " + t.t0);
                                    try {
                                        this.SendStepEvent(m.AUTHORIZE_ENDED, {
                                            success: !1,
                                            error_message: "App not authorized"
                                        }), this.onActivityDisconnect && this.onActivityDisconnect()
                                    } catch (t) {}
                                    return null == (r = this.discord) || r.close(_.CLOSE_NORMAL, "unauthorized."), t.abrupt("return");
                                case 15:
                                    return this.SendStepEvent(m.AUTHORIZE_ENDED, {
                                        success: !0,
                                        next_step: m.AUTHENTICATE_ENDED
                                    }), t.prev = 16, o = new URLSearchParams({
                                        code: e,
                                        instance_id: this.discord.instanceId,
                                        channel_id: this.discord.channelId
                                    }), this.discord.guildId && o.set("guild_id", this.discord.guildId), t.next = 21, fetch(this.apiHost + "/api/oauth-callback/" + this.appID + "?" + o.toString()).then((function(t) {
                                        if (!t.ok) throw console.error(t.body), S.SendErrorEvent("Failed on oauth callback"), S.SendStepEvent(m.AUTHENTICATE_ENDED, {
                                            success: !1,
                                            error_message: "Failed on oauth callback"
                                        }), "Invalid oauth response";
                                        return t.json()
                                    }));
                                case 21:
                                    if (a = t.sent, c = a.token, (E = a.jwt) && c) {
                                        t.next = 28;
                                        break
                                    }
                                    return console.error("missing jwt " + E + " or token " + c), this.SendErrorEvent("Game Authorization Denied"), t.abrupt("return");
                                case 28:
                                    return this.nexusJwt = new l(E), u(this.nexusJwt.id), t.next = 32, this.discord.commands.authenticate({
                                        access_token: c.access_token
                                    });
                                case 32:
                                    return this.SendStepEvent(m.AUTHENTICATE_ENDED, {
                                        success: !0,
                                        next_step: m.BACKEND_CONNECT_ENDED
                                    }), t.next = 35, this.performSetup();
                                case 35:
                                    return this.requiresHWAcceleration && this.discord.commands.encourageHardwareAcceleration().then((function(t) {
                                        S.hwAccelerationIsEnabled = t.data.enabled
                                    })).catch((function(t) {})), t.prev = 36, t.next = 39, null == (p = this.discord) ? void 0 : p.commands.getChannelPermissions();
                                case 39:
                                    v = t.sent, f = v.permissions, this._canInvite = h.can(d.CREATE_INSTANT_INVITE, f), t.next = 47;
                                    break;
                                case 44:
                                    t.prev = 44, t.t1 = t.catch(36), this._canInvite = !1;
                                case 47:
                                    this.onActivityReady && this.onActivityReady(this.nexusJwt), t.next = 56;
                                    break;
                                case 50:
                                    t.prev = 50, t.t2 = t.catch(16), this.SendErrorEvent("Unknown exception"), console.error(t.t2), this.onActivityDisconnect && this.onActivityDisconnect(), this.discord.close(_.CLOSE_ABNORMAL, "Invalid authentication");
                                case 56:
                                case "end":
                                    return t.stop()
                            }
                        }), t, this, [
                            [2, 9],
                            [16, 50],
                            [36, 44]
                        ])
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }(), r.onReady = function() {
                    var t = i(s().mark((function t() {
                        return s().wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    this.discord.commands.setOrientationLockState({
                                        lock_state: c.LANDSCAPE
                                    }), this.SendStepEvent(m.STARTED, {
                                        next_step: m.AUTHORIZE_STARTED
                                    }), this.authorize();
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t, this)
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }(), r.performSetup = function() {
                    var t = i(s().mark((function t() {
                        var e = this;
                        return s().wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    this.channelID && (this.discord.subscribe(a.SPEAKING_START, (function(t) {
                                        var n = t.user_id;
                                        e.onSpeakingStatusChanged && e.onSpeakingStatusChanged(n, !0)
                                    }), {
                                        channel_id: this.channelID
                                    }), this.discord.subscribe(a.SPEAKING_STOP, (function(t) {
                                        var n = t.user_id;
                                        e.onSpeakingStatusChanged && e.onSpeakingStatusChanged(n, !1)
                                    }), {
                                        channel_id: this.channelID
                                    })), this.discord.subscribe(a.ENTITLEMENT_CREATE, (function(t) {
                                        var n = t.entitlement;
                                        e.entitlements.push(n), e.onEntitlementCreated && e.onEntitlementCreated(n)
                                    })), this.discord.subscribe(a.THERMAL_STATE_UPDATE, (function(t) {
                                        e.thermalState = t, e.onThermalsChanged && e.onThermalsChanged(e.thermalStateIsEnabled, t.thermal_state)
                                    })), this.setActivity(this.richPresence, 1, 1, 8);
                                case 4:
                                case "end":
                                    return t.stop()
                            }
                        }), t, this)
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }(), r.updateRichPresense = function(t, e) {
                    this.discord && this.setActivity(this.richPresence, 0, t, e)
                }, r.getStoreSkus = function() {
                    var t = i(s().mark((function t() {
                        var e, n;
                        return s().wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    if (this.discord) {
                                        t.next = 2;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 2:
                                    if (!this.fetchingSkus) {
                                        t.next = 4;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 4:
                                    return this.fetchingSkus = !0, t.next = 7, this.discord.commands.getSkus();
                                case 7:
                                    e = t.sent, n = e.skus, this.skus = n, this.onUpdateStoreSkus && this.onUpdateStoreSkus(this.skus), this.fetchingSkus = !1;
                                case 12:
                                case "end":
                                    return t.stop()
                            }
                        }), t, this)
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }(), r.getEntitlements = function() {
                    var t = i(s().mark((function t() {
                        var e, n;
                        return s().wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    if (this.discord) {
                                        t.next = 2;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 2:
                                    if (!this.fetchingEntitlements) {
                                        t.next = 4;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 4:
                                    return this.fetchingEntitlements = !0, t.next = 7, this.discord.commands.getEntitlements();
                                case 7:
                                    e = t.sent, n = e.entitlements, this.entitlements = n, this.onUpdateEntitlements && this.onUpdateEntitlements(this.entitlements);
                                case 11:
                                case "end":
                                    return t.stop()
                            }
                        }), t, this)
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }(), r.SendErrorEvent = function(t) {
                    "function" == typeof window.sendErrorEvent && window.sendErrorEvent(t)
                }, r.SendStepEvent = function(t, e) {
                    if (void 0 === e && (e = null), p()) {
                        null == e && (e = {});
                        var n = Date.now();
                        e.activity_application_id = this.appID, e.user_session_id = this.sessionID, e.activity_session_id = this.discord.instanceId, e.step = t, e.duration_ms = n - this.lastStepEvent, this.lastStepEvent = n;
                        try {
                            this.track("activity_internal_launch_step_completed", e)
                        } catch (t) {
                            console.error("ActivityAnaltyics error: " + t)
                        }
                    }
                }, r.track = function(t, e) {
                    var n = S();
                    this._source.postMessage([f.FRAME, {
                        cmd: "SEND_ANALYTICS_EVENT",
                        args: {
                            event_name: t,
                            event_properties: e
                        },
                        nonce: n
                    }], this._origin)
                }, r.setActivity = function(t, e, n, i) {
                    var s = {
                        state: t,
                        timestamps: {
                            start: e
                        },
                        assets: {
                            large_image: "servericon"
                        },
                        secrets: {
                            join: S()
                        },
                        party: {
                            id: this.discord.instanceId,
                            privacy: 1,
                            size: [n, i]
                        }
                    };
                    0 == e ? delete s.timestamps : s.timestamps.start = Date.now() - e, (i <= 0 || n <= 0) && delete s.party.size, this.discord && this.discord.commands.setActivity({
                        activity: s
                    })
                }, r.startPurchase = function(t) {
                    this.discord && this.discord.commands.startPurchase({
                        sku_id: t
                    })
                }, r.closeGameWindow = function(t, e) {
                    var n = this;
                    setTimeout((function() {
                        var t;
                        null == (t = n.discord) || t.close(_.CLOSE_NORMAL, "closed.")
                    }), 1e3)
                }, n(t, [{
                    key: "inGDM",
                    get: function() {
                        return !this.discord || null == this.discord.guildId || null == this.discord.guildId
                    }
                }, {
                    key: "canInvitePeople",
                    get: function() {
                        return !this.inGDM && this._canInvite
                    }
                }, {
                    key: "guildID",
                    get: function() {
                        var t;
                        return (null == (t = this.discord) ? void 0 : t.guildId) || this.channelID || "cl"
                    }
                }, {
                    key: "channelID",
                    get: function() {
                        var t;
                        return (null == (t = this.discord) ? void 0 : t.channelId) || null
                    }
                }]), t
            }()));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/aimWidget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./DGMath.ts"], (function(e) {
    var t, i, n, r, o, a, l, s, h, c, p, u, d;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, a = e._decorator, l = e.UITransform, s = e.Vec3, h = e.Sprite, c = e.clamp, p = e.Color, u = e.Component
        }, function(e) {
            d = e.DGMath
        }],
        execute: function() {
            var m, g, f, v, y, b, w, C, S, x;
            o._RF.push({}, "afb5bwbNTBCwoS901lF5yUC", "aimWidget", void 0);
            var z = a.ccclass,
                A = a.property,
                L = e("cOnAimWidgetUpdate", "on-aim-widget-update"),
                P = e("cOnAimWidgetEnd", "on-aim-widget-end");
            e("AimWidget", (m = z("AimWidget"), g = A({
                type: l
            }), f = A({
                type: l
            }), m((b = t((y = function(e) {
                function t() {
                    for (var t, i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(o)) || this, n(t, "line", b, r(t)), n(t, "end", w, r(t)), n(t, "minColor", C, r(t)), n(t, "maxColor", S, r(t)), n(t, "maxLength", x, r(t)), t.normalizedSize = 0, t.dir = s.ZERO, t.parentCanvas = void 0, t.lineSprite = null, t.endSprite = null, t
                }
                i(t, e);
                var o = t.prototype;
                return o.start = function() {
                    this.parentCanvas = this.node.parent.getComponent(l), this.node.active = !1, this.lineSprite = this.line.getComponent(h), this.endSprite = this.end.getComponent(h)
                }, o.StartAim = function(e) {
                    this.node.active = !0, this.node.setPosition(e), this.line.height = 0, this.end.node.active = !1
                }, o.UpdateAim = function(e, t) {
                    this.node.active = !0, this.node.setPosition(e), t.x = t.x - .5 * this.parentCanvas.width, t.y = t.y - .5 * this.parentCanvas.height, t.subtract(this.node.position);
                    var i = c(t.length(), 0, this.maxLength);
                    t.normalize().multiplyScalar(i), this.line.height = i;
                    var n = new s(t);
                    n.normalize();
                    var r = new s(s.FORWARD);
                    r.multiplyScalar(-1);
                    var o = new s(0, 0, d.getSignedAngle(s.UP, n, r));
                    this.line.node.setRotationFromEuler(o), this.end.node.active = !0, this.end.node.setPosition(t);
                    var a = new p(this.minColor);
                    a.lerp(this.maxColor, this.line.height / this.maxLength), this.lineSprite.color = a, this.endSprite.color = a, this.node.emit(L)
                }, o.GetPower = function() {
                    var e = this.line.node.up.multiplyScalar(this.line.height / this.maxLength);
                    return e = new s(-e.x, 0, e.y)
                }, o.EndAim = function() {
                    this.node.active = !1, this.node.emit(P)
                }, t
            }(u)).prototype, "line", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), w = t(y.prototype, "end", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = t(y.prototype, "minColor", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(0, 0, 0)
                }
            }), S = t(y.prototype, "maxColor", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(1, 0, 0)
                }
            }), x = t(y.prototype, "maxLength", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 100
                }
            }), v = y)) || v));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/aimWidget3D.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(i) {
    var e, t, r, n, a, l, o, s, u, c, h, m, p, f, d, g, b, y;
    return {
        setters: [function(i) {
            e = i.applyDecoratedDescriptor, t = i.inheritsLoose, r = i.initializerDefineProperty, n = i.assertThisInitialized, a = i.createClass
        }, function(i) {
            l = i.cclegacy, o = i._decorator, s = i.Node, u = i.MeshRenderer, c = i.Material, h = i.Vec3, m = i.Color, p = i.UITransform, f = i.easing, d = i.clamp, g = i.Vec4, b = i.randomRangeInt, y = i.Component
        }],
        execute: function() {
            var v, w, A, M, z, _, P, S, D, F, R, q, x, L, C, I, O, E, W, Z, V, G, k, N, T, H, U, j, B, J, K, Q, X, Y, $, ii;
            l._RF.push({}, "60c71I5gsZL7p49zA0/vZVF", "aimWidget3D", void 0);
            var ei = o.ccclass,
                ti = o.property,
                ri = i("cOnAimWidgetStart", "on-aim-widget-start"),
                ni = i("cOnAimWidgetUpdate", "on-aim-widget-update"),
                ai = i("cOnAimWidgetEnd", "on-aim-widget-end");
            i("AimWidget3D", (v = ei("AimWidget3D"), w = ti({
                type: s
            }), A = ti({
                type: s
            }), M = ti([s]), z = ti(s), _ = ti({
                type: u
            }), P = ti({
                type: u
            }), S = ti(c), D = ti(c), F = ti(c), v((x = e((q = function(i) {
                function e() {
                    for (var e, t = arguments.length, a = new Array(t), l = 0; l < t; l++) a[l] = arguments[l];
                    return e = i.call.apply(i, [this].concat(a)) || this, r(e, "positionOffset", x, n(e)), r(e, "line", L, n(e)), r(e, "end", C, n(e)), r(e, "aimDirections", I, n(e)), r(e, "aimDirParent", O, n(e)), r(e, "meshRenderers", E, n(e)), r(e, "morphRenderers", W, n(e)), r(e, "morphMultiplier", Z, n(e)), r(e, "minColor", V, n(e)), r(e, "maxColor", G, n(e)), r(e, "maxLength", k, n(e)), r(e, "lineLengthOffset", N, n(e)), r(e, "standardMaterial", T, n(e)), r(e, "zanyMaterial", H, n(e)), r(e, "powershotMaterial", U, n(e)), r(e, "isZany", j, n(e)), r(e, "isPowershot", B, n(e)), r(e, "isReversiball", J, n(e)), r(e, "minForce", K, n(e)), r(e, "verticalAim", Q, n(e)), r(e, "gravity", X, n(e)), r(e, "isInvisible", Y, n(e)), e.normalizedSize = 0, e.dir = h.ZERO, e.reverse = !1, e.spinAimDirection = !1, e.parentCanvas = void 0, e.telportMode = !1, e._isAiming = !1, e._sinVal = 0, e._timer = 0, r(e, "sinAmplitude", $, n(e)), r(e, "sinFrequency", ii, n(e)), e.aimArrowColors = [m.WHITE], e._materials = [], e.aimFrequencyMultiplier = 0, e.aimAmplitudeMultiplier = 0, e.maxSwingAimLengthScalar = 1, e.nextLog = 0, e
                }
                t(e, i);
                var l = e.prototype;
                return l.getFrequency = function() {
                    return this.sinFrequency
                }, l.getAmplitude = function() {
                    return this.sinAmplitude
                }, l.addFrequencyMultiplier = function(i) {
                    this.aimFrequencyMultiplier += i, console.log("Add Freq Multiplier: " + i + ", current: " + this.aimFrequencyMultiplier)
                }, l.addAmplitudeMultiplier = function(i) {
                    this.aimAmplitudeMultiplier += i, console.log("Add Amplitude Multiplier: " + i + ", current: " + this.aimAmplitudeMultiplier)
                }, l.addVerticalMultiplier = function(i) {
                    this.verticalAim += i
                }, l.addGravityMultiplier = function(i) {
                    this.gravity += i
                }, l.removeFrequencyMultiplier = function(i) {
                    this.aimFrequencyMultiplier -= i, console.log("Remove Freq Multiplier: " + i + ", current: " + this.aimFrequencyMultiplier)
                }, l.removeAmplitudeMultiplier = function(i) {
                    this.aimAmplitudeMultiplier -= i, console.log("Remove Amplitude Multiplier: " + i + ", current: " + this.aimAmplitudeMultiplier)
                }, l.removeVerticalMultiplier = function(i) {
                    this.verticalAim -= i
                }, l.removeGravityMultiplier = function(i) {
                    this.gravity -= i
                }, l.start = function() {
                    var i = this;
                    this.parentCanvas = this.node.parent.getComponent(p), this.node.active = !1, this.meshRenderers.forEach((function(e) {
                        i._materials.push(e.material)
                    }))
                }, l.update = function(i) {
                    if (this._isAiming) {
                        var e = f.quadIn(this.GetPowerScalar());
                        if (this._timer += i * this.getFrequency() * Math.max(e + this.aimFrequencyMultiplier, 0), Number.isNaN(this._timer) && (this._timer = 0), this.isMultiArrowActive)
                            for (var t = 0; t < this.aimDirections.length; ++t) this.updateAimDirection(this.aimDirections[t], this._timer + t, e, this.getAmplitude(), this.aimAmplitudeMultiplier);
                        else this.updateAimDirection(this.aimDirections[0], this._timer, e, this.getAmplitude(), this.aimAmplitudeMultiplier);
                        this.node.emit(ni, i)
                    }
                }, l.updateAimDirection = function(i, e, t, r, n) {
                    this.spinAimDirection ? i.setRotationFromEuler(new h(-1 * this.verticalAim, e % 360, 0)) : (this._sinVal = Math.sin(e), i.setRotationFromEuler(new h(-1 * this.verticalAim, this._sinVal * r * Math.max(t + n, 0), 0)))
                }, l.StartAim = function(i) {
                    this.node.active = !0;
                    var e = new h(i);
                    e.add(this.positionOffset), this.node.setPosition(e), this.line.setScale(1, 1, 0), this.normalizedSize = 0, this.end.setWorldPosition(e), this.end.active = !1, this._isAiming = !0, this.node.emit(ri)
                }, l.UpdateAim = function(i, e) {
                    var t = this;
                    this.node.active = !0;
                    var r = new h(i);
                    r.add(this.positionOffset), this.node.setPosition(r);
                    var n = d(h.distance(r, e), 0, this.maxLength * this.maxSwingAimLengthScalar);
                    this.normalizedSize = n / this.maxLength;
                    var a = this.GetPowerScalar(),
                        l = f.quadInOut(Math.min(a / this.minForce, 1));
                    this.aimDirParent.setPosition(this.line.position), this.aimDirParent.lookAt(e), this.line.lookAt(e), this.line.setScale(l, 1, n + this.lineLengthOffset), this.end.active = !0, this.end.setScale(new h(l, l, l)), this.morphRenderers.forEach((function(i) {
                        i.setWeight(t.normalizedSize * t.morphMultiplier, 0, 0)
                    }));
                    var o = new h(0, 0, 0);
                    if (h.subtract(o, e, this.node.position), o.normalize(), o.multiplyScalar(n), this.end.setPosition(o), this.isZany)
                        for (var s = 0; s < this._materials.length; s++);
                    else if (this.isPowershot) this._materials.forEach((function(i) {
                        i.setProperty("tilingOffset", new g(0, n, 0, 0))
                    }));
                    else {
                        var u = new m(this.minColor);
                        this.isInvisible ? u = m.WHITE : u.lerp(this.maxColor, this.line.scale.z / this.maxLength);
                        for (var c = 0; c < this.meshRenderers.length; c++) this._materials[c] && this._materials[c].setProperty("mainColor", u)
                    }
                }, l.GetPowerScalar = function() {
                    return this.line.scale.z / this.maxLength
                }, l.GetEndPosition = function() {
                    return this.end.worldPosition
                }, l.GetPower = function() {
                    var i = null;
                    if (this.isMultiArrowActive) {
                        var e = b(0, this.aimArrowColors.length);
                        i = this.aimDirections[e].forward.multiplyScalar(this.line.scale.z / this.maxLength)
                    } else i = this.aimDirections[0].forward.multiplyScalar(this.line.scale.z / this.maxLength);
                    return this.reverse && i.multiplyScalar(-1), i
                }, l.EndAim = function() {
                    this.node.active = !1, this._isAiming = !1, this.node.emit(ai)
                }, l._setMaterial = function(i) {
                    var e = this,
                        t = 0;
                    this.meshRenderers.forEach((function(r) {
                        r.material = i, e._materials[t] = r.material, t += 1
                    }))
                }, l.SetZany = function(i) {
                    this.isZany != i && (this.isZany = i, this._setMaterial(this.isZany ? this.zanyMaterial : this.standardMaterial))
                }, l.SetPowershot = function(i) {
                    this.isPowershot != i && (this.isPowershot = i, this._setMaterial(this.isPowershot ? this.powershotMaterial : this.standardMaterial))
                }, l.SetReversiball = function(i) {
                    this.isReversiball != i && (this.isReversiball = i, this._materials.forEach((function(e) {
                        e.setProperty("tilingOffset", new g(0, i ? -1 : 1, 0, 0))
                    })))
                }, l.SetInvisible = function(i) {
                    this.isInvisible != i && (this.isInvisible = i, this.meshRenderers[0].node.active = !i)
                }, a(e, [{
                    key: "isAiming",
                    get: function() {
                        return this._isAiming
                    }
                }, {
                    key: "isMultiArrowActive",
                    get: function() {
                        return this.aimArrowColors.length > 1
                    }
                }]), e
            }(y)).prototype, "positionOffset", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new h(0, 1.5, 0)
                }
            }), L = e(q.prototype, "line", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = e(q.prototype, "end", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = e(q.prototype, "aimDirections", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), O = e(q.prototype, "aimDirParent", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = e(q.prototype, "meshRenderers", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), W = e(q.prototype, "morphRenderers", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), Z = e(q.prototype, "morphMultiplier", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .6
                }
            }), V = e(q.prototype, "minColor", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new m(0, 0, 0)
                }
            }), G = e(q.prototype, "maxColor", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new m(1, 0, 0)
                }
            }), k = e(q.prototype, "maxLength", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 8
                }
            }), N = e(q.prototype, "lineLengthOffset", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), T = e(q.prototype, "standardMaterial", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), H = e(q.prototype, "zanyMaterial", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), U = e(q.prototype, "powershotMaterial", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), j = e(q.prototype, "isZany", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), B = e(q.prototype, "isPowershot", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), J = e(q.prototype, "isReversiball", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), K = e(q.prototype, "minForce", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .1
                }
            }), Q = e(q.prototype, "verticalAim", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), X = e(q.prototype, "gravity", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), Y = e(q.prototype, "isInvisible", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), $ = e(q.prototype, "sinAmplitude", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 5
                }
            }), ii = e(q.prototype, "sinFrequency", [ti], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 6
                }
            }), R = q)) || R));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ApplyForceOnCollision.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts"], (function(o) {
    var l, n, e, r, i, t, a, c, p, s, u, f, d;
    return {
        setters: [function(o) {
            l = o.applyDecoratedDescriptor, n = o.inheritsLoose, e = o.initializerDefineProperty, r = o.assertThisInitialized
        }, function(o) {
            i = o.cclegacy, t = o._decorator, a = o.CCInteger, c = o.Prefab, p = o.Collider, s = o.Vec3, u = o.instantiate, f = o.Component
        }, function(o) {
            d = o.BallHandler
        }],
        execute: function() {
            var y, b, m, h, C, v, F, g, w;
            i._RF.push({}, "a6640hL1i9OW62Fo33aWvUk", "ApplyForceOnCollision", void 0);
            var A = t.ccclass,
                T = t.property;
            o("ApplyForceOnCollision", (y = A("ApplyForceOnCollision"), b = T(a), m = T(c), h = T(c), y((F = l((v = function(o) {
                function l() {
                    for (var l, n = arguments.length, i = new Array(n), t = 0; t < n; t++) i[t] = arguments[t];
                    return l = o.call.apply(o, [this].concat(i)) || this, e(l, "forceAmount", F, r(l)), e(l, "ballEffectToSpawn", g, r(l)), e(l, "ballTrailFX", w, r(l)), l
                }
                n(l, o);
                var i = l.prototype;
                return i.start = function() {
                    var o = this.getComponent(p);
                    o && o.on("onCollisionEnter", this.onCollision, this)
                }, i.onCollision = function(o) {
                    var l = this;
                    o.contacts.forEach((function(n) {
                        var e, r = o.otherCollider.getComponent(d);
                        if (r && !r.isInvulnerable) {
                            if (n.isBodyA) {
                                var i = new s;
                                n.getWorldNormalOnB(i), i.y = 0, i.normalize(), r.applyForceVector(i.multiplyScalar(-1 * l.forceAmount), l.ballEffectToSpawn)
                            } else {
                                var t = new s;
                                n.getWorldNormalOnA(t), t.y = 0, t.normalize(), r.applyForceVector(t.multiplyScalar(-1 * l.forceAmount), l.ballEffectToSpawn)
                            }
                            if (null != (e = l.ballTrailFX) && e.isValid) {
                                var a, c = u(l.ballTrailFX);
                                null != (a = r.fxRoot) && a.isValid ? r.fxRoot.addChild(c) : r.node.addChild(c), c.setWorldPosition(r.node.worldPosition)
                            }
                        }
                    }))
                }, l
            }(f)).prototype, "forceAmount", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2e3
                }
            }), g = l(v.prototype, "ballEffectToSpawn", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), w = l(v.prototype, "ballTrailFX", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = v)) || C));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ApplyStatusEffectPlaceable.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./Placeable.ts"], (function(t) {
    var e, a, s, c, r, n, f, i, l, o;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, s = t.initializerDefineProperty, c = t.assertThisInitialized, r = t.extends
        }, function(t) {
            n = t.cclegacy, f = t._decorator, i = t.Prefab
        }, function(t) {
            l = t.GameManager
        }, function(t) {
            o = t.Placeable
        }],
        execute: function() {
            var u, p, E, y, g;
            n._RF.push({}, "258724SSqlNa4bk7vhzdKAj", "ApplyStatusEffectPlaceable", void 0);
            var h = f.ccclass,
                d = f.property;
            t("ApplyStatusEffectPlaceable", (u = h("ApplyStatusEffectPlaceable"), p = d([i]), u((g = e((y = function(t) {
                function e() {
                    for (var e, a = arguments.length, r = new Array(a), n = 0; n < a; n++) r[n] = arguments[n];
                    return e = t.call.apply(t, [this].concat(r)) || this, s(e, "statusEffects", g, c(e)), e._statusEffectInstances = [], e
                }
                a(e, t);
                var n = e.prototype;
                return n.start = function() {
                    var e = this;
                    t.prototype.start.call(this), this.statusEffects.forEach((function(t) {
                        var a = l.Instance.currentMode.statusEffectManager.registerStatusEffect(t);
                        e._statusEffectInstances.push(a)
                    }))
                }, n.activate = function(t) {
                    if (t.owner.local) {
                        var e = l.Instance.currentMode,
                            a = t.owner.localState.golfPlayer;
                        this._statusEffectInstances.forEach((function(t) {
                            var s = t.getAdditionalTargetData(a.statusEffects);
                            e.sendApplyStatusEffectToTarget(r({
                                target: a.statusEffects
                            }, s), t.statusEffectId, e.uid)
                        }))
                    }
                }, e
            }(o)).prototype, "statusEffects", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), E = y)) || E));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/AttackTrail.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, i, n, o, r, a, l, s, c, d, u, p, _, h;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, a = t._decorator, l = t.Prefab, s = t.ParticleSystem, c = t.Tween, d = t.tween, u = t.Vec3, p = t.easing, _ = t.instantiate, h = t.Component
        }],
        execute: function() {
            var y, f, b, w, v, P;
            r._RF.push({}, "b260atXXi9Cxb2Kafop6Uq8", "AttackTrail", void 0);
            var g = a.ccclass,
                m = a.property;
            t("AttackTrail", (y = g("AttackTrail"), f = m(l), y((v = e((w = function(t) {
                function e() {
                    for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "height", v, o(e)), n(e, "explodeParticle", P, o(e)), e._duration = .5, e._start = void 0, e._end = void 0, e._endNode = void 0, e._particleSystem = null, e._callback = null, e._aborted = !1, e
                }
                i(e, t);
                var r = e.prototype;
                return r.init = function(t, e, i, n) {
                    this._start = t.worldPosition.clone(), this._end = e.worldPosition.clone(), this._endNode = e, this._duration = i, this._callback = n
                }, r.start = function() {
                    this._aborted || (this._particleSystem = this.getComponent(s), this.play())
                }, r.abort = function() {
                    this._aborted = !0, this._particleSystem && this._particleSystem.stop(), c.stopAllByTarget(this.node), this.node && this.node.isValid && this.node.destroy()
                }, r.play = function() {
                    var t = this;
                    d(this.node).call((function() {
                        t._particleSystem.stop()
                    })).delay(.1).set({
                        worldPosition: this._start
                    }).call((function() {
                        t._aborted || t._particleSystem.play()
                    })).delay(.1).to(this._duration, {
                        scale: u.ONE
                    }, {
                        progress: function(e, i, n, o) {
                            var r;
                            null != (r = t._endNode) && r.isValid && t._endNode.worldPosition && (t._end = t._endNode.worldPosition.clone());
                            var a = t._start;
                            u.lerp(a, t._start, t._end, p.circOut(o));
                            var l = new u(0, 0, 0);
                            return o < .5 ? u.lerp(l, l, new u(0, t.height, 0), p.quadOut(2 * o)) : u.lerp(l, new u(0, t.height, 0), new u(0, 0, 0), p.quartIn(2 * o - 1)), a.add(l), t.node.worldPosition = a, 0
                        }
                    }).call((function() {
                        if (!t._aborted) {
                            if (null != t.explodeParticle) {
                                var e = _(t.explodeParticle);
                                t.node.scene.addChild(e), e.worldPosition = t._end
                            }
                            t._callback && t._callback()
                        }
                        t.node.destroy()
                    })).start()
                }, e
            }(h)).prototype, "height", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), P = e(w.prototype, "explodeParticle", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), b = w)) || b));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/audioController.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioElement.ts", "./utils.ts"], (function(e) {
    var t, i, r, o, n, l, a, u, p, c, v, s, y, S, P, h, m, U;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized, n = e.createClass
        }, function(e) {
            l = e.cclegacy, a = e._decorator, u = e.ccenum, p = e.AudioClip, c = e.CCObject, v = e.assetManager, s = e.resources, y = e.tween, S = e.sys, P = e.Component
        }, function(e) {
            h = e.AudioElement, m = e.AudioChannel
        }, function(e) {
            U = e.isMobile
        }],
        execute: function() {
            var f, d, A, B, g, H, x, b, _, k, w, C, I, M, T, z, D, G, O, F, L, W, R, J, E, N, Z, j;
            l._RF.push({}, "2743cvi0uxKwaX4D4rHMK4J", "audioController", void 0);
            var q = a.ccclass,
                V = a.property,
                K = a.type,
                X = "saved-volume",
                Q = (f = q("AudioMixer"), d = V({
                    range: [0, 1],
                    slide: !0,
                    step: .05
                }), A = V({
                    range: [0, 1],
                    slide: !0,
                    step: .05
                }), B = V({
                    range: [0, 1],
                    slide: !0,
                    step: .05
                }), f((x = t((H = function(e) {
                    function t() {
                        for (var t, i = arguments.length, n = new Array(i), l = 0; l < i; l++) n[l] = arguments[l];
                        return t = e.call.apply(e, [this].concat(n)) || this, r(t, "UI_Sfx", x, o(t)), r(t, "World_Sfx", b, o(t)), r(t, "Music", _, o(t)), t
                    }
                    return i(t, e), t
                }(c)).prototype, "UI_Sfx", [d], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return 1
                    }
                }), b = t(H.prototype, "World_Sfx", [A], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return 1
                    }
                }), _ = t(H.prototype, "Music", [B], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return 1
                    }
                }), g = H)) || g),
                Y = e("AudioEventType", function(e) {
                    return e[e.evtPlayerHitBall = 0] = "evtPlayerHitBall", e[e.evtBallHitWall = 1] = "evtBallHitWall", e[e.evtBallInCup = 2] = "evtBallInCup", e[e.evtPlayerScore = 3] = "evtPlayerScore", e[e.evtScoreShow = 4] = "evtScoreShow", e[e.evtScoreHide = 5] = "evtScoreHide", e[e.evtUIClick = 6] = "evtUIClick", e[e.evtGameOver = 7] = "evtGameOver", e[e.evtFinalScore = 8] = "evtFinalScore", e[e.evtPlayerJoinGame = 9] = "evtPlayerJoinGame", e[e.evtPlayerLeaveGame = 10] = "evtPlayerLeaveGame", e[e.evtPlayerStartTurn = 11] = "evtPlayerStartTurn", e[e.evtBoostPad = 12] = "evtBoostPad", e[e.evtBounceToNextHole = 13] = "evtBounceToNextHole", e[e.evtBumperDestroy = 14] = "evtBumperDestroy", e[e.evtBumperDrop = 15] = "evtBumperDrop", e[e.evtBumperHit1 = 16] = "evtBumperHit1", e[e.evtBumperHit2 = 17] = "evtBumperHit2", e[e.evtBumperHit3 = 18] = "evtBumperHit3", e[e.evtCardHover = 19] = "evtCardHover", e[e.evtCelebration = 20] = "evtCelebration", e[e.evtJumpPad = 21] = "evtJumpPad", e[e.evtPickupActivate = 22] = "evtPickupActivate", e[e.evtPickupAcquire = 23] = "evtPickupAcquire", e[e.evtPickupTornado = 24] = "evtPickupTornado", e[e.evtBallHitGround = 25] = "evtBallHitGround", e[e.evtTeleportIn = 26] = "evtTeleportIn", e[e.evtTeleportOut = 27] = "evtTeleportOut", e[e.evtLevelSelectHover = 28] = "evtLevelSelectHover", e[e.evtLevelSelectClick = 29] = "evtLevelSelectClick", e[e.evtPickupFailed = 30] = "evtPickupFailed", e[e.evtHoleInOne = 31] = "evtHoleInOne", e[e.evtPUGasApply = 32] = "evtPUGasApply", e[e.evtPUGasHit = 33] = "evtPUGasHit", e[e.evtPUGhostApply = 34] = "evtPUGhostApply", e[e.evtPUGhostShot = 35] = "evtPUGhostShot", e[e.evtPUMagnet = 36] = "evtPUMagnet", e[e.evtPUOneTooManyApply = 37] = "evtPUOneTooManyApply", e[e.evtPUReverseApply = 38] = "evtPUReverseApply", e[e.evtPUReverseShot = 39] = "evtPUReverseShot", e[e.evtPUSharpShooterApply = 40] = "evtPUSharpShooterApply", e[e.evtPUSharpShooterShot = 41] = "evtPUSharpShooterShot", e[e.evtPUSuperSizeApply = 42] = "evtPUSuperSizeApply", e[e.evtPUSuperSizeShot = 43] = "evtPUSuperSizeShot", e[e.evtPUTwistedAimApply = 44] = "evtPUTwistedAimApply", e[e.evtPUTwistedAimLoop = 45] = "evtPUTwistedAimLoop", e[e.evtPUUnlovableApply = 46] = "evtPUUnlovableApply", e[e.evtPUWindApply = 47] = "evtPUWindApply", e[e.evtPUZanyApply = 48] = "evtPUZanyApply", e[e.evtPUZanyShot = 49] = "evtPUZanyShot", e[e.evtUI30SecLeft = 50] = "evtUI30SecLeft", e[e.evtUICountdown = 51] = "evtUICountdown", e[e.evtUISettingsUp = 52] = "evtUISettingsUp", e[e.evtUISettingsDown = 53] = "evtUISettingsDown", e[e.evtPURewindApply = 54] = "evtPURewindApply", e[e.evtPURewindLoop = 55] = "evtPURewindLoop", e[e.evtPUStealCard = 56] = "evtPUStealCard", e[e.evtBlackHoleBumperDestroy = 57] = "evtBlackHoleBumperDestroy", e[e.evtBlackHoleBumperDrop = 58] = "evtBlackHoleBumperDrop", e[e.evtPUGuessworkApply = 59] = "evtPUGuessworkApply", e[e.evtPUChipshotApply = 60] = "evtPUChipshotApply", e[e.evtPUChipshotShot = 61] = "evtPUChipshotShot", e[e.evtPUIceRinkApply = 62] = "evtPUIceRinkApply", e[e.evtPUStickyWallsApply = 63] = "evtPUStickyWallsApply", e[e.evtPUFunSizeApply = 64] = "evtPUFunSizeApply", e[e.evtPUFunSizeShot = 65] = "evtPUFunSizeShot", e[e.evtBlackHoleBumperHit1 = 66] = "evtBlackHoleBumperHit1", e[e.evtBlackHoleBumperHit2 = 67] = "evtBlackHoleBumperHit2", e[e.evtBlackHoleBumperHit3 = 68] = "evtBlackHoleBumperHit3", e[e.evtPUFunSizeDeactivate = 69] = "evtPUFunSizeDeactivate", e
                }({}));
            u(Y);
            var $ = e("AudioMapping", (k = q("AudioMapping"), w = K(Y), C = V(h), k((T = t((M = function(e) {
                function t() {
                    for (var t, i = arguments.length, n = new Array(i), l = 0; l < i; l++) n[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(n)) || this, r(t, "_type", T, o(t)), r(t, "audio", z, o(t)), t
                }
                return i(t, e), n(t, [{
                    key: "type",
                    get: function() {
                        return this._type
                    },
                    set: function(e) {
                        this._type = e
                    }
                }]), t
            }(c)).prototype, "_type", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return Y.evtPlayerHitBall
                }
            }), t(M.prototype, "type", [w], Object.getOwnPropertyDescriptor(M.prototype, "type"), M.prototype), z = t(M.prototype, "audio", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = M)) || I));
            e("AudioController", (D = q("AudioController"), G = V([$]), O = V(Q), F = V(p), L = V(h), D(((j = function(e) {
                function t() {
                    for (var t, i = arguments.length, n = new Array(i), l = 0; l < i; l++) n[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(n)) || this, r(t, "events", J, o(t)), r(t, "mixer", E, o(t)), r(t, "musicClip", N, o(t)), r(t, "musicSrc", Z, o(t)), t._currentMusicTrack = null, t
                }
                i(t, e);
                var l = t.prototype;
                return l.onLoad = function() {
                    t._instance = this
                }, l.playMusic = function(e) {
                    var t = this;
                    U() || this._currentMusicTrack == e || (this._currentMusicTrack = e, v.loadAny({
                        __requestType__: "path",
                        path: e
                    }, {
                        bundle: s.name,
                        audioLoadMode: p.AudioType.DOM_AUDIO
                    }, null, (function(e, i) {
                        y(t.musicSrc).to(1, {
                            volume: 0
                        }).call((function() {
                            t.musicSrc.stop(), t.musicSrc.clip = i, t.musicSrc.updateVolume(), t.musicSrc.loop = !0, t.musicSrc.play()
                        })).start()
                    })))
                }, l.start = function() {
                    if (S.localStorage) {
                        var e = S.localStorage.getItem(X);
                        if (e) {
                            var t = JSON.parse(e);
                            t && (this.mixer = t)
                        }
                    }
                    this.playMusic("PP_Music")
                }, l.musicOn = function() {
                    return this.mixer.Music >= 0
                }, l.sfxOn = function() {
                    return this.mixer.UI_Sfx > 0
                }, l.volumeSettingForChannel = function(e) {
                    switch (e) {
                        case m.Music:
                            return this.mixer.Music;
                        case m.UI_Sfx:
                            return this.mixer.UI_Sfx;
                        case m.World_Sfx:
                            return this.mixer.World_Sfx
                    }
                    return 0
                }, l.setVolumeSettingForChannel = function(e, t) {
                    switch (e) {
                        case m.Music:
                            this.mixer.Music = t, this.musicSrc.updateVolume();
                            break;
                        case m.UI_Sfx:
                            this.mixer.UI_Sfx = t;
                            break;
                        case m.World_Sfx:
                            this.mixer.World_Sfx = t
                    }
                }, l.volumeForChannel = function(e) {
                    switch (e) {
                        case m.Music:
                            return this.mixer.Music;
                        case m.UI_Sfx:
                            return this.mixer.UI_Sfx;
                        case m.World_Sfx:
                            return this.mixer.World_Sfx
                    }
                    return 0
                }, l.toggleSFX = function() {}, l.toggleMusic = function() {}, l.saveMixer = function() {
                    S.localStorage.setItem(X, JSON.stringify(this.mixer))
                }, l.triggerAudio = function(e, t) {
                    this.events.forEach((function(i) {
                        if (i.type == e) {
                            var r, o;
                            if (t) null == (o = i.audio) || o.node.setWorldPosition(t);
                            null == (r = i.audio) || r.play()
                        }
                    }))
                }, l.cancelAudio = function(e) {
                    this.events.forEach((function(t) {
                        var i;
                        t.type == e && (null == (i = t.audio) || i.stop())
                    }))
                }, n(t, null, [{
                    key: "Instance",
                    get: function() {
                        return t._instance
                    }
                }]), t
            }(P))._instance = void 0, J = t((R = j).prototype, "events", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), E = t(R.prototype, "mixer", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new Q
                }
            }), N = t(R.prototype, "musicClip", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Z = t(R.prototype, "musicSrc", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), W = R)) || W));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/audioElement.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./AudioListenerPosition.ts"], (function(e) {
    var t, o, n, l, i, a, r, s, u, c, f, p, h, d;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, n = e.initializerDefineProperty, l = e.assertThisInitialized, i = e.createClass
        }, function(e) {
            a = e.cclegacy, r = e._decorator, s = e.ccenum, u = e.RealCurve, c = e.RealInterpolationMode, f = e.clamp01, p = e.AudioSource
        }, function(e) {
            h = e.AudioController
        }, function(e) {
            d = e.AudioListenerPosition
        }],
        execute: function() {
            var v, y, _, m, g, b, C, F;
            a._RF.push({}, "52352zdlk1M/r9t5eFW52TT", "audioElement", void 0);
            var w = r.ccclass,
                R = r.property,
                I = r.type,
                P = e("AudioChannel", function(e) {
                    return e[e.Music = 0] = "Music", e[e.UI_Sfx = 1] = "UI_Sfx", e[e.World_Sfx = 2] = "World_Sfx", e
                }({}));
            s(P);
            e("AudioElement", (v = w("AudioElement"), y = I(P), _ = R({
                range: [0, 1],
                slide: !0,
                step: .05,
                override: !0
            }), v((b = t((g = function(e) {
                function t() {
                    for (var t, o = arguments.length, i = new Array(o), a = 0; a < o; a++) i[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(i)) || this, n(t, "_channel", b, l(t)), n(t, "_defaulVol", C, l(t)), n(t, "_distanceFalloffRange", F, l(t)), t._falloffCurve = void 0, t
                }
                o(t, e);
                var a = t.prototype;
                return a.onLoad = function() {
                    e.prototype.onLoad.call(this), this._falloffCurve = new u, this._falloffCurve.assignSorted([
                        [0, {
                            interpolationMode: c.CUBIC,
                            value: 1
                        }],
                        [1, {
                            interpolationMode: c.CUBIC,
                            value: 0
                        }]
                    ]), this._defaulVol = this.volume
                }, a.updateVolume = function() {
                    var e, t = null == (e = h.Instance) ? void 0 : e.volumeForChannel(this.channel);
                    if (0 != t) {
                        var o = this.volume,
                            n = this._defaulVol * t;
                        o != n && (this.volume = n), !this.playing && this.volume > 0 && this.play()
                    } else this.playing && this.stop()
                }, a.play = function() {
                    var t, o = null == (t = h.Instance) ? void 0 : t.volumeForChannel(this.channel);
                    if (0 != o) {
                        if (this.distanceFalloffRange > 0) {
                            var n = d.Instance.node.worldPosition.clone().subtract(this.node.worldPosition);
                            o *= this._falloffCurve.evaluate(f(n.length() / this.distanceFalloffRange))
                        }
                        var l = this.volume,
                            i = this._defaulVol * o;
                        l != i && (this.volume = i), e.prototype.play.call(this)
                    } else console.warn("play sound called when vol for channel " + this.channel + " is 0")
                }, i(t, [{
                    key: "channel",
                    get: function() {
                        return this._channel
                    },
                    set: function(e) {
                        this._channel = e
                    }
                }, {
                    key: "volume",
                    get: function() {
                        return this._volume
                    },
                    set: function(e) {
                        Number.isNaN(e) ? console.warn("illegal audio volume!") : (e = f(e), this._player ? (this._player.volume = e, this._volume = this._player.volume) : this._volume = e)
                    }
                }, {
                    key: "distanceFalloffRange",
                    get: function() {
                        return this._distanceFalloffRange
                    },
                    set: function(e) {
                        this._distanceFalloffRange = e
                    }
                }]), t
            }(p)).prototype, "_channel", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return P.World_Sfx
                }
            }), C = t(g.prototype, "_defaulVol", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), t(g.prototype, "channel", [y], Object.getOwnPropertyDescriptor(g.prototype, "channel"), g.prototype), t(g.prototype, "volume", [_], Object.getOwnPropertyDescriptor(g.prototype, "volume"), g.prototype), F = t(g.prototype, "_distanceFalloffRange", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), t(g.prototype, "distanceFalloffRange", [R], Object.getOwnPropertyDescriptor(g.prototype, "distanceFalloffRange"), g.prototype), m = g)) || m));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/audioElementRandom.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioElement.ts", "./AudioListenerPosition.ts", "./audioController.ts"], (function(e) {
    var n, t, o, i, l, a, r, s, u, c, d, h;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, t = e.inheritsLoose, o = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            l = e.cclegacy, a = e._decorator, r = e.AudioClip, s = e.clamp01, u = e.math
        }, function(e) {
            c = e.AudioElement
        }, function(e) {
            d = e.AudioListenerPosition
        }, function(e) {
            h = e.AudioController
        }],
        execute: function() {
            var p, f, m, v, y;
            l._RF.push({}, "26a35oTSW9JXoVt/W+ea8Py", "audioElementRandom", void 0);
            var g = a.ccclass,
                C = a.property;
            a.type, e("AudioElementRandom", (p = g("AudioElementRandom"), f = C([r]), p((y = n((v = function(e) {
                function n() {
                    for (var n, t = arguments.length, l = new Array(t), a = 0; a < t; a++) l[a] = arguments[a];
                    return n = e.call.apply(e, [this].concat(l)) || this, o(n, "randomClips", y, i(n)), n
                }
                return t(n, e), n.prototype.play = function() {
                    var n, t = null == (n = h.Instance) ? void 0 : n.volumeForChannel(this.channel);
                    if (0 != t) {
                        if (this.distanceFalloffRange > 0) {
                            var o = d.Instance.node.worldPosition.clone().subtract(this.node.worldPosition);
                            t *= this._falloffCurve.evaluate(s(o.length() / this.distanceFalloffRange))
                        }
                        var i = this.volume,
                            l = this._defaulVol * t;
                        if (i != l && (this.volume = l), this.randomClips.length > 0) {
                            var a = u.randomRangeInt(0, this.randomClips.length);
                            this.playOneShot(this.randomClips[a])
                        } else e.prototype.play.call(this)
                    } else console.warn("play sound called when vol for channel " + this.channel + " is 0")
                }, n
            }(c)).prototype, "randomClips", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), m = v)) || m));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/AudioEventInstance.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts"], (function(t) {
    var e, o, n, i, r, c, a, u, p, s, d;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized, r = t.createClass
        }, function(t) {
            c = t.cclegacy, a = t._decorator, u = t.ccenum, p = t.CCObject
        }, function(t) {
            s = t.AudioEventType, d = t.AudioController
        }],
        execute: function() {
            var l, y, v, A, f, h, E;
            c._RF.push({}, "ea52cyh9dRGOIXPSYqzOQMI", "AudioEventInstance", void 0);
            var g = a.ccclass,
                _ = a.property,
                b = a.type,
                I = t("AudioEventAction", function(t) {
                    return t[t.actionPlay = 0] = "actionPlay", t[t.actionStop = 1] = "actionStop", t
                }({}));
            u(I);
            t("AudioEventInstance", (l = g("AudioEventInstance"), y = b(s), v = b(I), l((e((f = function(t) {
                function e() {
                    for (var e, o = arguments.length, r = new Array(o), c = 0; c < o; c++) r[c] = arguments[c];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "_audioEvent", h, i(e)), n(e, "_audioAction", E, i(e)), e
                }
                return o(e, t), e.prototype.Activate = function() {
                    this.audioAction == I.actionPlay ? d.Instance.triggerAudio(this.audioEvent) : d.Instance.cancelAudio(this.audioEvent)
                }, r(e, [{
                    key: "audioEvent",
                    get: function() {
                        return this._audioEvent
                    },
                    set: function(t) {
                        this._audioEvent = t
                    }
                }, {
                    key: "audioAction",
                    get: function() {
                        return this._audioAction
                    },
                    set: function(t) {
                        this._audioAction = t
                    }
                }]), e
            }(p)).prototype, "audioEvent", [y], Object.getOwnPropertyDescriptor(f.prototype, "audioEvent"), f.prototype), h = e(f.prototype, "_audioEvent", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {}
            }), e(f.prototype, "audioAction", [v], Object.getOwnPropertyDescriptor(f.prototype, "audioAction"), f.prototype), E = e(f.prototype, "_audioAction", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return I.actionPlay
                }
            }), A = f)) || A));
            c._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/AudioListenerPosition.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, i, r, n, o, s, l, c;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, r = e.initializerDefineProperty, n = e.assertThisInitialized, o = e.createClass
        }, function(e) {
            s = e.cclegacy, l = e._decorator, c = e.Component
        }],
        execute: function() {
            var u, a, p, y;
            s._RF.push({}, "8ab9cFe0EVI8II4ruHqwlcm", "AudioListenerPosition", void 0);
            var f = l.ccclass,
                d = l.property;
            l.type, e("AudioListenerPosition", f("AudioListenerPosition")(((y = function(e) {
                function t() {
                    for (var t, i = arguments.length, o = new Array(i), s = 0; s < i; s++) o[s] = arguments[s];
                    return t = e.call.apply(e, [this].concat(o)) || this, r(t, "priority", p, n(t)), t
                }
                i(t, e);
                var s = t.prototype;
                return s.onLoad = function() {
                    t._listeners.push(this), t._listeners.sort((function(e, t) {
                        return t.priority - e.priority
                    }))
                }, s.onDestroy = function() {
                    var e = t._listeners.indexOf(this);
                    e > -1 && t._listeners.splice(e, 1)
                }, o(t, null, [{
                    key: "Instance",
                    get: function() {
                        return t._listeners.length > 0 ? t._listeners[0] : null
                    }
                }]), t
            }(c))._listeners = [], p = t((a = y).prototype, "priority", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), u = a)) || u);
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/AutoDestroyParticleSystem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var o, e, r, n, i;
    return {
        setters: [function(t) {
            o = t.inheritsLoose
        }, function(t) {
            e = t.cclegacy, r = t._decorator, n = t.ParticleSystem, i = t.Component
        }],
        execute: function() {
            var s;
            e._RF.push({}, "920abz/2uZCXZrIUiNDap0E", "AutoDestroyParticleSystem", void 0);
            var u = r.ccclass;
            r.property, t("AutoDestroyParticleSystem", u("AutoDestroyParticleSystem")(s = function(t) {
                function e() {
                    return t.apply(this, arguments) || this
                }
                return o(e, t), e.prototype.start = function() {
                    var t = this,
                        o = 0;
                    this.getComponents(n).forEach((function(t) {
                        t.duration > o && (o = t.duration)
                    })), this.getComponentsInChildren(n).forEach((function(t) {
                        t.duration > o && (o = t.duration)
                    })), setTimeout((function() {
                        t.node.destroy()
                    }), o + 1)
                }, e
            }(i)) || s);
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/AvatarManager.ts", ["cc"], (function(a) {
    var t, e, r, s, n;
    return {
        setters: [function(a) {
            t = a.cclegacy, e = a._decorator, r = a.assetManager, s = a.SpriteFrame, n = a.Texture2D
        }],
        execute: function() {
            t._RF.push({}, "654dcVx4CFP25nizUJtQh3l", "AvatarManager", void 0);
            e.ccclass, e.property, a("AvatarManager", function() {
                function a() {
                    this._avatarMap = new Map, this._avatarLoadRequests = new Map
                }
                var t = a.prototype;
                return t.requestAvatarSpriteFrame = function(a, t) {
                    var e = this;
                    if (a) {
                        var s = this._avatarMap.get(a);
                        if (s) return void t(s.sprite);
                        var n = this._avatarLoadRequests.get(a);
                        n ? n.callbacks.push(t) : (this._avatarLoadRequests.set(a, {
                            url: a,
                            callbacks: [t],
                            texCallbacks: []
                        }), r.loadRemote(a, {
                            maxRetryCount: 1,
                            maxConcurrency: 3,
                            maxRequestsPerFrame: 1
                        }, (function(t, r) {
                            e.onLoadComplete(t, r, a)
                        })))
                    }
                }, t.requestAvatarTexture = function(a, t) {
                    var e = this;
                    if (a) {
                        var s = this._avatarMap.get(a);
                        if (s) return void t(s.texture);
                        var n = this._avatarLoadRequests.get(a);
                        n ? n.texCallbacks.push(t) : (this._avatarLoadRequests.set(a, {
                            url: a,
                            callbacks: [],
                            texCallbacks: [t]
                        }), r.loadRemote(a, {
                            maxRetryCount: 1,
                            maxConcurrency: 3,
                            maxRequestsPerFrame: 1
                        }, (function(t, r) {
                            e.onLoadComplete(t, r, a)
                        })))
                    }
                }, t.onLoadComplete = function(a, t, e) {
                    if (t) {
                        var r = s.createWithImage(t),
                            c = new n;
                        c.image = t, this._avatarMap.set(e, {
                            sprite: r,
                            texture: c
                        });
                        var u = this._avatarLoadRequests.get(e);
                        u.callbacks.forEach((function(a) {
                            a(r)
                        })), u.texCallbacks.forEach((function(a) {
                            a(c)
                        })), this._avatarLoadRequests.delete(e)
                    }
                }, t.cancelAvatarRequest = function(a, t) {
                    var e = this._avatarLoadRequests.get(a);
                    e && (e.callbacks = e.callbacks.filter((function(a) {
                        return a !== t
                    })))
                }, t.cancelAvatarTextureRequest = function(a, t) {
                    var e = this._avatarLoadRequests.get(a);
                    e && (e.texCallbacks = e.texCallbacks.filter((function(a) {
                        return a !== t
                    })))
                }, a
            }());
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallBoundsCheck.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./physics.ts", "./BallHandler.ts", "./gameManager.ts"], (function(e) {
    var n, o, t, i, r, l, s, c, a, u, h, d, p;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, o = e.inheritsLoose, t = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, l = e._decorator, s = e.CCInteger, c = e.Collider, a = e.PhysicsSystem, u = e.Component
        }, function(e) {
            h = e.PhysicsGroups
        }, function(e) {
            d = e.BallHandler
        }, function(e) {
            p = e.GameManager
        }],
        execute: function() {
            var C, f, y, B, g;
            r._RF.push({}, "12546b7l9xN85h9D+BxvoZ2", "BallBoundsCheck", void 0);
            var v = l.ccclass,
                _ = l.type;
            e("BallBoundsCheck", (C = v("BallBoundsCheck"), f = _(s), C((g = n((B = function(e) {
                function n() {
                    for (var n, o = arguments.length, r = new Array(o), l = 0; l < o; l++) r[l] = arguments[l];
                    return n = e.call.apply(e, [this].concat(r)) || this, t(n, "hole", g, i(n)), n._collider = void 0, n
                }
                o(n, e);
                var r = n.prototype;
                return r.onLoad = function() {
                    this._collider = this.getComponent(c)
                }, r.start = function() {
                    this._collider.on("onCollisionEnter", this.onCollision, this), this._collider.setGroup(h.CourseGround), this._collider.setMask(a.instance.collisionMatrix[h.CourseGround])
                }, r.onCollision = function(e) {
                    var n = e.otherCollider.getComponent(d);
                    n && !n.isInvulnerable && p.Instance.currentMode.CheckCurrentHole(n, this.hole)
                }, n
            }(u)).prototype, "hole", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), y = B)) || y));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallEffectAimZone.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallEffectZone.ts"], (function(i) {
    var e, t, r, l, a, n, u, c;
    return {
        setters: [function(i) {
            e = i.applyDecoratedDescriptor, t = i.inheritsLoose, r = i.initializerDefineProperty, l = i.assertThisInitialized
        }, function(i) {
            a = i.cclegacy, n = i._decorator, u = i.CCFloat
        }, function(i) {
            c = i.BallEffectZone
        }],
        execute: function() {
            var o, p, m, f, s, d, g, y, M;
            a._RF.push({}, "80aa2yn0zVMDKBDgeDxIKvD", "BallEffectAimZone", void 0);
            var h = n.ccclass,
                A = n.property;
            i("BallEffectAimZone", (o = h("BallEffectAimZone"), p = A(u), m = A(u), f = A(u), o((g = e((d = function(i) {
                function e() {
                    for (var e, t = arguments.length, a = new Array(t), n = 0; n < t; n++) a[n] = arguments[n];
                    return e = i.call.apply(i, [this].concat(a)) || this, r(e, "aimFrequencyMultiplier", g, l(e)), r(e, "aimAmplitudeMultiplier", y, l(e)), r(e, "maxSwingForceMultiplier", M, l(e)), e
                }
                t(e, i);
                var a = e.prototype;
                return a.onActivateEffect = function(i) {
                    i.aimWidget && (i.aimWidget.addFrequencyMultiplier(this.aimFrequencyMultiplier), i.aimWidget.addAmplitudeMultiplier(this.aimAmplitudeMultiplier), i.aimWidget.maxSwingAimLengthScalar = this.maxSwingForceMultiplier)
                }, a.onDeactivateEffect = function(i) {
                    i.aimWidget && (i.aimWidget.removeFrequencyMultiplier(this.aimFrequencyMultiplier), i.aimWidget.removeAmplitudeMultiplier(this.aimAmplitudeMultiplier), i.aimWidget.maxSwingAimLengthScalar = 1)
                }, e
            }(c)).prototype, "aimFrequencyMultiplier", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), y = e(d.prototype, "aimAmplitudeMultiplier", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), M = e(d.prototype, "maxSwingForceMultiplier", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .3
                }
            }), s = d)) || s));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallEffectDirectionalForceZone.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallEffectZone.ts", "./audioController.ts", "./gameManager.ts", "./CameraNoise.ts"], (function(e) {
    var i, t, o, r, n, a, l, c, u, s, p, d, f, y, h, m, b;
    return {
        setters: [function(e) {
            i = e.applyDecoratedDescriptor, t = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized, n = e.createClass
        }, function(e) {
            a = e.cclegacy, l = e._decorator, c = e.CCFloat, u = e.Node, s = e.clamp01, p = e.lerp
        }, function(e) {
            d = e.BallEffectZone
        }, function(e) {
            f = e.AudioEventType, y = e.AudioController
        }, function(e) {
            h = e.GameManager
        }, function(e) {
            m = e.CameraNoiseSetting, b = e.CameraNoise
        }],
        execute: function() {
            var g, v, F, E, w, S, z, C, N, M, P, _, B, D;
            a._RF.push({}, "eccf4h8KHJEB4w+AelUJ0Wn", "BallEffectDirectionalForceZone", void 0);
            var A = l.ccclass,
                Z = l.property,
                R = l.type;
            e("BallEffectDirectionalForceZone", (g = A("BallEffectDirectionalForceZone"), v = Z(c), F = Z(u), E = R(f), w = Z(m), g((C = i((z = function(e) {
                function i() {
                    for (var i, t = arguments.length, n = new Array(t), a = 0; a < t; a++) n[a] = arguments[a];
                    return i = e.call.apply(e, [this].concat(n)) || this, o(i, "speedMultiplier", C, r(i)), o(i, "applyConstantForce", N, r(i)), o(i, "radialForce", M, r(i)), o(i, "excludeVertical", P, r(i)), o(i, "positionNode", _, r(i)), o(i, "_audioEvent", B, r(i)), o(i, "cameraNoiseSetting", D, r(i)), i
                }
                t(i, e);
                var a = i.prototype;
                return a.onActivateEffect = function(e) {
                    var i;
                    if (this._audioEvent && y.Instance.triggerAudio(this._audioEvent), this.radialForce) this.applyRadialForce(e);
                    else {
                        var t = this.node.worldPosition.subtract(e.node.worldPosition).normalize().clone().multiplyScalar(e.collider.radius);
                        e.applyForce(this.node.forward.clone().normalize().multiplyScalar(-this.speedMultiplier), t)
                    }
                    e.owner.local && (null == (i = this.cameraNoiseSetting) ? void 0 : i.decay) > 0 && h.Instance.currentMode.playerCamera.node.emit(b.cAddCameraNoise, this.cameraNoiseSetting)
                }, a.onUpdateEffect = function(e) {
                    if (this.applyConstantForce)
                        if (this.radialForce) this.applyRadialForce(e);
                        else {
                            var i = this.node.worldPosition.subtract(e.node.worldPosition).normalize().clone().multiplyScalar(e.collider.radius);
                            e.applyForce(this.node.forward.clone().normalize().multiplyScalar(-this.speedMultiplier), i)
                        }
                }, a.applyRadialForce = function(e) {
                    var i = this.node.getWorldPosition();
                    null != this.positionNode && (i = this.positionNode.getWorldPosition());
                    var t = i.clone().subtract(e.node.worldPosition);
                    this.excludeVertical && (t.y = 0);
                    var o = t.length(),
                        r = 1 - s(o / this.collider.boundingSphere.radius),
                        n = p(0, -this.speedMultiplier, r),
                        a = t.clone().multiplyScalar(1 / o),
                        l = a.clone().multiplyScalar(e.collider.radius);
                    Math.abs(n) > 0 && e.applyForce(a.clone().multiplyScalar(n), l)
                }, n(i, [{
                    key: "audioEvent",
                    get: function() {
                        return this._audioEvent
                    },
                    set: function(e) {
                        this._audioEvent = e
                    }
                }]), i
            }(d)).prototype, "speedMultiplier", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .015
                }
            }), N = i(z.prototype, "applyConstantForce", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), M = i(z.prototype, "radialForce", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), P = i(z.prototype, "excludeVertical", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), _ = i(z.prototype, "positionNode", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), i(z.prototype, "audioEvent", [E], Object.getOwnPropertyDescriptor(z.prototype, "audioEvent"), z.prototype), B = i(z.prototype, "_audioEvent", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {}
            }), D = i(z.prototype, "cameraNoiseSetting", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), S = z)) || S));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallEffectJumpPadZone.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CameraNoise.ts", "./audioController.ts", "./BallEffectZone.ts", "./gameManager.ts"], (function(e) {
    var t, i, n, a, o, r, l, u, s, c, d, p, f, m, g, y, b, h, v, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, a = e.assertThisInitialized, o = e.createClass
        }, function(e) {
            r = e.cclegacy, l = e._decorator, u = e.CCFloat, s = e.Node, c = e.Prefab, d = e.Vec3, p = e.instantiate, f = e.Tween, m = e.tween
        }, function(e) {
            g = e.CameraNoiseSetting, y = e.CameraNoise
        }, function(e) {
            b = e.AudioEventType, h = e.AudioController
        }, function(e) {
            v = e.BallEffectZone
        }, function(e) {
            w = e.GameManager
        }],
        execute: function() {
            var A, E, P, C, T, j, N, S, _, B, F, z, R;
            r._RF.push({}, "7fbbenT7whHPbRaUiNM/NRS", "BallEffectJumpPadZone", void 0);
            var J = l.ccclass,
                Z = l.property,
                M = l.type,
                O = e("cOnActivateBallJump", "on-activate-ball-jump-effect");
            e("BallEffectJumpPadZone", (A = J("BallEffectJumpPadZone"), E = Z(u), P = Z(s), C = M(b), T = Z(g), j = Z(c), A((_ = t((S = function(e) {
                function t() {
                    for (var t, i = arguments.length, o = new Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                    return t = e.call.apply(e, [this].concat(o)) || this, n(t, "jumpStength", _, a(t)), n(t, "jumpPadAnimTarget", B, a(t)), n(t, "_audioEvent", F, a(t)), n(t, "onActivateCameraNoiseSetting", z, a(t)), n(t, "ballTrailFX", R, a(t)), t
                }
                return i(t, e), t.prototype.onActivateEffect = function(e) {
                    var t, i, n, a;
                    if (!e.wasJustReset) {
                        this.node.worldPosition.subtract(e.node.worldPosition).normalize();
                        this._audioEvent && h.Instance.triggerAudio(this._audioEvent);
                        var o = this.node.up.clone().multiplyScalar(this.jumpStength),
                            r = !1;
                        if (e.rigidbody) {
                            var l = new d;
                            e.rigidbody.getLinearVelocity(l), l.y = 0, e.rigidbody.setLinearVelocity(l), r = !0
                        }
                        if (e.applyForce(o), console.log("onActivateEffect - pad " + this.node.name + " - target " + (null == (t = e.owner) || null == (i = t.getUser()) ? void 0 : i.username) + " - applying jumpForce " + o + " - resetY " + r), null != (n = this.ballTrailFX) && n.isValid) {
                            var u, s = p(this.ballTrailFX);
                            null != (u = e.fxRoot) && u.isValid ? e.fxRoot.addChild(s) : e.node.addChild(s), s.setWorldPosition(e.node.worldPosition)
                        }
                        if (null != this.jumpPadAnimTarget && (f.stopAllByTarget(this.jumpPadAnimTarget), m(this.jumpPadAnimTarget).set({
                                position: new d(0, .01, 0)
                            }).to(.85, {
                                position: new d(0, .5, 0)
                            }, {
                                easing: "elasticOut"
                            }).to(.2, {
                                position: new d(0, .01, 0)
                            }, {
                                easing: "quadInOut"
                            }).start()), e.owner.local && (null == (a = this.onActivateCameraNoiseSetting) ? void 0 : a.decay) > 0) w.Instance.currentMode.playerCamera.node.emit(y.cAddCameraNoise, this.onActivateCameraNoiseSetting);
                        this.node.emit(O, this)
                    }
                }, o(t, [{
                    key: "audioEvent",
                    get: function() {
                        return this._audioEvent
                    },
                    set: function(e) {
                        this._audioEvent = e
                    }
                }]), t
            }(v)).prototype, "jumpStength", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 100
                }
            }), B = t(S.prototype, "jumpPadAnimTarget", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), t(S.prototype, "audioEvent", [C], Object.getOwnPropertyDescriptor(S.prototype, "audioEvent"), S.prototype), F = t(S.prototype, "_audioEvent", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {}
            }), z = t(S.prototype, "onActivateCameraNoiseSetting", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), R = t(S.prototype, "ballTrailFX", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), N = S)) || N));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallEffectRadialForceZone.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallEffectZone.ts", "./audioController.ts", "./gameManager.ts", "./CameraNoise.ts"], (function(e) {
    var t, i, o, r, a, n, l, c, u, s, p, d, f, y;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized, a = e.createClass
        }, function(e) {
            n = e.cclegacy, l = e._decorator, c = e.CCFloat
        }, function(e) {
            u = e.BallEffectZone
        }, function(e) {
            s = e.AudioEventType, p = e.AudioController
        }, function(e) {
            d = e.GameManager
        }, function(e) {
            f = e.CameraNoiseSetting, y = e.CameraNoise
        }],
        execute: function() {
            var m, h, v, g, b, E, F, w, C, S, z;
            n._RF.push({}, "2a762mfuyhNv6IHYb5V2UWy", "BallEffectRadialForceZone", void 0);
            var M = l.ccclass,
                _ = l.property,
                N = l.type;
            e("BallEffectRadialForceZone", (m = M("BallEffectRadialForceZone"), h = _(c), v = N(s), g = _(f), m((F = t((E = function(e) {
                function t() {
                    for (var t, i = arguments.length, a = new Array(i), n = 0; n < i; n++) a[n] = arguments[n];
                    return t = e.call.apply(e, [this].concat(a)) || this, o(t, "speedMultiplier", F, r(t)), o(t, "applyConstantForce", w, r(t)), o(t, "radialForce", C, r(t)), o(t, "_audioEvent", S, r(t)), o(t, "cameraNoiseSetting", z, r(t)), t
                }
                i(t, e);
                var n = t.prototype;
                return n.onActivateEffect = function(e) {
                    var t, i = this.node.worldPosition.subtract(e.node.worldPosition).normalize(),
                        o = i.clone().multiplyScalar(e.collider.radius);
                    (this._audioEvent && p.Instance.triggerAudio(this._audioEvent), this.radialForce ? e.applyForce(i.clone().multiplyScalar(-this.speedMultiplier), o) : e.applyForce(this.node.forward.clone().normalize().multiplyScalar(-this.speedMultiplier), o), e.owner.local && (null == (t = this.cameraNoiseSetting) ? void 0 : t.decay) > 0) && d.Instance.currentMode.playerCamera.node.emit(y.cAddCameraNoise, this.cameraNoiseSetting)
                }, n.onUpdateEffect = function(e) {
                    if (this.applyConstantForce) {
                        var t = this.node.worldPosition.subtract(e.node.worldPosition).normalize(),
                            i = t.clone().multiplyScalar(e.collider.radius);
                        this.radialForce ? e.applyForce(t.clone().multiplyScalar(-this.speedMultiplier), i) : e.applyForce(this.node.forward.clone().normalize().multiplyScalar(-this.speedMultiplier), i)
                    }
                }, a(t, [{
                    key: "audioEvent",
                    get: function() {
                        return this._audioEvent
                    },
                    set: function(e) {
                        this._audioEvent = e
                    }
                }]), t
            }(u)).prototype, "speedMultiplier", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .015
                }
            }), w = t(E.prototype, "applyConstantForce", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), C = t(E.prototype, "radialForce", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), t(E.prototype, "audioEvent", [v], Object.getOwnPropertyDescriptor(E.prototype, "audioEvent"), E.prototype), S = t(E.prototype, "_audioEvent", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {}
            }), z = t(E.prototype, "cameraNoiseSetting", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), b = E)) || b));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallEffectSlowZone.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallEffectZone.ts"], (function(e) {
    var l, t, o, c, n;
    return {
        setters: [function(e) {
            l = e.inheritsLoose
        }, function(e) {
            t = e.cclegacy, o = e._decorator, c = e.Vec3
        }, function(e) {
            n = e.BallEffectZone
        }],
        execute: function() {
            var r;
            t._RF.push({}, "54566CDRQlDI6l/DhEZzO8G", "BallEffectSlowZone", void 0);
            var a = o.ccclass;
            o.property, e("BallEffectSlowZone", a("BallEffectSlowZone")(r = function(e) {
                function t() {
                    return e.apply(this, arguments) || this
                }
                return l(t, e), t.prototype.onActivateEffect = function(e) {
                    var l, t = new c;
                    null == (l = e.rigidbody) || l.getLinearVelocity(t);
                    var o = t.clone().normalize().multiplyScalar(-e.collider.radius);
                    e.applyForce(t.multiplyScalar(.015 * -e.maxForce), o)
                }, t
            }(n)) || r);
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallEffectZone.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./BallHandlerStatusEffects.ts"], (function(t) {
    var e, n, l, o, i, r, a, c;
    return {
        setters: [function(t) {
            e = t.inheritsLoose, n = t.createClass
        }, function(t) {
            l = t.cclegacy, o = t._decorator, i = t.Collider, r = t.Component
        }, function(t) {
            a = t.BallHandler
        }, function(t) {
            c = t.cOnVfxAttachedToBallHandler
        }],
        execute: function() {
            var s;
            l._RF.push({}, "c4306idAglMMKmI2QQ0pOYS", "BallEffectZone", void 0);
            var f = o.ccclass;
            o.property, t("BallEffectZone", f("BallEffectZone")(s = function(t) {
                function l() {
                    for (var e, n = arguments.length, l = new Array(n), o = 0; o < n; o++) l[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(l)) || this)._collider = void 0, e._parentBallHandler = void 0, e
                }
                e(l, t);
                var o = l.prototype;
                return o.onLoad = function() {
                    this.node.parent.on(c, this.onAttachToBallHandler.bind(this))
                }, o.start = function() {
                    this._collider = this.node.getComponent(i), this._collider && (this._collider.on("onTriggerEnter", this.onTriggerEnter, this), this._collider.on("onTriggerExit", this.onTriggerExit, this), this._collider.on("onTriggerStay", this.onTriggerStay, this))
                }, o.onAttachToBallHandler = function(t) {
                    this._parentBallHandler = t
                }, o.onTriggerEnter = function(t) {
                    if (t.selfCollider == this._collider) {
                        var e = t.otherCollider.node.getComponent(a);
                        null != e && e != this._parentBallHandler && this.onActivateEffect(e, t)
                    }
                }, o.onTriggerExit = function(t) {
                    if (t.selfCollider == this._collider) {
                        var e = t.otherCollider.node.getComponent(a);
                        null != e && e != this._parentBallHandler && this.onDeactivateEffect(e, t)
                    }
                }, o.onTriggerStay = function(t) {
                    if (t.selfCollider == this._collider) {
                        var e = t.otherCollider.node.getComponent(a);
                        null != e && e != this._parentBallHandler && this.onUpdateEffect(e, t)
                    }
                }, o.onActivateEffect = function(t, e) {}, o.onDeactivateEffect = function(t, e) {}, o.onUpdateEffect = function(t, e) {}, n(l, [{
                    key: "collider",
                    get: function() {
                        return this._collider
                    }
                }]), l
            }(r)) || s);
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallHandler.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./audioController.ts", "./Hole.ts", "./BallHandlerStatusEffects.ts", "./physics.ts", "./BallBoundsCheck.ts", "./CameraNoise.ts", "./utils.ts"], (function(t) {
    var i, e, o, n, s, a, l, r, h, c, d, u, m, f, p, g, y, w, _, b, v, P, C, S, H, T, M, A, F, I, B, E, O, k, W, D, R, x, z, L, X, V, N;
    return {
        setters: [function(t) {
            i = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized, s = t.createClass
        }, function(t) {
            a = t.cclegacy, l = t._decorator, r = t.Node, h = t.ParticleSystemComponent, c = t.Prefab, d = t.CCFloat, u = t.CCInteger, m = t.Material, f = t.Vec3, p = t.SphereCollider, g = t.RigidBody, y = t.MeshRenderer, w = t.Tween, _ = t.instantiate, b = t.PhysicsSystem, v = t.geometry, P = t.Quat, C = t.clamp, S = t.math, H = t.Vec2, T = t.view, M = t.EventMouse, A = t.Color, F = t.input, I = t.Input, B = t.tween, E = t.easing, O = t.Component
        }, function(t) {
            k = t.GameManager
        }, function(t) {
            W = t.AudioController, D = t.AudioEventType
        }, function(t) {
            R = t.cEnteredHole
        }, function(t) {
            x = t.BallHandlerStatusEffects
        }, function(t) {
            z = t.PhysicsGroups
        }, function(t) {
            L = t.BallBoundsCheck
        }, function(t) {
            X = t.CameraNoiseSetting, V = t.CameraNoise
        }, function(t) {
            N = t.isMobile
        }],
        execute: function() {
            var G, U, Z, Q, J, K, Y, j, q, $, tt, it, et, ot, nt, st, at, lt, rt, ht, ct, dt, ut, mt, ft, pt, gt, yt, wt, _t, bt, vt, Pt, Ct, St, Ht, Tt, Mt, At, Ft;
            a._RF.push({}, "f7aa2YfX+BGOof03lphoRsL", "BallHandler", void 0);
            var It = l.ccclass,
                Bt = l.property,
                Et = t("cOnHandlerStartAim", "on-handler-start-aim"),
                Ot = t("cOnHandlerReleaseAim", "on-handler-release-aim"),
                kt = t("cOnHandlerCancelAim", "on-handler-cancel-aim"),
                Wt = t("cOnHandlerBallHit", "on-handler-ball-hit"),
                Dt = t("cOnBallStop", "on-handler-ball-stop"),
                Rt = t("cOnControlsEnabled", "on-handler-controls-enabled"),
                xt = t("cOnControlsDisabled", "on-handler-controls-disabled"),
                zt = t("BallState", function(t) {
                    return t[t.Idle = 0] = "Idle", t[t.InMotion = 1] = "InMotion", t
                }({})),
                Lt = t("DisableControlsReason", function(t) {
                    return t[t.FinishedHole = 0] = "FinishedHole", t[t.PowerupActive = 1] = "PowerupActive", t[t.StartedMoving = 2] = "StartedMoving", t[t.UIScreen = 3] = "UIScreen", t
                }({}));
            t("BallHandler", (G = It("BallHandler"), U = Bt(r), Z = Bt(h), Q = Bt(c), J = Bt(c), K = Bt(c), Y = Bt(c), j = Bt(c), q = Bt(r), $ = Bt(r), tt = Bt(r), it = Bt(r), et = Bt(h), ot = Bt(d), nt = Bt(u), st = Bt(d), at = Bt(X), lt = Bt(m), G((ct = i((ht = function(t) {
                function i() {
                    for (var i, e = arguments.length, s = new Array(e), a = 0; a < e; a++) s[a] = arguments[a];
                    return (i = t.call.apply(t, [this].concat(s)) || this)._isAiming = !1, i._rigidbody = null, i._sphereCollider = void 0, i._color = void 0, i._local = void 0, i._lastSafePosition = void 0, i._lastWallSfx = 0, i._waypoints = [], i._wasJustResetHandle = -1, i.owner = null, i.inHole = !1, i.inHoleName = null, i._state = zt.Idle, i._idleTime = 0, i._simTime = 0, i._posLastFrame = void 0, i._rewindActive = !1, i.teleporterCooldown = !1, i.controlsEnabled = !1, i.aimWidget = null, o(i, "ballVisual", ct, n(i)), o(i, "maxForce", dt, n(i)), o(i, "maxSpeed", ut, n(i)), o(i, "trail", mt, n(i)), o(i, "hitBallFx", ft, n(i)), o(i, "ballInHoleFX", pt, n(i)), o(i, "holeInOneFX", gt, n(i)), o(i, "wallHitFX", yt, n(i)), o(i, "floorHitFX", wt, n(i)), o(i, "fallHitThreshold", _t, n(i)), o(i, "fxRoot", bt, n(i)), o(i, "shadowQuad", vt, n(i)), o(i, "seeThroughVisual", Pt, n(i)), o(i, "ballPickingCollider", Ct, n(i)), o(i, "startTurnPFX", St, n(i)), o(i, "groundDistanceCheck", Ht, n(i)), i._groundDistance = 0, i._groundNormal = new f(0, 1, 0), o(i, "cameraZoomOutThreshold", Tt, n(i)), o(i, "cameraZoomOutSpeed", Mt, n(i)), o(i, "hardHitCameraNoiseSetting", At, n(i)), o(i, "localPlayerMaterial", Ft, n(i)), i.startPosition = new f(0, 0, 0), i.endPosition = new f(0, 0, 0), i._defaultBallMaterial = null, i._defaultLinearDampening = void 0, i._lastMousePos = void 0, i._physicsMaterialStack = [], i._currentWallHitFX = null, i._statusEffects = void 0, i._inAir = !1, i._animating = !1, i
                }
                e(i, t);
                var a = i.prototype;
                return a.getRadius = function() {
                    return this._sphereCollider.radius * this.node.scale.x
                }, a.onLoad = function() {
                    this._sphereCollider = this.getComponent(p), this._rigidbody = this.getComponent(g), this._rigidbody.useCCD = !0, this._rigidbody.allowSleep = !1, this._defaultLinearDampening = this._rigidbody.linearDamping, this._lastSafePosition = this.node.worldPosition.clone(), this._physicsMaterialStack.push({
                        material: this._sphereCollider.material,
                        wallHitFX: this.wallHitFX
                    }), this._currentWallHitFX = this.wallHitFX, this._statusEffects = this.getComponent(x), this._defaultBallMaterial = this.ballVisual.getComponent(y).getMaterial(0), this.ballPickingCollider.scale = N() ? new f(1.5, 1.5, 1.5) : f.ONE.clone()
                }, a.start = function() {
                    this._sphereCollider.on("onCollisionEnter", this.onCollision, this), this.node.on(R, this.onEnterHole, this)
                }, a.onDestroy = function() {
                    w.stopAllByTarget(this.node)
                }, a.startLevel = function(t) {
                    this.maxForce = t.maxBallForce
                }, a.resetHole = function() {
                    this.inHole = !1, this.inHoleName = null
                }, a.onCollision = function(t) {
                    var i = this,
                        e = !1,
                        o = !1,
                        n = Date.now();
                    if (!t.otherCollider.isTrigger) {
                        var s = 0,
                            a = null,
                            l = new f,
                            r = new f;
                        this._rigidbody.getLinearVelocity(r);
                        var h = r.length();
                        if (n - this._lastWallSfx > 100) {
                            if (t.contacts.forEach((function(t) {
                                    var n = new f;
                                    t.isBodyA ? (t.getWorldNormalOnB(n), t.getWorldPointOnA(l)) : (t.getWorldNormalOnA(n), t.getWorldPointOnB(l)), (s = f.dot(f.UP, n)) >= -.1 && s <= .1 && (e = !0, a = n, i._waypoints.push(i.node.worldPosition.clone())), s > 0 && n && (f.dot(new f(0, 1, 0), r.clone().normalize()), o = !0)
                                })), e) {
                                if (h > 2) {
                                    var c = _(this.currentWallHitFX);
                                    c.setWorldPosition(l), c.forward = a, this.node.scene.addChild(c), this._lastWallSfx = n
                                }(t.selfCollider.material && t.selfCollider.material.restitution < .01 || t.otherCollider.material && t.otherCollider.material.restitution < .01) && this.haltMotion()
                            }
                            if (this._inAir && o && null != this.floorHitFX) {
                                var d = _(this.floorHitFX);
                                d.setWorldPosition(l), this.node.scene.addChild(d), W.Instance.triggerAudio(D.evtBallHitGround), this._lastWallSfx = n, this._inAir = !1
                            }
                        }
                    }
                }, a.onEnterHole = function(t, i) {
                    this.inHole = !0, this.inHoleName = i.name, this._waypoints = [], this._inAir = !1;
                    var e = t.state.strokes <= 1 ? this.holeInOneFX : this.ballInHoleFX,
                        o = t.state.strokes <= 1 ? D.evtHoleInOne : D.evtPlayerScore,
                        n = _(e);
                    n.setWorldPosition(i.worldPosition), this.node.scene.addChild(n), W.Instance && W.Instance.triggerAudio(o), this.node.emit(Dt, this), this.owner && this.owner.localState.golfPlayer && this.owner.localState.golfPlayer.statusEffects.suspendActiveStatusEffects()
                }, a.resetPosition = function(t, i) {
                    var e = this,
                        o = this.getHoleForPosition(this._lastSafePosition);
                    o != i ? (console.warn("resetPosition last safe on wrong hole " + this._lastSafePosition + " hole " + o + " - cur hole " + i + " spawn " + t), this.node.worldPosition = t.clone()) : this.node.worldPosition = this._lastSafePosition.clone(), -1 == this._wasJustResetHandle && (this._wasJustResetHandle = setTimeout((function() {
                        e._wasJustResetHandle >= 0 && (e._wasJustResetHandle = -1)
                    }), 1e3)), this._waypoints = []
                }, a.haltMotion = function() {
                    this.stop(), this.rigidbody.clearVelocity(), this.rigidbody.clearForces()
                }, a.stop = function() {
                    this.state = zt.Idle, this._simTime = 0, this.owner && this.owner.local && (this.owner.state.pos = this.node.worldPosition, this.owner.state.vel = f.ZERO, this.owner.localState.golfPlayer.SendCorrection(this.node.worldPosition, f.ZERO), this.owner.stateUpdated()), this.updateBallColor(), this.node.emit(Dt, this)
                }, a.clampMaxSpeed = function() {
                    var t = this;
                    setTimeout((function() {
                        if (t.rigidbody) {
                            var i = new f;
                            t.rigidbody.getLinearVelocity(i), i.length() > t.maxSpeed && (i = i.normalize().multiplyScalar(t.maxSpeed), t.rigidbody.setLinearVelocity(i))
                        }
                    }), 10)
                }, a.applyForce = function(t, i) {
                    var e = 1 / 60 / b.instance.fixedTimeStep,
                        o = t.clone().multiplyScalar(e);
                    this.rigidbody.applyForce(o, i), this.clampMaxSpeed(), this.inHole || this._waypoints.push(this.node.worldPosition.clone())
                }, a.update = function(t) {
                    this._simTime += t;
                    var i = this.node.worldPosition,
                        e = i.clone().subtract(this._posLastFrame),
                        o = v.Ray.create();
                    v.Ray.fromPoints(o, this.node.worldPosition.clone().add(new f(0, .5, 0)), this.node.worldPosition.clone().add(new f(0, -1, 0)));
                    var n = b.instance.raycastClosest(o, z.CourseGround, this.groundDistanceCheck);
                    if (this._groundDistance = this.groundDistanceCheck, n) {
                        var s = b.instance.raycastClosestResult;
                        this._groundDistance = s.distance - .5, this._groundNormal = s.hitNormal
                    } else this._groundNormal = new f(0, 1, 0), this._groundDistance = this.groundDistanceCheck;
                    if (this.state == zt.InMotion) {
                        var a = new f;
                        if (this.rigidbody.getLinearVelocity(a), a.normalize(), this.fxRoot && this.fxRoot.lookAt(this.node.position.subtract(a), f.UP), this._simTime > 2 && e.length() <= .005)
                            if (this._idleTime <= 0) this._idleTime = Date.now();
                            else if (Date.now() - this._idleTime >= .5) {
                            this.stop(), this._idleTime = 0;
                            var l = k.Instance.currentMode,
                                r = this.getHoleForPosition(this.node.worldPosition);
                            l.performHoleCheck && (r < 0 || r != l.currentHole) ? this.resetPosition(l.GetSpawnPoint(), l.currentHole) : this.setLastSafePosition()
                        }
                        this._inAir || (this._inAir = !n)
                    } else this.state == zt.Idle && e.length() > .1 && !this.inHole && !this.rigidbody.isKinematic && (this.internalStartSim(), this.disableControls(Lt.StartedMoving));
                    var h = this._posLastFrame.clone().subtract(i),
                        c = h.clone().normalize().cross(new f(0, 1, 0)),
                        d = this.collider.radius * this.node.scale.x * 2 * Math.PI,
                        u = h.length() / d * 360 * .01745329,
                        m = P.IDENTITY.clone();
                    P.rotateAround(m, P.IDENTITY.clone(), c.normalize(), u), this.ballVisual.rotate(m, 1), this._posLastFrame = i.clone();
                    var p = this._sphereCollider.radius * this.node.scale.y;
                    if (null != this.shadowQuad) {
                        var g = this.node.getWorldPosition(),
                            y = C((5 - (this._groundDistance - p)) / 5, 0, 1),
                            w = g.y - p + .02;
                        g.y = w, this.shadowQuad.setWorldPosition(g), this.shadowQuad.setScale(y, y, y), this.shadowQuad.forward = f.lerp(new f, this.shadowQuad.forward, this._groundNormal.negative(), .2).normalize()
                    }
                    if (this._isAiming && this._lastMousePos) {
                        if (!N() && this._lastMousePos.y < this.cameraZoomOutThreshold) {
                            var _, S = this.aimWidget.GetEndPosition();
                            if (k.Instance.currentCamera.worldToScreen(S).y < this.cameraZoomOutThreshold)(null == (_ = this.owner) ? void 0 : _.localState.golfPlayer).playerCamera.changeZoom(this.cameraZoomOutSpeed)
                        }
                        this.updateAim(this._lastMousePos)
                    }
                }, a.updateAim = function(t) {
                    var i = k.Instance.currentCamera.screenPointToRay(t.x, t.y),
                        e = new v.Plane(0, 1, 0, this.aimWidget.node.position.y),
                        o = v.intersect.rayPlane(i, e),
                        n = new f(0, 0, 0);
                    i.computeHit(n, o), this.aimWidget.UpdateAim(this.node.worldPosition, n)
                }, a.onMove = function(t) {
                    this._isAiming && (this._lastMousePos = t)
                }, a.onTouchMove = function(t) {
                    this.onMove(t.getLocation())
                }, a.shootBall = function(t) {
                    this.applyForceVector(t, null, !0, !0)
                }, a.applyForceVector = function(t, i, e, o) {
                    var n;
                    void 0 === i && (i = null), void 0 === e && (e = !0), void 0 === o && (o = !1);
                    var s = 1 / 60 / b.instance.fixedTimeStep,
                        a = t.clone().multiplyScalar(s);
                    o && (this._waypoints = []), this._waypoints.push(this.node.worldPosition.clone());
                    var l = a.clone().normalize().multiplyScalar(-this._sphereCollider.radius);
                    if (this._rigidbody.applyForce(a, l), this.clampMaxSpeed(), this.state = zt.InMotion, this._simTime = 0, this.updateBallColor(), null != (n = this.owner) && n.local && e) {
                        var r = i || this.hitBallFx;
                        if (null != r) {
                            var h = _(r);
                            this.node.scene.addChild(h), h.setWorldPosition(this.node.worldPosition), h.forward = a.normalize()
                        }
                        var c = this.owner.localState.golfPlayer;
                        c && c.GetBallHitAudio() ? c.GetBallHitAudio().Activate() : W.Instance.triggerAudio(D.evtPlayerHitBall)
                    }
                }, a.internalStartSim = function() {
                    this._state == zt.Idle && (this.state = zt.InMotion, this._simTime = 0, this.updateBallColor())
                }, a.cancelAim = function() {
                    this._isAiming && (this._isAiming = !1, this.aimWidget.EndAim(), this.node.emit(kt, this)), k.Instance.cameraBrain.AllowedToControlCamera = !0
                }, a.onUp = function() {
                    if (this._isAiming) {
                        if (!this.aimWidget.telportMode) {
                            var t = this.aimWidget.GetPower(),
                                i = t.length();
                            if (i > this.aimWidget.minForce) {
                                if (this.aimWidget.isZany && t.normalize().multiplyScalar(S.lerp(.5, 1, i)), this.setLastSafePosition(), k.Instance.QueueLocalPlayerMove(t.multiplyScalar(-1 * this.maxForce * (1 + this._statusEffects.hitForceMultiplier))), this.hardHitCameraNoiseSetting && i > .85) k.Instance.currentMode.playerCamera.node.emit(V.cAddCameraNoise, this.hardHitCameraNoiseSetting);
                                this.node.emit(Wt, this)
                            } else this.node.emit(kt, this)
                        }
                        this._isAiming = !1, this.aimWidget.EndAim(), this.node.emit(Ot, this)
                    }
                    k.Instance.cameraBrain.AllowedToControlCamera = !0
                }, a.onTouchUp = function(t) {
                    0 == t.getAllTouches().length && (this.onUp(), t.bubbles = !0)
                }, a.onDown = function(t) {
                    if (k.Instance.currentMode.GetControlsEnabled() && this.areControlsEnabled && this.state == zt.Idle && null != this.aimWidget) {
                        var i = k.Instance.currentCamera.screenPointToRay(t.x, t.y);
                        b.instance.raycastClosest(i, z.BallPick) && (this._isAiming = !0, this._lastMousePos = t, this.aimWidget.StartAim(this.node.worldPosition), k.Instance.cameraBrain.AllowedToControlCamera = !1, this.startTurnPFX.rateOverTime.constant = 0, this.node.emit(Et, this))
                    }
                }, a.onTouchDown = function(t) {
                    if (null != this.aimWidget) {
                        var i = t.getAllTouches();
                        if (1 == i.length) {
                            var e = new H;
                            i[0].getLocation(e);
                            var o = T.getViewportRect(),
                                n = (e.x, o.width, e.y, o.height, k.Instance.currentCamera.screenPointToRay(e.x, e.y));
                            b.instance.raycastClosest(n, z.BallPick) && (k.Instance.cameraBrain.AllowedToControlCamera = !1, k.Instance.currentMode.GetControlsEnabled() && this.areControlsEnabled && this.state == zt.Idle && (this._isAiming = !0, this._lastMousePos = e, this.aimWidget.StartAim(this.node.worldPosition), this.startTurnPFX.rateOverTime.constant = 0, this.node.emit(Et, this)))
                        } else i.length > 1 && (this._isAiming = !1, this.aimWidget.EndAim(), k.Instance.cameraBrain.AllowedToControlCamera = !0);
                        t.bubbles = !1
                    }
                }, a.onMouseDown = function(t) {
                    t.getButton() == M.BUTTON_LEFT ? this.onDown(t.getLocation()) : t.getButton() == M.BUTTON_RIGHT && this._isAiming && (this.cancelAim(), t.bubbles = !0), t.bubbles = !0
                }, a.getHoleForPosition = function(t) {
                    var i = t,
                        e = (this.collider.radius, v.Ray.create());
                    if (v.Ray.fromPoints(e, i.clone().add(new f(0, 1, 0)), i.clone().add(new f(0, -3, 0))), !b.instance.raycastClosest(e, z.CourseGround, 10)) return -1;
                    var o = b.instance.raycastClosestResult.collider.getComponent(L);
                    return o ? o.hole <= -1 ? k.Instance.currentMode.currentHole : o.hole : -1
                }, a.setLastSafePosition = function() {
                    var t = this.node.worldPosition.clone(),
                        i = this.getHoleForPosition(t),
                        e = k.Instance.currentMode;
                    i != e.currentHole ? this.getHoleForPosition(this._lastSafePosition) != e.currentHole && (this._lastSafePosition = e.GetSpawnPoint().clone()) : this._lastSafePosition = t
                }, a.setOverrideBallMaterial = function(t) {
                    var i = this.ballVisual.getComponent(y);
                    if (i) {
                        var e = new m;
                        e.copy(t), i.setMaterialInstance(e, 0), this.updateBallColor()
                    }
                }, a.clearOverrideBallMaterial = function() {
                    var t = this.ballVisual.getComponent(y);
                    if (t) {
                        var i = new m;
                        i.copy(this._defaultBallMaterial), t.setMaterialInstance(i, 0), this.updateBallColor()
                    }
                }, a.updateBallColor = function() {
                    var t, i = this.ballVisual.getComponent(y);
                    if (null != i && this._color) {
                        var e = i.getMaterialInstance(0),
                            o = this._color,
                            n = new A(o.r, o.g, o.b, 255);
                        this._local || this.state != zt.Idle || (n.a = 128), e.setProperty("mainColor", n), this.node.setSiblingIndex(this._local ? 1e3 : 0)
                    }
                    this.seeThroughVisual && (this.seeThroughVisual.active = null == (t = this.owner) ? void 0 : t.local)
                }, a.enableControls = function() {
                    var t;
                    !this.controlsEnabled && null != (t = this.node) && t.isValid && (this.state != zt.Idle && console.warn("enabling controls while ball is not idle. " + (new Error).stack), this.controlsEnabled = !0, null != this.startTurnPFX && this.state == zt.Idle && W.Instance.triggerAudio(D.evtPlayerStartTurn, this.node.worldPosition), this.owner && (this.owner.localState.golfPlayer.playerCamera.node.active = !0), this.node.emit(Rt))
                }, a.disableControls = function(t) {
                    this.controlsEnabled && (this.controlsEnabled = !1, this.startTurnPFX, this.node.emit(xt, t))
                }, a.setOwner = function(t, i, e) {
                    var o = !1;
                    if (this.owner = t, this.owner.local && (N() || F.on(I.EventType.MOUSE_DOWN, this.onMouseDown, this), F.on(I.EventType.TOUCH_START, this.onTouchDown, this), F.on(I.EventType.TOUCH_END, this.onTouchUp, this), F.on(I.EventType.TOUCH_MOVE, this.onTouchMove, this), this._defaultBallMaterial = this.localPlayerMaterial, this.setOverrideBallMaterial(this.localPlayerMaterial)), null == t.state.pos) this.node.worldPosition = k.Instance.getSpawnPoint(t), t.state.pos = this.node.worldPosition, t.state.vel = f.ZERO, t.state.timeouts = 0, o = !0;
                    else if (this.node.worldPosition = t.state.pos, t.state.vel) {
                        var n, s = new f(t.state.vel.x, t.state.vel.y, t.state.vel.z);
                        null == (n = this._rigidbody) || n.setLinearVelocity(s), s.length() > 0 && (this.state = zt.InMotion)
                    }
                    return this._posLastFrame = this.node.worldPosition, this._color = e, this._local = t.local, this.updateBallColor(), this.controlsEnabled = i, o
                }, a.setWorldPosition = function(t) {
                    this.node && (this.node.worldPosition = t, this.setLastSafePosition(), this.inHole || this._waypoints.push(this.node.worldPosition.clone()))
                }, a.animateTo = function(t, i, e) {
                    var o = this;
                    this.node && this.node.isValid && (this.controlsEnabled = !1, this.startPosition = this.node.worldPosition.clone(), this.endPosition = t.clone(), this.state, zt.InMotion, this._rigidbody.isKinematic = !0, this._inAir = !1, this._animating = !0, B(this.node).by(i, {
                        scale: new f(0, 0, 0)
                    }, {
                        progress: this.animateDo.bind(this)
                    }).call((function() {
                        o.node.setWorldPosition(t), o._rigidbody.isKinematic = !1, o._animating = !1, o._waypoints = [], o.startTurnPFX, o.state = zt.Idle, o.setLastSafePosition(), e && e()
                    })).start(), W.Instance.triggerAudio(D.evtBounceToNextHole))
                }, a.animateDo = function(t, i, e, o) {
                    var n = E.circOut(o),
                        s = new f(0, 0, 0);
                    f.lerp(s, this.startPosition, this.endPosition, n), s.y = S.lerp(s.y, this.endPosition.y, o);
                    var a = .3,
                        l = 0;
                    if (o < a) l = E.circOut(o / a);
                    else {
                        var r = (o - a) / .7;
                        l = 1 - E.bounceOut(r)
                    }
                    return this.node.setWorldPosition(s.add(new f(0, 6 * l, 0))), t + (i - t) * o
                }, a.hasReversePath = function() {
                    return this._waypoints.length > 0
                }, a.reversePath = function(t) {
                    var i = this;
                    if (!(this._waypoints.length <= 0)) {
                        this._rewindActive = !0;
                        var e = this.controlsEnabled;
                        this.disableControls(Lt.PowerupActive), this.collider.setGroup(z.GhostBall);
                        var o = this.node.worldPosition.clone();
                        this._rigidbody.isKinematic = !0;
                        for (var n = this._waypoints[0].clone(), s = B(this.node).to(.01, {
                                position: o
                            }), a = Math.min(this._waypoints.length, 20) - 1; a >= 0; a--) {
                            var l = f.distance(o, this._waypoints[a]);
                            s.to(l / 50, {
                                position: this._waypoints[a]
                            }), o = this._waypoints[a]
                        }
                        s.call((function() {
                            var o;
                            null != (o = i.node) && o.isValid && (i.node.setWorldPosition(n), i._waypoints = [], i.haltMotion(), i._rigidbody.isKinematic = !1, i.startTurnPFX, e && i.enableControls(), i._rewindActive = !1, i.collider.setGroup(z.Ball), t && t())
                        })), s.start()
                    }
                }, a.ApplyCorrection = function(t, i) {
                    if (this.owner && !this.owner.local && (this._state == zt.Idle && i.length() > 0 && this.internalStartSim(), this._rigidbody)) {
                        var e = new f;
                        this._rigidbody.getLinearVelocity(e), e.normalize();
                        var o = i.clone().normalize();
                        f.dot(e, o) < .9 && (this.node.worldPosition = t, this._rigidbody.setLinearVelocity(i))
                    }
                }, a.HandleStatusEffectEvent = function(t) {
                    this._statusEffects && this._statusEffects.HandleStatusEffectEvent(t)
                }, a.getCurrentState = function() {
                    var t = new f;
                    return this._rigidbody && this._rigidbody.getLinearVelocity(t), this.node ? {
                        vel: t,
                        pos: this.node.worldPosition
                    } : {
                        vel: t,
                        pos: f.ZERO
                    }
                }, a.pushPhysicsMaterial = function(t, i) {
                    i = i || this.wallHitFX, this._physicsMaterialStack.push({
                        material: t,
                        wallHitFX: i
                    }), this._sphereCollider.material = t, this._currentWallHitFX = i
                }, a.popPhysicsMaterial = function(t) {
                    for (var i = this._physicsMaterialStack.length - 1; i >= 0; --i)
                        if (this._physicsMaterialStack[i].material == t) return this._physicsMaterialStack.splice(i, 1), void(this._physicsMaterialStack.length <= 0 ? console.error("Default Ball material was removed from the physics material stack... this should never happen") : (this._sphereCollider.material = this._physicsMaterialStack[this._physicsMaterialStack.length - 1].material, this._currentWallHitFX = this._physicsMaterialStack[this._physicsMaterialStack.length - 1].wallHitFX))
                }, s(i, [{
                    key: "rigidbody",
                    get: function() {
                        return this._rigidbody
                    }
                }, {
                    key: "collider",
                    get: function() {
                        return this._sphereCollider
                    }
                }, {
                    key: "color",
                    get: function() {
                        return this._color
                    }
                }, {
                    key: "wasJustReset",
                    get: function() {
                        return this._wasJustResetHandle >= 0
                    }
                }, {
                    key: "state",
                    get: function() {
                        return this._state
                    },
                    set: function(t) {
                        this._state = t
                    }
                }, {
                    key: "posLastFrame",
                    get: function() {
                        return this._posLastFrame
                    }
                }, {
                    key: "rewindActive",
                    get: function() {
                        return this._rewindActive
                    }
                }, {
                    key: "isInvulnerable",
                    get: function() {
                        return this._statusEffects.ghostModeActive || this._rewindActive
                    }
                }, {
                    key: "InAir",
                    get: function() {
                        return this._inAir
                    }
                }, {
                    key: "animating",
                    get: function() {
                        return this._animating
                    }
                }, {
                    key: "areControlsEnabled",
                    get: function() {
                        return this.controlsEnabled && !this._rigidbody.isKinematic
                    }
                }, {
                    key: "currentWallHitFX",
                    get: function() {
                        return this._currentWallHitFX
                    }
                }, {
                    key: "defaultLinearDampening",
                    get: function() {
                        return this._defaultLinearDampening
                    }
                }]), i
            }(O)).prototype, "ballVisual", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), dt = i(ht.prototype, "maxForce", [Bt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1e3
                }
            }), ut = i(ht.prototype, "maxSpeed", [Bt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 65
                }
            }), mt = i(ht.prototype, "trail", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), ft = i(ht.prototype, "hitBallFx", [Q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), pt = i(ht.prototype, "ballInHoleFX", [J], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), gt = i(ht.prototype, "holeInOneFX", [K], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), yt = i(ht.prototype, "wallHitFX", [Y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), wt = i(ht.prototype, "floorHitFX", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _t = i(ht.prototype, "fallHitThreshold", [Bt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), bt = i(ht.prototype, "fxRoot", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), vt = i(ht.prototype, "shadowQuad", [$], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Pt = i(ht.prototype, "seeThroughVisual", [tt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ct = i(ht.prototype, "ballPickingCollider", [it], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), St = i(ht.prototype, "startTurnPFX", [et], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ht = i(ht.prototype, "groundDistanceCheck", [ot], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 5
                }
            }), Tt = i(ht.prototype, "cameraZoomOutThreshold", [nt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 60
                }
            }), Mt = i(ht.prototype, "cameraZoomOutSpeed", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 50
                }
            }), At = i(ht.prototype, "hardHitCameraNoiseSetting", [at], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ft = i(ht.prototype, "localPlayerMaterial", [lt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), rt = ht)) || rt));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BallHandlerStatusEffects.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./physics.ts", "./GolfMode.ts", "./BallHandler.ts", "./gameManager.ts"], (function(e) {
    var t, a, l, o, n, i, r, s, d, c, h, f, u, p, _, y, m, g, v, b, F, H, P, w, M;
    return {
        setters: [function(e) {
            t = e.createClass, a = e.applyDecoratedDescriptor, l = e.inheritsLoose, o = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, r = e._decorator, s = e.Material, d = e.randomRange, c = e.Vec3, h = e.Color, f = e.Quat, u = e.ParticleSystem, p = e.instantiate, _ = e.geometry, y = e.PhysicsSystem, m = e.clamp01, g = e.lerp, v = e.Vec2, b = e.Component
        }, function(e) {
            F = e.PhysicsGroups
        }, function(e) {
            H = e.PlayerPhase
        }, function(e) {
            P = e.BallHandler, w = e.BallState
        }, function(e) {
            M = e.GameManager
        }],
        execute: function() {
            var S, x, R, V, G, C;
            i._RF.push({}, "491daeTgipJJaUOrai2viV/", "BallHandlerStatusEffects", void 0);
            var E = r.ccclass,
                A = r.property,
                B = e("cOnVfxAttachedToBallHandler", "on-vfx-attached-to-ballhandler"),
                T = e("cOnRandomForceApplied", "on-status-effect-random-force-applied"),
                W = e("VFXAttachType", function(e) {
                    return e[e.None = 0] = "None", e[e.FollowPosition = 1] = "FollowPosition", e[e.Parent = 2] = "Parent", e
                }({})),
                D = (e("GravityWell", (function() {
                    this.worldPosition = null, this.radius = 0, this.strength = 0, this.vfx = null, this.excludeVertical = !1
                })), e("EffectRange", function() {
                    function e(e, t) {
                        this.min = void 0, this.max = void 0, this.min = e, this.max = t
                    }
                    return t(e, [{
                        key: "value",
                        get: function() {
                            return d(this.min, this.max)
                        }
                    }]), e
                }()), function(e, t) {
                    this.node = void 0, this.follow = void 0, this.node = e, this.follow = t
                });
            e("BallHandlerStatusEffects", (S = E("BallHandlerStatusEffects"), x = A(s), S(((C = function(e) {
                function a() {
                    for (var t, a = arguments.length, l = new Array(a), i = 0; i < a; i++) l[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(l)) || this, o(t, "ghostBallMaterial", G, n(t)), t.gravityPullTowardsOtherBallsRange = void 0, t.gavityPullTowardsOtherBallsStrength = void 0, t.gravityPullAttachedFx = void 0, t.constantForceToApply = new c, t.hitForceMultiplier = 0, t._randomForceStrength = null, t._randomForceDelay = null, t._randomForceVfxPrefab = null, t._readyToApplyRandomForce = !1, t._randomForceWaitingForIdle = !1, t._ghostModeActive = !1, t._golfMode = null, t._ballHandler = null, t._attachedVfxMap = new Map, t._gravityWells = new Map, t
                }
                l(a, e);
                var i = a.prototype;
                return i.start = function() {
                    this._golfMode = M.Instance.currentMode, this._ballHandler = this.node.getComponent(P)
                }, i.onDestroy = function() {
                    this._attachedVfxMap.forEach((function(e) {
                        e.node && e.node.destroy()
                    })), this._attachedVfxMap.clear()
                }, i.attachVfx = function(e, t, a, l, o, n) {
                    var i = this;
                    void 0 === a && (a = W.FollowPosition), void 0 === l && (l = !1), void 0 === o && (o = 0), void 0 === n && (n = h.WHITE);
                    var r = "string" == typeof e ? e : e.statusEffectId.toString();
                    (this._attachedVfxMap.set(r, new D(t, a == W.FollowPosition)), this._ballHandler || (this._ballHandler = this.node.getComponent(P)), a == W.Parent ? (this._ballHandler.fxRoot.addChild(t), t.position = c.ZERO, t.rotation = f.IDENTITY) : this.node.scene.addChild(t), l) && t.getComponentsInChildren(u).forEach((function(e) {
                        if (e.enabled) {
                            var t = i._ballHandler.color.clone();
                            h.lerp(t, i._ballHandler.color, n, o), e.startColor.color = t
                        }
                    }));
                    t.emit(B, this._ballHandler)
                }, i.removeVfx = function(e) {
                    var t = "string" == typeof e ? e : e.statusEffectId.toString(),
                        a = this._attachedVfxMap.get(t);
                    a && (a.node.destroy(), this._attachedVfxMap.delete(t))
                }, i.addGravityWell = function(e, t, a, l, o, n) {
                    void 0 === n && (n = !1);
                    var i = this._gravityWells.get(e);
                    i || (i = []), i.push({
                        worldPosition: t,
                        radius: a,
                        strength: l,
                        vfx: o,
                        excludeVertical: n
                    }), this._gravityWells.set(e, i)
                }, i.removeGravityWell = function(e) {
                    var t = this._gravityWells.get(e);
                    t && (t.forEach((function(e) {
                        e.vfx && e.vfx.destroy()
                    })), this._gravityWells.delete(e))
                }, i.enableRandomForce = function(e, t, a) {
                    this._randomForceStrength = e, this._randomForceDelay = t, this._readyToApplyRandomForce = !1, this._randomForceVfxPrefab = a, this._randomForceWaitingForIdle = !0
                }, i.disableRandomForce = function() {
                    var e;
                    if (this.node.isValid)
                        if (this._ballHandler || (this._ballHandler = this.node.getComponent(P)), this._ballHandler.inHole || this._ballHandler.owner.state.phase == H.GameOver || this._ballHandler.owner.state.phase == H.HoleDone) {
                            if (null != (e = this._randomForceVfxPrefab) && e.isValid) {
                                var t = p(this._randomForceVfxPrefab);
                                t.setWorldPosition(this.node.worldPosition), t.setWorldRotationFromEuler(90, 0, 0), this.node.scene.addChild(t)
                            }
                        } else this.applyRandomForce();
                    this._randomForceStrength = null, this._randomForceDelay = null, this._readyToApplyRandomForce = !1, this._randomForceVfxPrefab = null, this._randomForceWaitingForIdle = !1
                }, i.activateGhostMode = function() {
                    this._ghostModeActive = !0, this._ballHandler || (this._ballHandler = this.node.getComponent(P)), this._ballHandler.rigidbody.useGravity = !1, this._ballHandler.rigidbody.linearDamping = .35, this._ballHandler.collider.setGroup(F.GhostBall), this._ballHandler.setOverrideBallMaterial(this.ghostBallMaterial)
                }, i.deactivateGhostMode = function() {
                    this._ghostModeActive = !1, this._ballHandler || (this._ballHandler = this.node.getComponent(P)), this._ballHandler.rigidbody.useGravity = !0, this._ballHandler.rigidbody.linearDamping = this._ballHandler.defaultLinearDampening, this._ballHandler.clearOverrideBallMaterial();
                    var e = _.Ray.create(),
                        t = this.node.worldPosition.clone();
                    if (t.add(new c(0, .5 * a.cGhostModeSafeGroundStopPositionCheckDistance, 0)), _.Ray.fromPoints(e, t, t.clone().add(new c(0, -1, 0))), y.instance.raycastClosest(e, y.instance.collisionMatrix[F.Ball], a.cGhostModeSafeGroundStopPositionCheckDistance)) {
                        var l = y.instance.raycastClosestResult;
                        this._ballHandler.setWorldPosition(l.hitPoint.clone().add3f(0, this._ballHandler.collider.radius, 0))
                    }
                    this._ballHandler.collider.setGroup(F.Ball)
                }, i.update = function() {
                    var e = this;
                    if (this._attachedVfxMap.forEach((function(t) {
                            t.follow && (t.node.worldPosition = e._ballHandler.fxRoot.worldPosition)
                        })), this._ballHandler.owner.state.phase != H.GameOver && this._ballHandler.owner.state.phase != H.HoleDone) {
                        if (this._ghostModeActive) {
                            var t, l = _.Ray.create(),
                                o = this.node.worldPosition.clone(),
                                n = new c;
                            if (null == (t = this._ballHandler.rigidbody) || t.getLinearVelocity(n), o.add(n.normalize().multiplyScalar(this._ballHandler.getRadius())), _.Ray.fromPoints(l, o.clone().add(new c(0, .5, 0)), o.clone().add(new c(0, -1, 0))), y.instance.raycastClosest(l, F.CourseGround, a.cGhostModeGroundCheckDistance)) {
                                var i = y.instance.gravity;
                                this._ballHandler.applyForce(i.clone().multiplyScalar(.5))
                            }
                        }
                        if (this._ballHandler.state == w.InMotion) {
                            if (this.gravityPullTowardsOtherBallsRange > 0) this._golfMode.GetPlayers().forEach((function(t) {
                                if (!t.local) {
                                    var a = c.clone(t.state.pos).clone().subtract(e.node.worldPosition),
                                        l = a.length(),
                                        o = 1 - m(l / e.gravityPullTowardsOtherBallsRange),
                                        n = g(0, e.gavityPullTowardsOtherBallsStrength, o),
                                        i = a.clone().multiplyScalar(1 / l),
                                        r = i.clone().multiplyScalar(e._ballHandler.collider.radius);
                                    n > 0 && e._ballHandler.applyForce(i.clone().multiplyScalar(n), r)
                                }
                            }));
                            if (!this._ghostModeActive && this.constantForceToApply.lengthSqr() > 0) {
                                var r = this.constantForceToApply.clone().normalize().clone().multiplyScalar(this._ballHandler.collider.radius);
                                this._ballHandler.applyForce(this.constantForceToApply, r)
                            }
                        } else if (this._ballHandler.state == w.Idle) {
                            var s;
                            if (this._randomForceWaitingForIdle) this._randomForceWaitingForIdle = !1, this.scheduleOnce((function() {
                                e._readyToApplyRandomForce = !0
                            }), null == (s = this._randomForceDelay) ? void 0 : s.value);
                            else this._readyToApplyRandomForce && (this.applyRandomForce(), this._readyToApplyRandomForce = !1, this._randomForceWaitingForIdle = !0)
                        }
                        this._gravityWells.forEach((function(t, a) {
                            t.forEach((function(t) {
                                var a = t.worldPosition.clone().subtract(e.node.worldPosition);
                                t.excludeVertical && (a.y = 0);
                                var l = a.length(),
                                    o = 1 - m(l / t.radius),
                                    n = g(0, t.strength, o),
                                    i = a.clone().multiplyScalar(1 / l),
                                    r = i.clone().multiplyScalar(e._ballHandler.collider.radius);
                                n > 0 && e._ballHandler.applyForce(i.clone().multiplyScalar(n), r)
                            }))
                        }))
                    }
                }, i.applyRandomForce = function() {
                    if (this._ballHandler.owner.local && this._randomForceStrength) {
                        var e = this._randomForceStrength.value,
                            t = new v;
                        v.random(t, e);
                        var a = new c(t.x, 0, t.y);
                        M.Instance.currentMode.SendStatusEffectEvent(this._ballHandler.owner.uid, {
                            type: 0,
                            force: a
                        }), this.applyRandomForceEffects(a)
                    }
                }, i.applyRandomForceEffects = function(e) {
                    if (this._randomForceVfxPrefab) {
                        var t = p(this._randomForceVfxPrefab);
                        t.setWorldPosition(this.node.worldPosition), t.forward = e.clone().normalize().multiplyScalar(-1), this.node.scene.addChild(t)
                    }
                    this._ballHandler && (this._ballHandler.applyForceVector(e, null, !1), this.node.emit(T, this._ballHandler))
                }, i.HandleStatusEffectEvent = function(e) {
                    var t = e.force,
                        a = new c(t.x, t.y, t.z);
                    this._ballHandler || (this._ballHandler = this.node.getComponent(P)), this.applyRandomForceEffects(a)
                }, t(a, [{
                    key: "ghostModeActive",
                    get: function() {
                        return this._ghostModeActive
                    }
                }]), a
            }(b)).cGhostModeGroundCheckDistance = 10, C.cGhostModeSafeGroundStopPositionCheckDistance = 20, G = a((V = C).prototype, "ghostBallMaterial", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), R = V)) || R));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/base64.ts", ["cc"], (function(r) {
    var e;
    return {
        setters: [function(r) {
            e = r.cclegacy
        }],
        execute: function() {
            r({
                fromBase64: function(r) {
                    try {
                        return a(c(r))
                    } catch (r) {
                        return "*** wrong format ***"
                    }
                },
                fromBase64url: function(r) {
                    try {
                        return a(c(r).replace(/\-/g, "+").replace(/_/g, "/"))
                    } catch (r) {
                        return "*** wrong format ***"
                    }
                },
                toBase64: function(r) {
                    return o(r)
                },
                toBase64url: function(r) {
                    return o(r).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_")
                }
            }), e._RF.push({}, "e2b0fYJvh9KLLYTslRw8Kzv", "base64", void 0);
            var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                n = /^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;

            function o(r) {
                for (var e, n, o, a, c = "", i = 0, u = r.length % 3; i < r.length;) {
                    if ((n = r.charCodeAt(i++)) > 255 || (o = r.charCodeAt(i++)) > 255 || (a = r.charCodeAt(i++)) > 255) throw new TypeError("Failed to execute 'btoa' on 'Window': The str to be encoded contains characters outside of the Latin1 range.");
                    c += t.charAt((e = n << 16 | o << 8 | a) >> 18 & 63) + t.charAt(e >> 12 & 63) + t.charAt(e >> 6 & 63) + t.charAt(63 & e)
                }
                return u ? c.slice(0, u - 3) + "===".substr(u) : c
            }

            function a(r) {
                if (r = r.replace(/[\t\n\f\r ]+/g, ""), !n.test(r)) throw console.error("atob(" + r + ")"), new TypeError("Failed to execute 'atob' on 'Window': The str to be decoded is not correctly encoded.");
                r += "==".slice(2 - (3 & r.length));
                for (var e, o, a, c = "", i = 0; i < r.length;) e = t.indexOf(r.charAt(i++)) << 18 | t.indexOf(r.charAt(i++)) << 12 | (o = t.indexOf(r.charAt(i++))) << 6 | (a = t.indexOf(r.charAt(i++))), c += 64 === o ? String.fromCharCode(e >> 16 & 255) : 64 === a ? String.fromCharCode(e >> 16 & 255, e >> 8 & 255) : String.fromCharCode(e >> 16 & 255, e >> 8 & 255, 255 & e);
                return c
            }

            function c(r) {
                var e = r.length % 4;
                if (!e) return r;
                for (var t = 4 - e, n = r; t--;) n += "=";
                return n.toString()
            }
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BlockHeadController.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./Hole.ts", "./GolfMode.ts", "./BlockheadPlatform.ts"], (function(t) {
    var e, o, l, n, i, a, r, s, u, c, d, h, f, m, p, g, w, P, v, b, C, y;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, l = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            i = t.cclegacy, a = t._decorator, r = t.Node, s = t.animation, u = t.randomRange, c = t.Quat, d = t.Vec3, h = t.tween, f = t.Tween, m = t.Component
        }, function(t) {
            p = t.GameManager
        }, function(t) {
            g = t.cEnteredHole
        }, function(t) {
            w = t.cCurrentHoleUpdate, P = t.cLocalPlayerStateUpdate, v = t.cGameStateUpdate, b = t.GameState, C = t.PlayerPhase
        }, function(t) {
            y = t.BlockheadPlatform
        }],
        execute: function() {
            var _, H, k, A, T, V, N, O;
            i._RF.push({}, "ecf27nvDY9Mq6vqnF+ksRtC", "BlockHeadController", void 0);
            var S = a.ccclass,
                G = a.property;
            t("BlockHeadController", (_ = S("BlockHeadController"), H = G([r]), _((T = e((A = function(t) {
                function e() {
                    for (var e, o = arguments.length, i = new Array(o), a = 0; a < o; a++) i[a] = arguments[a];
                    return (e = t.call.apply(t, [this].concat(i)) || this)._animatorController = null, e._active = !1, l(e, "holeNodes", T, n(e)), l(e, "platformOffset", V, n(e)), l(e, "animJumpWait", N, n(e)), l(e, "moveWait", O, n(e)), e.currentHoleNode = null, e._target = null, e.currentHole = -1, e._holeComplete = !1, e
                }
                o(e, t);
                var i = e.prototype;
                return i.start = function() {
                    var t = this;
                    this._animatorController = this.node.getComponent(s.AnimationController);
                    var e = p.Instance.currentMode;
                    e.node.on(w, this.jumpToNewHole, this), e.node.on(P, this.checkPlayerState, this), e.node.on(v, this.unsubscribe, this), this._active = !0, this.scheduleOnce((function() {
                        t.jumpToNewHole(e.currentHole)
                    }), 1)
                }, i.unsubscribe = function(t) {
                    if (t == b.CourseSelect) {
                        var e;
                        this.unscheduleAllCallbacks();
                        var o = p.Instance.currentMode;
                        o.node.off(w, this.jumpToNewHole, this), o.node.off(P, this.checkPlayerState, this), o.node.off(v, this.unsubscribe, this), null != (e = o.localGolfPlayer) && e.ballVisual && o.localGolfPlayer.ballVisual.node.off(g, this.targetEnteredHole, this), this._target = null, this._active = !1
                    }
                }, i.updateState = function() {
                    var t, e, o = this;
                    if (this.unscheduleAllCallbacks(), null == (t = this._target) || !t.isValid) {
                        var l, n = p.Instance.currentMode;
                        if (n)
                            if (null != (l = n.localGolfPlayer) && l.ballVisual) {
                                var i;
                                this._target = n.localGolfPlayer.ballVisual.node, null == (i = this._target) || i.on(g, this.targetEnteredHole, this)
                            } else {
                                var a, r = n.GetGolfPlayers();
                                if (r.length > 0) this._target = null == (a = r[0].ballVisual) ? void 0 : a.node
                            }
                    }
                    if (null != (e = this._target) && e.isValid) {
                        var s = this.getAngleToTarget(),
                            c = Math.abs(s);
                        c > Math.PI / 4 && (c > Math.PI / 2 ? this.bigTurn(s) : this.smallTurn(s))
                    }
                    this.scheduleOnce((function() {
                        o.updateState()
                    }), u(1, 3))
                }, i.targetEnteredHole = function(t, e) {
                    this.unscheduleAllCallbacks(), this._holeComplete = !0, this._animatorController.setValue("HoleComplete", !0);
                    var o = p.Instance.currentMode,
                        l = o.GetParValue(o.currentHole);
                    t.state.strokes <= l ? this._animatorController.setValue("Excited", !0) : this._animatorController.setValue("Excited", !1)
                }, i.checkPlayerState = function(t, e) {
                    t.state.phase == C.GameOver && this.celebrate()
                }, i.bigTurn = function(t) {
                    var e = this;
                    this.unscheduleAllCallbacks();
                    var o = new c,
                        l = new c;
                    c.fromAxisAngle(l, d.UP, t), c.multiply(o, this.node.worldRotation.clone(), l), h(this.node).call((function() {
                        e._animatorController.setValue("BigTurn", !0)
                    })).delay(.3).to(1, {
                        worldRotation: o
                    }, {
                        easing: "quartOut"
                    }).call((function() {
                        e.updateState()
                    })).start()
                }, i.smallTurn = function(t) {
                    var e = this;
                    this.unscheduleAllCallbacks();
                    var o = new c,
                        l = new c;
                    c.fromAxisAngle(l, d.UP, t), c.multiply(o, this.node.worldRotation.clone(), l), h(this.node).call((function() {
                        e._animatorController.setValue("Shuffle", !0)
                    })).delay(.3).to(1, {
                        worldRotation: o
                    }, {
                        easing: "quartOut"
                    }).call((function() {
                        e.scheduleOnce((function() {
                            e.updateState()
                        }), u(2, 4))
                    })).start()
                }, i.celebrate = function() {
                    this.unscheduleAllCallbacks(), this._animatorController.setValue("GameComplete", !0)
                }, i.getPlatform = function(t) {
                    var e;
                    return null == t || null == (e = t.getComponent(y)) ? void 0 : e.platform
                }, i.getAngleToTarget = function() {
                    var t, e = 0;
                    if (null != (t = this._target) && t.isValid) {
                        var o = this._target.worldPosition.clone();
                        o.y = this.node.worldPosition.y;
                        var l = o.subtract(this.node.worldPosition).normalize(),
                            n = (d.dot(this.node.forward.negative(), l), d.dot(this.node.right, l));
                        e = d.angle(this.node.forward.negative(), l) * Math.sign(n)
                    }
                    return e
                }, i.jumpToNewHole = function(t) {
                    var e = this;
                    if (this._animatorController.setValue("HoleComplete", !1), this._holeComplete = !1, this.currentHole != t && null != this.holeNodes[t - 1]) {
                        this.currentHole = t;
                        var o = t - 1;
                        if (this.holeNodes[o]) {
                            var l = this.getPlatform(this.currentHoleNode);
                            this.currentHoleNode = this.holeNodes[o];
                            var n = this.getPlatform(this.currentHoleNode),
                                i = this.holeNodes[o].worldPosition.clone();
                            n && i.add(new d(0, this.platformOffset, 0));
                            var a = new c,
                                r = this.holeNodes[o].worldPosition.clone(),
                                s = this.node.worldPosition.clone();
                            this.unscheduleAllCallbacks(), f.stopAllByTarget(this.node), h(this.node).to(this.moveWait, {
                                worldPosition: s
                            }).call((function() {
                                e._animatorController.setValue("Jump", !0)
                            })).to(this.animJumpWait, {
                                worldPosition: s
                            }).call((function() {
                                e.node.worldPosition = r;
                                var t = e.getAngleToTarget(),
                                    o = new c;
                                c.fromAxisAngle(o, d.UP, t), c.multiply(a, e.node.worldRotation.clone(), o), e.node.worldRotation = a
                            })).set({
                                worldPosition: r
                            }).to(2, {
                                worldPosition: r
                            }).to(.5, {
                                worldPosition: i
                            }, {
                                easing: "backOut"
                            }).to(1.5, {
                                worldPosition: i
                            }).call((function() {
                                e.updateState()
                            })).start(), l && (f.stopAllByTarget(l), h(l).to(3.8, {
                                worldPosition: l.worldPosition.clone()
                            }).to(.8, {
                                worldPosition: l.worldPosition.clone().add(new d(0, -1 * this.platformOffset, 0))
                            }, {
                                easing: "elasticOut"
                            }).start()), n && (f.stopAllByTarget(n), h(n).to(5.8, {
                                worldPosition: n.worldPosition.clone()
                            }).to(.5, {
                                worldPosition: n.worldPosition.clone().add(new d(0, this.platformOffset, 0))
                            }, {
                                easing: "backOut"
                            }).start())
                        }
                    }
                }, i.update = function(t) {
                    var e;
                    if (null != (e = this._target) && e.isValid) {
                        var o = this._target.worldPosition.clone();
                        o.y = this.node.worldPosition.y;
                        var l = o.subtract(this.node.worldPosition).normalize(),
                            n = d.dot(this.node.right, l);
                        this._animatorController.setValue("LookX", n)
                    }
                }, e
            }(m)).prototype, "holeNodes", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), V = e(A.prototype, "platformOffset", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -12
                }
            }), N = e(A.prototype, "animJumpWait", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .8
                }
            }), O = e(A.prototype, "moveWait", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), k = A)) || k));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BlockheadPlatform.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(r) {
    var e, t, o, n, a, i, l, c;
    return {
        setters: [function(r) {
            e = r.applyDecoratedDescriptor, t = r.inheritsLoose, o = r.initializerDefineProperty, n = r.assertThisInitialized
        }, function(r) {
            a = r.cclegacy, i = r._decorator, l = r.Node, c = r.Component
        }],
        execute: function() {
            var u, s, p, f, d;
            a._RF.push({}, "b4b97dGIGZLX59LW653ncxr", "BlockheadPlatform", void 0);
            var h = i.ccclass,
                m = i.property;
            r("BlockheadPlatform", (u = h("BlockheadPlatform"), s = m(l), u((d = e((f = function(r) {
                function e() {
                    for (var e, t = arguments.length, a = new Array(t), i = 0; i < t; i++) a[i] = arguments[i];
                    return e = r.call.apply(r, [this].concat(a)) || this, o(e, "platform", d, n(e)), e
                }
                return t(e, r), e
            }(c)).prototype, "platform", [s], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), p = f)) || p));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BloomSettings.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, i, n, r, o, a, l, u;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, a = e._decorator, l = e.Material, u = e.Component
        }],
        execute: function() {
            var c, s, p, b, f, y, d, m, g, h, v;
            o._RF.push({}, "edfd9b5D/JCJoz5wpmhzv+B", "BloomSettings", void 0);
            var z = a.ccclass,
                w = a.property,
                B = a.executeInEditMode;
            e("BloomSettings", (c = z("BloomSetting"), s = w(l), c(p = B(((v = function(e) {
                function t() {
                    for (var t, i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(o)) || this, n(t, "enable", f, r(t)), n(t, "threshold", y, r(t)), n(t, "iterations", d, r(t)), n(t, "intensity", m, r(t)), n(t, "blurRadius", g, r(t)), n(t, "material", h, r(t)), t
                }
                i(t, e);
                var o = t.prototype;
                return o.onEnable = function() {
                    t.instance = this
                }, o.onDisable = function() {
                    t.instance === this && (t.instance = void 0)
                }, t
            }(u)).instance = void 0, f = t((b = v).prototype, "enable", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), y = t(b.prototype, "threshold", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), d = t(b.prototype, "iterations", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), m = t(b.prototype, "intensity", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .8
                }
            }), g = t(b.prototype, "blurRadius", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), h = t(b.prototype, "material", [s], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), p = b)) || p) || p));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/BoostPadVisualBehavior.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallEffectJumpPadZone.ts"], (function(t) {
    var e, r, i, o, a, n, s, l, c, u, h, p, d, f;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, r = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, n = t._decorator, s = t.MeshRenderer, l = t.Color, c = t.Tween, u = t.tween, h = t.lerp, p = t.easing, d = t.Component
        }, function(t) {
            f = t.cOnActivateBallJump
        }],
        execute: function() {
            var v, m, B, y, P;
            a._RF.push({}, "b7458gynbRJCZXTaNChBsdq", "BoostPadVisualBehavior", void 0);
            var _ = n.ccclass,
                g = n.property;
            t("BoostPadVisualBehavior", (v = _("BoostPadVisualBehavior"), m = g(s), v((P = e((y = function(t) {
                function e() {
                    for (var e, r = arguments.length, a = new Array(r), n = 0; n < r; n++) a[n] = arguments[n];
                    return e = t.call.apply(t, [this].concat(a)) || this, i(e, "renderer", P, o(e)), e._material = null, e._startColor = new l(255, 255, 255), e
                }
                r(e, t);
                var a = e.prototype;
                return a.start = function() {
                    this.renderer && (this._material = this.renderer.material, this.renderer.material = this._material, this._startColor = this._material.getProperty("mainColor").clone())
                }, a.onEnable = function() {
                    this.node.on(f, this.activateBoostPad, this)
                }, a.onDisable = function() {
                    this.node.off(f, this.activateBoostPad, this)
                }, a.onDestroy = function() {
                    this.node.off(f, this.activateBoostPad, this)
                }, a.activateBoostPad = function(t) {
                    var e = this;
                    this._material && (c.stopAllByTarget(this.node), u(this.node).to(1, {
                        position: this.node.position.clone()
                    }, {
                        progress: function(t, r, i, o) {
                            var a = e._material.getProperty("tilingOffset");
                            a.w = h(-.25, 3.75, p.quartOut(o));
                            var n = new l;
                            return l.lerp(n, new l(255, 255, 255), e._startColor, p.quintOut(o)), e._material.setProperty("mainColor", n), e._material.setProperty("tilingOffset", a), t
                        }
                    }).start())
                }, e
            }(d)).prototype, "renderer", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), B = y)) || B));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CameraBrain.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(a) {
    var t, i, e, r, n, o, s, l, c, m, h;
    return {
        setters: [function(a) {
            t = a.inheritsLoose, i = a.createClass
        }, function(a) {
            e = a.cclegacy, r = a._decorator, n = a.Camera, o = a.Vec3, s = a.Tween, l = a.tween, c = a.easing, m = a.Quat, h = a.Component
        }],
        execute: function() {
            var C;
            e._RF.push({}, "c659fSF9SpGfLzmAkezY5d8", "CameraBrain", void 0);
            var u = r.ccclass,
                v = (r.property, a("cOnCameraTransition", "on-camera-brain-camera-transition"));
            a("CameraBrain", u("CameraBrain")(C = function(a) {
                function e() {
                    for (var t, i = arguments.length, e = new Array(i), r = 0; r < i; r++) e[r] = arguments[r];
                    return (t = a.call.apply(a, [this].concat(e)) || this).virtualCameras = [], t._activeCamera = null, t._camera = null, t._inTransition = !1, t._allowedToControlCamera = !0, t
                }
                t(e, a);
                var r = e.prototype;
                return r.getCurrentCamera = function() {
                    return this._activeCamera
                }, r.start = function() {
                    this._camera = this.node.getComponent(n)
                }, r.lateUpdate = function() {
                    if (!this._inTransition) {
                        for (var a = this.virtualCameras.length - 1; a >= 0; a--) this.virtualCameras[a].node || this.virtualCameras.splice(a, 1);
                        null != this._activeCamera ? (this.node.worldPosition = this._activeCamera.node.worldPosition, this.node.worldRotation = this._activeCamera.node.worldRotation, this._camera.fov = this._activeCamera.fov) : this.ResetActiveCamera()
                    }
                }, r.AddCamera = function(a) {
                    var t;
                    a && (this.virtualCameras.findIndex((function(t) {
                        return t === a
                    })) < 0 && this.virtualCameras.push(a), this.sortByPriority(), null != (t = this._activeCamera) && t.isValid ? this._activeCamera.priority >= a.priority && this.ResetActiveCamera() : this.ResetActiveCamera())
                }, r.sortByPriority = function() {
                    var a = this.virtualCameras.sort((function(a, t) {
                        return a.priority > t.priority ? 1 : a.priority < t.priority ? -1 : 0
                    }));
                    this.virtualCameras = a
                }, r.RemoveCamera = function(a) {
                    var t = this.virtualCameras.findIndex((function(t) {
                        return t == a
                    }));
                    this.virtualCameras.splice(t, 1), this._activeCamera === a && (this._activeCamera.setActive(!1), this._activeCamera = null, this.ResetActiveCamera())
                }, r.NextCamera = function() {
                    var a = this,
                        t = (this.virtualCameras.findIndex((function(t) {
                            return t === a._activeCamera
                        })) + 1) % this.virtualCameras.length;
                    this.TransitionToCamera(this.virtualCameras[t])
                }, r.SetActiveCamera = function(a) {
                    var t = this.virtualCameras.findIndex((function(t) {
                        return t === a
                    }));
                    t >= 0 ? this.TransitionToCamera(this.virtualCameras[t]) : console.warn("failed to find camera for " + a.name)
                }, r.ResetActiveCamera = function() {
                    if (0 == this.virtualCameras.length) return null;
                    for (var a = null, t = 0; t < this.virtualCameras.length; t++)
                        if (this.virtualCameras[t].node && this.virtualCameras[t].node.active) {
                            if (null == a) {
                                a = this.virtualCameras[t];
                                continue
                            }
                            this.virtualCameras[t].priority < a.priority && (a = this.virtualCameras[t])
                        } this.TransitionToCamera(a)
                }, r.TransitionToCamera = function(a) {
                    var t = this;
                    if (this._activeCamera != a) {
                        new o;
                        this._activeCamera ? (this.node.worldPosition.clone().add(this.node.forward.clone().multiplyScalar(this._activeCamera.focalDistance)), this._activeCamera.focalDistance, this._activeCamera.setActive(!1)) : (this.node.worldPosition.clone().add(this.node.forward.clone().multiplyScalar(a.focalDistance)), a.focalDistance), a.onAboutToTransitionTo(this._activeCamera), this._activeCamera = a, this._activeCamera.setActive(!0);
                        var i = this.virtualCameras.findIndex((function(a) {
                            return a === t._activeCamera
                        }));
                        this.node.emit(v, i), this._inTransition && (s.stopAllByTarget(this.node), s.stopAllByTarget(this._camera)), this._inTransition = !0;
                        var e = this.node.worldPosition.clone(),
                            r = this.node.worldRotation.clone();
                        l(this.node).to(1.3, {
                            scale: this.node.scale.clone()
                        }, {
                            progress: function(a, i, n, s) {
                                var l = a + (i - a) * s,
                                    h = c.quartInOut(s),
                                    C = new o,
                                    u = (new o, new m),
                                    v = t._activeCamera ? t._activeCamera.node.worldPosition : e,
                                    d = t._activeCamera ? t._activeCamera.node.worldRotation : r;
                                o.lerp(C, e, v, h);
                                return m.slerp(u, r, d, h), t.node.worldPosition = C, t.node.worldRotation = u, l
                            }
                        }).call((function() {
                            t._inTransition = !1
                        })).start(), l(this._camera).to(1.3, {
                            fov: this._activeCamera.fov,
                            near: this._activeCamera.near,
                            far: this._activeCamera.far
                        }, {
                            easing: "quartInOut"
                        }).start()
                    }
                }, i(e, [{
                    key: "AllowedToControlCamera",
                    get: function() {
                        return this._allowedToControlCamera
                    },
                    set: function(a) {
                        this._allowedToControlCamera = a, !this._allowedToControlCamera && this._activeCamera && this._activeCamera.releaseCameraControl()
                    }
                }]), e
            }(h)) || C);
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CameraInfo.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var r, n, a, t, i, o, c, l;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, n = e.inheritsLoose, a = e.initializerDefineProperty, t = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, o = e._decorator, c = e.CCBoolean, l = e.Component
        }],
        execute: function() {
            var u, s, f, p, m, I, y, C, b;
            i._RF.push({}, "947e9y5nSxOup9oHYqyk/ZW", "CameraInfo", void 0);
            var g = o.ccclass,
                h = o.property;
            e("CameraInfo", (u = g("CameraInfo"), s = h(c), f = h(c), p = h(c), u((y = r((I = function(e) {
                function r() {
                    for (var r, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                    return r = e.call.apply(e, [this].concat(i)) || this, a(r, "IsUICamera", y, t(r)), a(r, "IsOffscreen", C, t(r)), a(r, "IsMainCamera", b, t(r)), r
                }
                return n(r, e), r
            }(l)).prototype, "IsUICamera", [s], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), C = r(I.prototype, "IsOffscreen", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), b = r(I.prototype, "IsMainCamera", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), m = I)) || m));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CameraNoise.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./gameManager.ts"], (function(e) {
    var t, i, a, n, r, o, s, c, l, u, f, y, d;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.initializerDefineProperty, a = e.inheritsLoose
        }, function(e) {
            n = e.cclegacy, r = e._decorator, o = e.Vec2, s = e.math, c = e.easing, l = e.Vec3, u = e.Quat, f = e.Component
        }, function(e) {
            y = e.DGEvent
        }, function(e) {
            d = e.GameManager
        }],
        execute: function() {
            var g, m, h, p, v, b, N, C, w, S, _, x, M;
            n._RF.push({}, "03a85092RRLyZqElHThf6Gj", "CameraNoise", void 0);
            var z = r.ccclass,
                A = r.property;
            e("CameraNoiseSetting", (g = z("CameraNoiseSettings"), m = A({
                visible: function() {
                    return this.affectedByVelocity
                }
            }), g((v = t((p = function() {
                i(this, "decay", v, this), i(this, "frequency", b, this), i(this, "amplitude", N, this), i(this, "affectedByVelocity", C, this), i(this, "velocityMax", w, this)
            }).prototype, "decay", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), b = t(p.prototype, "frequency", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), N = t(p.prototype, "amplitude", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), C = t(p.prototype, "affectedByVelocity", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), w = t(p.prototype, "velocityMax", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 5
                }
            }), h = p)) || h)), e("CameraNoise", z("CameraNoise")(((M = function(e) {
                function t() {
                    for (var t, i = arguments.length, a = new Array(i), n = 0; n < i; n++) a[n] = arguments[n];
                    return (t = e.call.apply(e, [this].concat(a)) || this)._activeNoiseSettings = [], t
                }
                a(t, e);
                var i = t.prototype;
                return i.onLoad = function() {
                    this.node.dgOn(t.cAddCameraNoise, this.onAddCameraNoise.bind(this))
                }, i.onAddCameraNoise = function(e) {
                    this._activeNoiseSettings.push({
                        setting: e,
                        time: 0,
                        axis: o.random(new o)
                    })
                }, i.MutateCameraState = function(e, t) {
                    this._activeNoiseSettings.forEach((function(i) {
                        i.time += t;
                        var a = s.lerp(i.setting.amplitude, 0, c.quadOut(i.time / i.setting.decay));
                        if (i.setting.affectedByVelocity) {
                            var n = d.Instance.currentMode;
                            if (n.localGolfPlayer) {
                                var r = n.localGolfPlayer.netPlayer.localState.visual;
                                if (r) {
                                    var o, f = new l;
                                    null == (o = r.rigidbody) || o.getLinearVelocity(f);
                                    var y = f.length();
                                    a *= Math.min(y / i.setting.velocityMax, 1)
                                }
                            }
                        }
                        var g = Math.sin(i.time * i.setting.frequency) * a,
                            m = e.rotation.getEulerAngles(new l);
                        m.x += i.axis.x * g, m.y += i.axis.y * g, e.rotation = u.fromEuler(new u, m.x, m.y, m.z)
                    }));
                    for (var i = this._activeNoiseSettings.length - 1; i >= 0; --i) this._activeNoiseSettings[i].time >= this._activeNoiseSettings[i].setting.decay && this._activeNoiseSettings.splice(i, 1)
                }, t
            }(f)).cAddCameraNoise = void 0, t(_ = M, "cAddCameraNoise", [y], (x = (x = Object.getOwnPropertyDescriptor(_, "cAddCameraNoise")) ? x.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return x
                }
            }), _), S = _)) || S);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CameraOrientedParticleSystem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var t, r, n, a, o, i, c, s, l;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, i = e._decorator, c = e.Vec3, s = e.Component
        }, function(e) {
            l = e.GameManager
        }],
        execute: function() {
            var u, f, d;
            o._RF.push({}, "50a9ejBU1pL0LEAOBZr5pWz", "CameraOrientedParticleSystem", void 0);
            var p = i.ccclass,
                m = i.property;
            e("CameraOrientedParticleSystem", p("CameraOrientedParticleSystem")((d = t((f = function(e) {
                function t() {
                    for (var t, r = arguments.length, o = new Array(r), i = 0; i < r; i++) o[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(o)) || this, n(t, "rotationOffset", d, a(t)), t
                }
                return r(t, e), t.prototype.onBeforePlayEffect = function(e) {
                    var t = l.Instance.currentCamera.worldToScreen(e.node.worldPosition),
                        r = l.Instance.currentCamera.worldToScreen(e.node.worldPosition.clone().add(e.node.forward)).subtract(t);
                    r.z = 0, r.normalize();
                    var n = c.angle(r, new c(0, 1, 0)) * Math.sign(c.dot(r, new c(-1, 0, 0)));
                    n += this.rotationOffset * (Math.PI / 180);
                    var a = e.startRotationZ;
                    a.constant = n, e.startRotationZ = a
                }, t
            }(s)).prototype, "rotationOffset", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), u = f)) || u);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Client.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Connection.ts", "./shared_constants.ts", "./base64.ts", "./activity.ts"], (function(t) {
    var n, o, i, e, s, c;
    return {
        setters: [function(t) {
            n = t.createClass
        }, function(t) {
            o = t.cclegacy
        }, function(t) {
            i = t.Connection
        }, function(t) {
            e = t.Opcodes
        }, function(t) {
            s = t.toBase64
        }, function(t) {
            c = t.default
        }],
        execute: function() {
            o._RF.push({}, "55f273vuANKAasShcLrE2gS", "Client", void 0);
            var r = function() {
                    this.id = void 0, this.secret = void 0, this.userIds = []
                },
                d = t("ConnectionStatus", {
                    Connected: 0,
                    Disconnected: 1,
                    Reconnect: 2,
                    Failed: 3
                });
            t("default", function() {
                function t() {
                    this.connection = void 0, this.debug = !1, this.wasError = !1, this.cleanClose = !0, this.closeCode = -1, this.appID = "910224161476083792", this.guildID = "847184799365857331", this.token = "", this.localUID = "", this.discordID = "", this.group = null, this.onMessage = void 0, this.onConnectionStatus = void 0, this.onOpcodeError = void 0, this.connection = new i(this)
                }
                var o = t.prototype;
                return o.isConnected = function() {
                    return this.connection.isOpen()
                }, o.connect = function(t, n) {
                    var o;
                    c.nexusJwt ? (this.localUID = c.nexusJwt.uid, this.discordID = c.nexusJwt.id, this.token = null == (o = c.nexusJwt) ? void 0 : o.original) : this.token = this.generateJWT(n);
                    this.connection.connect(t)
                }, o.disconnect = function() {
                    this.connection.isOpen() && this.connection.close(1e3, "")
                }, o.joinGame = function(t) {
                    void 0 === t && (t = {}), this.send({
                        opcode: e.CmdGameJoin,
                        data: {
                            discord_id: this.discordID,
                            state: t
                        }
                    })
                }, o.leaveGame = function() {
                    this.send({
                        opcode: e.CmdGameLeave,
                        data: {}
                    })
                }, o.joinGroup = function(t, n) {
                    if (this.group) {
                        if (this.group.id == t) return;
                        this.leaveGroup()
                    }
                    this.send({
                        opcode: e.CmdGroupJoin,
                        data: {
                            group: t,
                            secret: n
                        }
                    })
                }, o.leaveGroup = function() {
                    this.group && (this.send({
                        opcode: e.CmdGroupLeave,
                        data: {
                            group: this.group.id
                        }
                    }), this.group = void 0)
                }, o.auth = function() {
                    this.connection.send({
                        opcode: e.CmdAuthenticate,
                        data: {
                            token: this.token
                        }
                    })
                }, o.getUserList = function() {
                    this.connection.send({
                        opcode: e.CmdUserList,
                        data: {}
                    })
                }, o.getServerTimeOffset = function() {
                    return this.connection.serverTimeOffset
                }, o.send = function(t, n) {
                    void 0 === n && (n = !1), this.debug && console.log("Sending message " + JSON.stringify(t)), n && this.group && (t.data = Object.assign(t.data, {
                        group: this.group.id
                    })), this.connection.send(t)
                }, o.onopen = function(t) {
                    this.debug && console.log("connection open " + JSON.stringify(t)), this.auth(), this.onConnectionStatus && this.onConnectionStatus(d.Connected)
                }, o.onreconnect = function(t) {
                    this.onConnectionStatus && this.onConnectionStatus(t ? d.Failed : d.Reconnect)
                }, o.onmessage = function(t) {
                    var n = this;
                    if (this.debug && console.log("connection message " + JSON.stringify(t)), t.status == e.Error) return console.error("received error opcode: " + JSON.stringify(t)), void(this.onOpcodeError && this.onOpcodeError(t.opcode));
                    if (t.opcode == e.EvtGroupUserJoined) {
                        var o = t.data,
                            i = o.id,
                            s = o.group;
                        i == this.localUID ? (this.group = new r, this.group.id = s) : this.group ? this.group.userIds.push(i) : console.error("I got a user joined for id " + i + " and group " + s + " but I don't have that group yet?")
                    } else if (t.opcode == e.EvtGroupListUsers) {
                        if (this.group) t.data.users.forEach((function(t) {
                            n.group.userIds.push(t)
                        }))
                    } else if (t.opcode == e.EvtGroupUserLeft) {
                        var c = t.data,
                            d = c.id,
                            u = c.group;
                        if (this.group && u == this.group.id) {
                            var a = this.group.userIds.findIndex((function(t) {
                                return t == d
                            }));
                            a >= 0 && this.group.userIds.splice(a, 1)
                        }
                    }
                    this.onMessage && this.onMessage(t)
                }, o.onclose = function(t) {
                    this.cleanClose = t.wasClean, this.closeCode = t.code, this.onConnectionStatus && this.onConnectionStatus(d.Disconnected)
                }, o.onerror = function(t) {
                    this.wasError = !0
                }, o.makeid = function(t) {
                    for (var n = "", o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", i = o.length, e = 0; e < t; e++) n += o.charAt(Math.floor(Math.random() * i));
                    return n
                }, o.generateJWT = function(t) {
                    this.localUID = t && t.length > 0 ? t : this.makeid(12), this.discordID = "355743789425360896";
                    var n = JSON.stringify({
                        app_id: this.appID,
                        id: this.discordID,
                        uid: this.localUID,
                        name: t && t.length > 0 ? t : this.makeid(6),
                        discriminator: "6734",
                        avatar: "45f3bc76ddc136998416bb89c5040a5f",
                        nitro: 2,
                        is_new: !1,
                        created: 1611866106,
                        exp: Date.now() + 3600,
                        alg: "HS256",
                        guild_ids: [this.guildID]
                    });
                    return "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9." + s(n) + ".dev"
                }, n(t, [{
                    key: "RTT",
                    get: function() {
                        return Number.isNaN(this.connection.rtt) ? 0 : this.connection.rtt
                    }
                }]), t
            }());
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ColorManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Palette.ts"], (function(t) {
    var e, n, r, o, a, c;
    return {
        setters: [function(t) {
            e = t.inheritsLoose, n = t.createClass
        }, function(t) {
            r = t.cclegacy, o = t._decorator, a = t.Component
        }, function(t) {
            c = t.Palette
        }],
        execute: function() {
            var l, s;
            r._RF.push({}, "e016e1Ra6ZEiIrIDDKKWBOd", "ColorManager", void 0);
            var i = o.ccclass,
                u = (o.property, t("cColorManagerPaletteSwap", "colormgr-palette-swap"));
            t("ColorManager", i("ColorManager")(((s = function(t) {
                function r() {
                    for (var e, n = arguments.length, r = new Array(n), o = 0; o < n; o++) r[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(r)) || this)._currentPaletteKey = null, e.colors = new Map, e
                }
                e(r, t);
                var o = r.prototype;
                return o.onLoad = function() {
                    var t = this;
                    r._instance = this, this.node.children.forEach((function(e) {
                        var n = e.getComponent(c);
                        n && t.colors.set(n.node.name, n)
                    }))
                }, o.start = function() {}, o.SetCurrentPalette = function(t) {
                    this.colors.has(t) || (console.error("Missing palette named " + t), t = "Default"), this._currentPaletteKey = t;
                    var e = this.currentPalette;
                    return e && this.node.emit(u, e), !0
                }, o.OnPaletteSwap = function(t) {
                    var e;
                    null == (e = this.node) || e.on(u, t)
                }, o.OffPaletteSwap = function(t) {
                    var e;
                    null == (e = this.node) || e.off(u, t)
                }, n(r, [{
                    key: "currentPalette",
                    get: function() {
                        return this._currentPaletteKey ? this.colors.get(this._currentPaletteKey) : null
                    }
                }, {
                    key: "colorKeys",
                    get: function() {
                        return Array.from(this.colors.keys())
                    }
                }], [{
                    key: "Instance",
                    get: function() {
                        return r._instance
                    }
                }]), r
            }(a))._instance = void 0, l = s)) || l);
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ColorSetup.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(o) {
    var e, t, r, i, n, l, c, a, s, u;
    return {
        setters: [function(o) {
            e = o.applyDecoratedDescriptor, t = o.inheritsLoose, r = o.initializerDefineProperty, i = o.assertThisInitialized
        }, function(o) {
            n = o.cclegacy, l = o._decorator, c = o.Sprite, a = o.EditBox, s = o.Color, u = o.Component
        }],
        execute: function() {
            var h, p, f, g, d, x, C;
            n._RF.push({}, "cd13dXyil9Hp44kyNSsEG1M", "ColorSetup", void 0);
            var b = l.ccclass,
                y = l.property;
            o("ColorSetup", (h = b("ColorSetup"), p = y(c), f = y(a), h((x = e((d = function(o) {
                function e() {
                    for (var e, t = arguments.length, n = new Array(t), l = 0; l < t; l++) n[l] = arguments[l];
                    return e = o.call.apply(o, [this].concat(n)) || this, r(e, "spriteColor", x, i(e)), r(e, "hexValue", C, i(e)), e._color = void 0, e.changeCB = void 0, e
                }
                t(e, o);
                var n = e.prototype;
                return n.start = function() {}, n.componentToHex = function(o) {
                    var e = o.toString(16);
                    return 1 == e.length ? "0" + e : e
                }, n.rgbToHex = function(o) {
                    return "#" + this.componentToHex(o.r) + this.componentToHex(o.g) + this.componentToHex(o.b)
                }, n.hexToRgb = function(o) {
                    o = o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, (function(o, e, t, r) {
                        return e + e + t + t + r + r
                    }));
                    var e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);
                    return e ? new s(parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)) : new s
                }, n.initialize = function(o) {
                    this._color = o.clone(), this.hexValue.string = this.rgbToHex(o), this.spriteColor.color = this._color
                }, n.hexColor = function() {
                    return this.rgbToHex(this._color)
                }, n.onEditValueChange = function() {
                    this._color = this.hexToRgb(this.hexValue.string), this.spriteColor.color = this._color, this.changeCB && this.changeCB(this, this._color)
                }, e
            }(u)).prototype, "spriteColor", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), C = e(d.prototype, "hexValue", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), g = d)) || g));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ColorSwapperButton.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColorManager.ts", "./Palette.ts"], (function(t) {
    var o, e, r, n, a, p, i, l, c, s, u;
    return {
        setters: [function(t) {
            o = t.applyDecoratedDescriptor, e = t.inheritsLoose, r = t.initializerDefineProperty, n = t.assertThisInitialized, a = t.createClass
        }, function(t) {
            p = t.cclegacy, i = t._decorator, l = t.Button, c = t.Component
        }, function(t) {
            s = t.ColorManager
        }, function(t) {
            u = t.PaletteColorType
        }],
        execute: function() {
            var y, h, f, C, v, T, b;
            p._RF.push({}, "af47aGZz6lKPK7vzTJ3Oly/", "ColorSwapperButton", void 0);
            var _ = i.ccclass,
                w = i.property,
                P = i.type;
            t("ColorSwapperButton", (y = _("ColorSwapperButton"), h = P(u), f = P(u), y((T = o((v = function(t) {
                function o() {
                    for (var o, e = arguments.length, a = new Array(e), p = 0; p < e; p++) a[p] = arguments[p];
                    return (o = t.call.apply(t, [this].concat(a)) || this)._buttons = [], r(o, "_colorType", T, n(o)), r(o, "_hoverColorType", b, n(o)), o
                }
                e(o, t);
                var p = o.prototype;
                return p.onLoad = function() {
                    this._buttons = this.getComponents(l)
                }, p.start = function() {
                    s.Instance.OnPaletteSwap(this.onPaletteSwap.bind(this)), s.Instance.currentPalette && this.onPaletteSwap(s.Instance.currentPalette)
                }, p.onDestroy = function() {
                    s.Instance.OffPaletteSwap(this.onPaletteSwap.bind(this))
                }, p.onPaletteSwap = function(t) {
                    var o = this;
                    this._buttons ? this._buttons.forEach((function(e) {
                        var r = t.GetColor(o._colorType),
                            n = t.GetColor(o._hoverColorType);
                        e.normalColor = r, e.pressedColor = r, e.hoverColor = n;
                        var a = e.interactable;
                        e.interactable = !0, e.interactable = a
                    })) : console.error("onPaletteSwap -- no sprites to swap")
                }, a(o, [{
                    key: "colorType",
                    get: function() {
                        return this._colorType
                    },
                    set: function(t) {
                        this._colorType = t
                    }
                }, {
                    key: "hoverColorType",
                    get: function() {
                        return this._hoverColorType
                    },
                    set: function(t) {
                        this._hoverColorType = t
                    }
                }]), o
            }(c)).prototype, "_colorType", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return u.UIPrimaryColor
                }
            }), o(v.prototype, "colorType", [h], Object.getOwnPropertyDescriptor(v.prototype, "colorType"), v.prototype), b = o(v.prototype, "_hoverColorType", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return u.UISecondaryColor
                }
            }), o(v.prototype, "hoverColorType", [f], Object.getOwnPropertyDescriptor(v.prototype, "hoverColorType"), v.prototype), C = v)) || C));
            p._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ColorSwapperModel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColorManager.ts", "./Palette.ts"], (function(e) {
    var r, t, o, n, a, l, i, p, c, y, s, u;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, t = e.inheritsLoose, o = e.initializerDefineProperty, n = e.assertThisInitialized, a = e.createClass
        }, function(e) {
            l = e.cclegacy, i = e._decorator, p = e.MeshRenderer, c = e.CCObject, y = e.Component
        }, function(e) {
            s = e.ColorManager
        }, function(e) {
            u = e.PaletteColorType
        }],
        execute: function() {
            var f, C, T, b, g, h, v, w, P, d, m, I, _, O, S, M;
            l._RF.push({}, "445b2fYbdRGDIgGtI/qJ+Fq", "ColorSwapperModel", void 0);
            var z = i.ccclass,
                D = i.property,
                R = i.type,
                j = (f = z("MaterialEntry"), C = D(p), T = R(u), b = D({
                    type: u,
                    visible: function() {
                        return this.setOverlayColor
                    }
                }), f((v = r((h = function(e) {
                    function r() {
                        for (var r, t = arguments.length, a = new Array(t), l = 0; l < t; l++) a[l] = arguments[l];
                        return r = e.call.apply(e, [this].concat(a)) || this, o(r, "TargetRenderer", v, n(r)), o(r, "_colorType", w, n(r)), o(r, "primaryIsTint", P, n(r)), o(r, "setOverlayColor", d, n(r)), o(r, "_overlayColorType", m, n(r)), r
                    }
                    return t(r, e), a(r, [{
                        key: "colorType",
                        get: function() {
                            return this._colorType
                        },
                        set: function(e) {
                            this._colorType = e
                        }
                    }, {
                        key: "overlayColorType",
                        get: function() {
                            return this._overlayColorType
                        },
                        set: function(e) {
                            this._overlayColorType = e
                        }
                    }]), r
                }(c)).prototype, "TargetRenderer", [C], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), w = r(h.prototype, "_colorType", [D], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return u.UIPrimaryColor
                    }
                }), r(h.prototype, "colorType", [T], Object.getOwnPropertyDescriptor(h.prototype, "colorType"), h.prototype), P = r(h.prototype, "primaryIsTint", [D], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return !1
                    }
                }), d = r(h.prototype, "setOverlayColor", [D], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return !1
                    }
                }), m = r(h.prototype, "_overlayColorType", [D], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return u.UIPrimaryColor
                    }
                }), r(h.prototype, "overlayColorType", [b], Object.getOwnPropertyDescriptor(h.prototype, "overlayColorType"), h.prototype), g = h)) || g);
            e("ColorSwapperModel", (I = z("ColorSwapperModel"), _ = D([j]), I((M = r((S = function(e) {
                function r() {
                    for (var r, t = arguments.length, a = new Array(t), l = 0; l < t; l++) a[l] = arguments[l];
                    return r = e.call.apply(e, [this].concat(a)) || this, o(r, "Targets", M, n(r)), r
                }
                t(r, e);
                var a = r.prototype;
                return a.start = function() {
                    s.Instance.OnPaletteSwap(this.onPaletteSwap.bind(this)), s.Instance.currentPalette && this.onPaletteSwap(s.Instance.currentPalette)
                }, a.onDestroy = function() {
                    s.Instance.OffPaletteSwap(this.onPaletteSwap.bind(this))
                }, a.onPaletteSwap = function(e) {
                    var r = this;
                    this.Targets && this.Targets.forEach((function(t) {
                        var o, n = e.GetColor(t.colorType),
                            a = e.GetColor(t.overlayColorType),
                            l = t.TargetRenderer;
                        null == l && (l = r.getComponent(p)), null == (o = l) || o.materials.forEach((function(e) {
                            e.setProperty(t.primaryIsTint ? "tintColor" : "mainColor", n), t.setOverlayColor && e.setProperty("overlay", a)
                        }))
                    }))
                }, r
            }(y)).prototype, "Targets", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), O = S)) || O));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ColorSwapperSprites.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColorManager.ts", "./Palette.ts"], (function(t) {
    var e, o, r, n, i, p, a, s, c, l, u;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, r = t.initializerDefineProperty, n = t.assertThisInitialized, i = t.createClass
        }, function(t) {
            p = t.cclegacy, a = t._decorator, s = t.Sprite, c = t.Component
        }, function(t) {
            l = t.ColorManager
        }, function(t) {
            u = t.PaletteColorType
        }],
        execute: function() {
            var y, f, h, S, w;
            p._RF.push({}, "6fff11xWuZGVpRPTawmHWxE", "ColorSwapperSprites", void 0);
            var P = a.ccclass,
                _ = a.property,
                C = a.type;
            t("ColorSwapperSprites", (y = P("ColorSwapperSprites"), f = C(u), y((w = e((S = function(t) {
                function e() {
                    for (var e, o = arguments.length, i = new Array(o), p = 0; p < o; p++) i[p] = arguments[p];
                    return (e = t.call.apply(t, [this].concat(i)) || this)._sprites = [], r(e, "_colorType", w, n(e)), e
                }
                o(e, t);
                var p = e.prototype;
                return p.onLoad = function() {
                    this._sprites = this.getComponents(s)
                }, p.start = function() {
                    l.Instance.OnPaletteSwap(this.onPaletteSwap.bind(this)), l.Instance.currentPalette && this.onPaletteSwap(l.Instance.currentPalette)
                }, p.onDestroy = function() {
                    l.Instance.OffPaletteSwap(this.onPaletteSwap.bind(this))
                }, p.onPaletteSwap = function(t) {
                    var e = this;
                    this._sprites ? this._sprites.forEach((function(o) {
                        var r = t.GetColor(e._colorType);
                        o.color = r
                    })) : console.error("onPaletteSwap -- no sprites to swap")
                }, i(e, [{
                    key: "colorType",
                    get: function() {
                        return this._colorType
                    },
                    set: function(t) {
                        this._colorType = t
                    }
                }]), e
            }(c)).prototype, "_colorType", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return u.UIPrimaryColor
                }
            }), e(S.prototype, "colorType", [f], Object.getOwnPropertyDescriptor(S.prototype, "colorType"), S.prototype), h = S)) || h));
            p._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ColorSwapperUIText.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColorManager.ts", "./Palette.ts"], (function(t) {
    var e, o, r, n, a, l, i, c, p, s, u;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, r = t.initializerDefineProperty, n = t.assertThisInitialized, a = t.createClass
        }, function(t) {
            l = t.cclegacy, i = t._decorator, c = t.Label, p = t.Component
        }, function(t) {
            s = t.ColorManager
        }, function(t) {
            u = t.PaletteColorType
        }],
        execute: function() {
            var y, f, h, T, P;
            l._RF.push({}, "ac139iYPXBJ7qKfgZt4gxyC", "ColorSwapperUIText", void 0);
            var w = i.ccclass,
                C = i.property,
                _ = i.type;
            t("ColorSwapperUIText", (y = w("ColorSwapperUIText"), f = _(u), y((P = e((T = function(t) {
                function e() {
                    for (var e, o = arguments.length, a = new Array(o), l = 0; l < o; l++) a[l] = arguments[l];
                    return (e = t.call.apply(t, [this].concat(a)) || this)._labels = [], r(e, "_colorType", P, n(e)), e
                }
                o(e, t);
                var l = e.prototype;
                return l.onLoad = function() {
                    this._labels = this.getComponents(c)
                }, l.start = function() {
                    s.Instance.OnPaletteSwap(this.onPaletteSwap.bind(this)), s.Instance.currentPalette && this.onPaletteSwap(s.Instance.currentPalette)
                }, l.onDestroy = function() {
                    s.Instance.OffPaletteSwap(this.onPaletteSwap.bind(this))
                }, l.onPaletteSwap = function(t) {
                    var e = this;
                    this._labels && this._labels.forEach((function(o) {
                        o.color = t.GetColor(e._colorType)
                    }))
                }, a(e, [{
                    key: "colorType",
                    get: function() {
                        return this._colorType
                    },
                    set: function(t) {
                        this._colorType = t
                    }
                }]), e
            }(p)).prototype, "_colorType", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return u.UITextColor1
                }
            }), e(T.prototype, "colorType", [f], Object.getOwnPropertyDescriptor(T.prototype, "colorType"), T.prototype), h = T)) || h));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Connection.ts", ["cc", "./shared_constants.ts", "./index.mjs_cjs=&original=2.js", "./index2.js"], (function(t) {
    var e, n, s, o;
    return {
        setters: [function(t) {
            e = t.cclegacy
        }, function(t) {
            n = t.WebsocketProtocol, s = t.Opcodes
        }, null, function(t) {
            o = t.default
        }],
        execute: function() {
            e._RF.push({}, "dd15aDZY2xKnameMxyoXiFR", "Connection", void 0);
            var i = o.encode,
                c = o.decode;
            t("Connection", function() {
                function t(t, e) {
                    this.events = void 0, this.ws = void 0, this.protocol = void 0, this.ping = -1, this.timeout = -1, this.missedPings = 0, this.rtt = 0, this.pt = 0, this.serverTimeOffset = 0, this._savedUrl = null, this._connecting = !1, this._reconnecting = !1, this._reconnectAttempts = 0, this.events = t, this.protocol = e || n.OPPACK
                }
                var e = t.prototype;
                return e.isOpen = function() {
                    return this.ws && this.ws.readyState == WebSocket.OPEN
                }, e.send = function(t) {
                    if (this.ws)
                        if (this.ws.readyState == WebSocket.OPEN)
                            if (this.protocol == n.JSON) {
                                var e = JSON.stringify(t);
                                this.ws.send(e)
                            } else {
                                if (!i || "function" != typeof i) return void console.log("encode " + i + " is undefined or not a function?");
                                var o = Date.now() - this.serverTimeOffset;
                                t.data._st = o;
                                var c = i(t.data),
                                    r = new Uint8Array(c.length + 2);
                                r[0] = t.opcode, r[1] = t.status || s.Invalid, r.set(c, 2), this.ws.send(r)
                            }
                    else console.error("send - Websocket not open. ReadyState: " + this.ws.readyState);
                    else console.error("NO VALID WEBSOCKET")
                }, e.connect = function(t) {
                    var e = this;
                    this._connecting ? console.warn("trying to connect while connecting. no") : (this._connecting = !0, this.ws && (this.ws.onclose = null, this.ws.onerror = null, this.ws.onmessage = null, this.ws.onopen = null, this.ws = null), this.ws = new WebSocket(t, this.protocol), this._savedUrl = t, this.protocol == n.OPPACK && (this.ws.binaryType = "arraybuffer"), this.ws.onopen = function(t) {
                        e.events.onopen(t), e._reconnectAttempts = 0, e._reconnecting = !1, e.send({
                            opcode: s.Ping,
                            data: {}
                        }), e.pt = Date.now(), e._connecting = !1
                    }, this.ws.onmessage = function(t) {
                        var o = null;
                        if (e.protocol == n.JSON) o = JSON.parse(t.data);
                        else {
                            var i = new Uint8Array(t.data),
                                r = i[0],
                                a = i[1],
                                h = c(i.subarray(2));
                            if (h._st) {
                                var l = Date.now() - e.serverTimeOffset,
                                    d = h._stime ? h._stime - h._st : 0,
                                    u = h._stime ? l - h._stime : 0,
                                    p = h._st ? l - h._st : 0;
                                h._time = {
                                    senderToServer: d,
                                    serverToUs: u,
                                    senderToUs: p,
                                    serverTime: l
                                }
                            }
                            o = {
                                opcode: r,
                                status: a,
                                data: h
                            }
                        }
                        if (o.opcode == s.Pong) {
                            e.timeout > -1 && (clearTimeout(e.timeout), e.timeout = -1);
                            var v = Date.now();
                            return e.rtt = v - e.pt, void(e.serverTimeOffset = Date.now() - o.data.time - .5 * e.rtt)
                        }
                        e.events.onmessage(o)
                    }, this.ws.onclose = function(t) {
                        e.events.onclose(t), e.attemptReconnect()
                    }, this.ws.onerror = function(t) {
                        e.events.onerror(t), e._reconnecting && (e._reconnecting = !1)
                    }, clearInterval(this.ping), this.ping = setInterval((function() {
                        e.isOpen() && (e.send({
                            opcode: s.Ping,
                            data: {}
                        }), e.pt = Date.now(), e.timeout = setTimeout((function() {
                            e.missedPings++, e.missedPings > 3 && (clearInterval(e.ping), e.ping = -1, e.missedPings = 0, e._savedUrl && !e._connecting && (console.warn("missed 3 pings, attempt reconnect"), e.attemptReconnect()))
                        }), 5e3))
                    }), 6e3))
                }, e.attemptReconnect = function() {
                    var t = this;
                    this._savedUrl && this._reconnectAttempts < 5 ? this._reconnecting || (this._reconnecting = !0, setTimeout((function() {
                        t._reconnectAttempts++, t._reconnecting = !1, t.events.onreconnect(!1), t._connecting = !1, t.connect(t._savedUrl)
                    }), 1e3 * this._reconnectAttempts)) : (this.events.onreconnect(!0), console.warn("cannot reconnect. attempts: " + this._reconnectAttempts))
                }, e.close = function(t, e) {
                    this.ws && (this.ws.close(t, e), this.ping > -1 && (clearInterval(this.ping), this.ping = -1))
                }, t
            }());
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ConstantRotation.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, n, o, i, r, a, s, c;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, a = t._decorator, s = t.Vec3, c = t.Component
        }],
        execute: function() {
            var l, u, p, f, d, h;
            r._RF.push({}, "66f60QhPGdNUIV+v14fgI4R", "ConstantRotation", void 0);
            var y = a.ccclass,
                g = a.property;
            t("ConstantRotation", (l = y("ConstantRotation"), u = g(s), l((d = e((f = function(t) {
                function e() {
                    for (var e, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, o(e, "axis", d, i(e)), o(e, "speed", h, i(e)), e
                }
                return n(e, t), e.prototype.update = function(t) {
                    this.node.setRotationFromEuler(this.node.eulerAngles.clone().add(this.axis.clone().multiplyScalar(this.speed * t)))
                }, e
            }(c)).prototype, "axis", [u], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s(1, 0, 0)
                }
            }), h = e(f.prototype, "speed", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), p = f)) || p));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CourseCountResize.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var t, i, r, o, n, a, s, l, u, c, h;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, a = e._decorator, s = e.Layout, l = e.Widget, u = e.UITransform, c = e.Component
        }, function(e) {
            h = e.GameManager
        }],
        execute: function() {
            var y, f, p, d, v, b, g, L, P, m, z, C, w, H, x, E, W;
            n._RF.push({}, "f03468mbThK3p5DIyU2u4W5", "CourseCountResize", void 0);
            var I = a.ccclass,
                R = a.property;
            e("CourseCountResize", (y = I("CourseCountResize"), f = R([s]), p = R([l]), d = R([u]), v = R([u]), b = R([u]), g = R(u), L = R(l), y((z = t((m = function(e) {
                function t() {
                    for (var t, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(n)) || this, r(t, "parentLayout", z, o(t)), r(t, "layoutImages", C, o(t)), r(t, "threePlayer", w, o(t)), r(t, "sixPlayer", H, o(t)), r(t, "PlayerHoles", x, o(t)), r(t, "layoutWidth", E, o(t)), r(t, "scoresLayout", W, o(t)), t
                }
                i(t, e);
                var n = t.prototype;
                return n.onEnable = function() {
                    var e = h.Instance.currentMode;
                    this.setLevelCount(e.tournamentLevelCount)
                }, n.setLevelCount = function(e) {
                    3 == e ? this.threeLevels() : 6 == e ? this.sixLevels() : this.nineLevels()
                }, n.threeLevels = function() {
                    this.AdjustHoles(this.PlayerHoles, 3), this.sixPlayer.forEach((function(e) {
                        e.node.active = !1
                    })), this.threePlayer.forEach((function(e) {
                        e.node.active = !0
                    })), this.layoutWidth.width = 445, this.scoresLayout.right = .265
                }, n.sixLevels = function() {
                    this.AdjustHoles(this.PlayerHoles, 6), this.threePlayer.forEach((function(e) {
                        e.node.active = !1
                    })), this.sixPlayer.forEach((function(e) {
                        e.node.active = !0
                    })), this.layoutWidth.width = 557, this.scoresLayout.right = .21
                }, n.nineLevels = function() {
                    this.AdjustHoles(this.PlayerHoles, this.PlayerHoles.length), this.threePlayer.forEach((function(e) {
                        e.node.active = !0
                    })), this.sixPlayer.forEach((function(e) {
                        e.node.active = !0
                    })), this.layoutWidth.width = 665, this.scoresLayout.right = .18
                }, n.AdjustHoles = function(e, t) {
                    e.forEach((function(e) {
                        e.node.active = !1
                    }));
                    for (var i = 0; i < t; i++) e[i].node.active = !0
                }, t
            }(c)).prototype, "parentLayout", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), C = t(m.prototype, "layoutImages", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), w = t(m.prototype, "threePlayer", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), H = t(m.prototype, "sixPlayer", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), x = t(m.prototype, "PlayerHoles", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), E = t(m.prototype, "layoutWidth", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), W = t(m.prototype, "scoresLayout", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = m)) || P));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CourseCountResizeEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var t, r, n, o, i, s, a, c, u;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, s = e._decorator, a = e.UITransform, c = e.Component
        }, function(e) {
            u = e.GameManager
        }],
        execute: function() {
            var l, h, f, p, v, y, d;
            i._RF.push({}, "20c34MGdUtMnbPuwrQ5hY7A", "CourseCountResizeEntry", void 0);
            var L = s.ccclass,
                g = s.property;
            e("CourseCountResizeEntry", (l = L("CourseCountResizeEntry"), h = g(a), f = g([a]), l((y = t((v = function(e) {
                function t() {
                    for (var t, r = arguments.length, i = new Array(r), s = 0; s < r; s++) i[s] = arguments[s];
                    return t = e.call.apply(e, [this].concat(i)) || this, n(t, "nameLength", y, o(t)), n(t, "PlayerScores", d, o(t)), t
                }
                r(t, e);
                var i = t.prototype;
                return i.onEnable = function() {
                    var e = u.Instance.currentMode;
                    this.setLevelCount(e.tournamentLevelCount)
                }, i.setLevelCount = function(e) {
                    3 == e ? this.threeLevels() : 6 == e ? this.sixLevels() : this.nineLevels()
                }, i.threeLevels = function() {
                    this.AdjustScoreorHoles(this.PlayerScores, 3)
                }, i.sixLevels = function() {
                    this.AdjustScoreorHoles(this.PlayerScores, 6)
                }, i.nineLevels = function() {
                    this.AdjustScoreorHoles(this.PlayerScores, this.PlayerScores.length)
                }, i.AdjustScoreorHoles = function(e, t) {
                    e.forEach((function(e) {
                        e.node.active = !1
                    }));
                    for (var r = 0; r < t; r++) e[r].node.active = !0
                }, t
            }(c)).prototype, "nameLength", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), d = t(v.prototype, "PlayerScores", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), p = v)) || p));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CourseCountUpdate.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfMode.ts", "./gameManager.ts"], (function(e) {
    var t, o, n, r, l, a, u, i, s, C, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            l = e.cclegacy, a = e._decorator, u = e.CCInteger, i = e.Label, s = e.Component
        }, function(e) {
            C = e.GameplayMode
        }, function(e) {
            p = e.GameManager
        }],
        execute: function() {
            var c, m, f, g, d, h, y, v, b;
            l._RF.push({}, "f44e1Kg4YVDEJasCTWRDpAI", "CourseCountUpdate", void 0);
            var H = a.ccclass,
                M = a.property;
            e("CourseCountUpdate", (c = H("CourseCountUpdate"), m = M(u), f = M(u), g = M(i), c((y = t((h = function(e) {
                function t() {
                    for (var t, o = arguments.length, l = new Array(o), a = 0; a < o; a++) l[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(l)) || this, n(t, "HoleCountTotal", y, r(t)), n(t, "HoleCountCurrent", v, r(t)), n(t, "CourseComplete", b, r(t)), t
                }
                o(t, e);
                var l = t.prototype;
                return l.start = function() {
                    var e = p.Instance.currentMode;
                    this.HoleCountCurrent = e.levelsComplete + 1, this.HoleCountTotal = e.tournamentLevelCount
                }, l.onEnable = function() {
                    var e = p.Instance.currentMode;
                    this.HoleCountCurrent = e.levelsComplete + 1, this.HoleCountTotal = e.tournamentLevelCount, e.gameplayMode == C.Tournament ? this.CourseComplete.string = "Course " + this.HoleCountCurrent + " of " + this.HoleCountTotal : e.gameplayMode == C.Casual && (this.CourseComplete.string = "Course Complete!")
                }, t
            }(s)).prototype, "HoleCountTotal", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = t(h.prototype, "HoleCountCurrent", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), b = t(h.prototype, "CourseComplete", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), d = h)) || d));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CourseDefinition.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var i, r, n, t, o, l, a, u, c, p, s;
    return {
        setters: [function(e) {
            i = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, t = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, l = e._decorator, a = e.SpriteFrame, u = e.CCString, c = e.CCInteger, p = e.Color, s = e.Component
        }],
        execute: function() {
            var b, f, m, y, g, C, h, w, z, d, D, v, I, N, S;
            o._RF.push({}, "eac74WB6Y9I35e3SXqR54Iz", "CourseDefinition", void 0);
            var _ = l.ccclass,
                x = l.property;
            e("CourseDefinition", (b = _("CourseDefinition"), f = x(a), m = x(u), y = x(u), g = x({
                type: c
            }), C = x(p), h = x(p), b((d = i((z = function(e) {
                function i() {
                    for (var i, r = arguments.length, o = new Array(r), l = 0; l < r; l++) o[l] = arguments[l];
                    return i = e.call.apply(e, [this].concat(o)) || this, n(i, "thumbnail", d, t(i)), n(i, "displayName", D, t(i)), n(i, "sceneName", v, t(i)), n(i, "numHoles", I, t(i)), n(i, "bgColor", N, t(i)), n(i, "textColor", S, t(i)), i
                }
                return r(i, e), i
            }(s)).prototype, "thumbnail", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = i(z.prototype, "displayName", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = i(z.prototype, "sceneName", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = i(z.prototype, "numHoles", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 6
                }
            }), N = i(z.prototype, "bgColor", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(70, 98, 173)
                }
            }), S = i(z.prototype, "textColor", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(255, 255, 255)
                }
            }), w = z)) || w));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Cup.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts"], (function(r) {
    var e, t, n, o, i, l, a, c, u, p;
    return {
        setters: [function(r) {
            e = r.applyDecoratedDescriptor, t = r.inheritsLoose, n = r.initializerDefineProperty, o = r.assertThisInitialized
        }, function(r) {
            i = r.cclegacy, l = r._decorator, a = r.Collider, c = r.Vec3, u = r.Component
        }, function(r) {
            p = r.BallHandler
        }],
        execute: function() {
            var s, g, d, f, h, y;
            i._RF.push({}, "0102aZ3oxJG6ZFQ9x8mf+8q", "Cup", void 0);
            var C = l.ccclass,
                w = l.property;
            r("Cup", (s = C("Cup"), g = w(a), s((h = e((f = function(r) {
                function e() {
                    for (var e, t = arguments.length, i = new Array(t), l = 0; l < t; l++) i[l] = arguments[l];
                    return e = r.call.apply(r, [this].concat(i)) || this, n(e, "TriggerCollider", h, o(e)), n(e, "DownwardForce", y, o(e)), e
                }
                t(e, r);
                var i = e.prototype;
                return i.start = function() {
                    this.TriggerCollider.on("onTriggerEnter", this.onTriggerEnter, this)
                }, i.onTriggerEnter = function(r) {
                    var e = r.otherCollider.node.getComponent(p);
                    e && e.applyForce(c.UP.clone().multiplyScalar(-this.DownwardForce))
                }, e
            }(u)).prototype, "TriggerCollider", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), y = e(f.prototype, "DownwardForce", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 300
                }
            }), d = f)) || d));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/CustomRenderPipeline.ts", ["cc", "./PassUtils.ts"], (function(e) {
    var n, r, s, a, t, i, u, o, c;
    return {
        setters: [function(e) {
            n = e.cclegacy, r = e.renderer, s = e.game, a = e.Game, t = e.rendering
        }, function(e) {
            i = e.decideProfilerCamera, u = e.buildForwardPass, o = e.isUICamera, c = e.buildUIPass
        }],
        execute: function() {
            n._RF.push({}, "2baa1sk1CpCB5GGkoJqYnpf", "CustomRenderPipeline", void 0);
            var m = e("CustomRenderPipeline", function() {
                function e() {}
                return e.prototype.setup = function(e, n) {
                    i(e);
                    for (var s = 0; s < e.length; s++) {
                        var a = e[s];
                        if (null !== a.scene)(a.cameraUsage === r.scene.CameraUsage.GAME || a.cameraUsage === r.scene.CameraUsage.GAME_VIEW) && o(a) ? c(a, n) : u(a, n, !1)
                    }
                }, e
            }());
            s.on(a.EVENT_RENDERER_INITED, (function() {
                t.setCustomPipeline("CustomRender", new m)
            })), n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, o, i, n, s, l, r, a, g, h, p, c, C, d, m, u, L;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, i = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            s = t.cclegacy, l = t._decorator, r = t.Node, a = t.Color, g = t.Canvas, h = t.UITransform, p = t.instantiate, c = t.Label, C = t.RichText, d = t.Toggle, m = t.Button, u = t.director, L = t.Component
        }],
        execute: function() {
            var f, M, b, v, T, S, x, E, I;
            s._RF.push({}, "b2bd1+njXxJxaFY3ymm06WU", "debug-view-runtime-control", void 0);
            var A = l.ccclass,
                y = l.property;
            t("DebugViewRuntimeControl", (f = A("internal.DebugViewRuntimeControl"), M = y(r), b = y(r), v = y(r), f((x = e((S = function(t) {
                function e() {
                    for (var e, o = arguments.length, s = new Array(o), l = 0; l < o; l++) s[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(s)) || this, i(e, "compositeModeToggle", x, n(e)), i(e, "singleModeToggle", E, n(e)), i(e, "EnableAllCompositeModeButton", I, n(e)), e._single = 0, e.strSingle = ["No Single Debug", "Vertex Color", "Vertex Normal", "Vertex Tangent", "World Position", "Vertex Mirror", "Face Side", "UV0", "UV1", "UV Lightmap", "Project Depth", "Linear Depth", "Fragment Normal", "Fragment Tangent", "Fragment Binormal", "Base Color", "Diffuse Color", "Specular Color", "Transparency", "Metallic", "Roughness", "Specular Intensity", "IOR", "Direct Diffuse", "Direct Specular", "Direct All", "Env Diffuse", "Env Specular", "Env All", "Emissive", "Light Map", "Shadow", "AO", "Fresnel", "Direct Transmit Diffuse", "Direct Transmit Specular", "Env Transmit Diffuse", "Env Transmit Specular", "Transmit All", "Direct Internal Specular", "Env Internal Specular", "Internal All", "Fog"], e.strComposite = ["Direct Diffuse", "Direct Specular", "Env Diffuse", "Env Specular", "Emissive", "Light Map", "Shadow", "AO", "Normal Map", "Fog", "Tone Mapping", "Gamma Correction", "Fresnel", "Transmit Diffuse", "Transmit Specular", "Internal Specular", "TT"], e.strMisc = ["CSM Layer Coloration", "Lighting With Albedo"], e.compositeModeToggleList = [], e.singleModeToggleList = [], e.miscModeToggleList = [], e.textComponentList = [], e.labelComponentList = [], e.textContentList = [], e.hideButtonLabel = void 0, e._currentColorIndex = 0, e.strColor = ["<color=#ffffff>", "<color=#000000>", "<color=#ff0000>", "<color=#00ff00>", "<color=#0000ff>"], e.color = [a.WHITE, a.BLACK, a.RED, a.GREEN, a.BLUE], e
                }
                o(e, t);
                var s = e.prototype;
                return s.start = function() {
                    if (this.node.parent.getComponent(g)) {
                        var t = this.node.parent.getComponent(h),
                            e = .5 * t.width,
                            o = .5 * t.height,
                            i = .1 * e - e,
                            n = o - .1 * o,
                            s = this.node.getChildByName("MiscMode"),
                            l = p(s);
                        l.parent = this.node, l.name = "Buttons";
                        var r = p(s);
                        r.parent = this.node, r.name = "Titles";
                        for (var u = 0; u < 2; u++) {
                            var L = p(this.EnableAllCompositeModeButton.getChildByName("Label"));
                            L.setPosition(i + (u > 0 ? 450 : 150), n, 0), L.setScale(.75, .75, .75), L.parent = r;
                            var f = L.getComponent(c);
                            f.string = u ? "----------Composite Mode----------" : "----------Single Mode----------", f.color = a.WHITE, f.overflow = 0, this.labelComponentList[this.labelComponentList.length] = f
                        }
                        n -= 20;
                        for (var M = 0, b = 0; b < this.strSingle.length; b++, M++) {
                            b === this.strSingle.length >> 1 && (i += 200, M = 0);
                            var v = b ? p(this.singleModeToggle) : this.singleModeToggle;
                            v.setPosition(i, n - 20 * M, 0), v.setScale(.5, .5, .5), v.parent = this.singleModeToggle.parent;
                            var T = v.getComponentInChildren(C);
                            T.string = this.strSingle[b], this.textComponentList[this.textComponentList.length] = T, this.textContentList[this.textContentList.length] = T.string, v.on(d.EventType.TOGGLE, this.toggleSingleMode, this), this.singleModeToggleList[b] = v
                        }
                        i += 200, this.EnableAllCompositeModeButton.setPosition(i + 15, n, 0), this.EnableAllCompositeModeButton.setScale(.5, .5, .5), this.EnableAllCompositeModeButton.on(m.EventType.CLICK, this.enableAllCompositeMode, this), this.EnableAllCompositeModeButton.parent = l;
                        var S = this.EnableAllCompositeModeButton.getComponentInChildren(c);
                        this.labelComponentList[this.labelComponentList.length] = S;
                        var x = p(this.EnableAllCompositeModeButton);
                        x.setPosition(i + 90, n, 0), x.setScale(.5, .5, .5), x.on(m.EventType.CLICK, this.changeTextColor, this), x.parent = l, (S = x.getComponentInChildren(c)).string = "TextColor", this.labelComponentList[this.labelComponentList.length] = S;
                        var E = p(this.EnableAllCompositeModeButton);
                        E.setPosition(i + 200, n, 0), E.setScale(.5, .5, .5), E.on(m.EventType.CLICK, this.hideUI, this), E.parent = this.node.parent, (S = E.getComponentInChildren(c)).string = "Hide UI", this.labelComponentList[this.labelComponentList.length] = S, this.hideButtonLabel = S, n -= 40;
                        for (var I = 0; I < this.strMisc.length; I++) {
                            var A = p(this.compositeModeToggle);
                            A.setPosition(i, n - 20 * I, 0), A.setScale(.5, .5, .5), A.parent = s;
                            var y = A.getComponentInChildren(C);
                            y.string = this.strMisc[I], this.textComponentList[this.textComponentList.length] = y, this.textContentList[this.textContentList.length] = y.string, A.getComponent(d).isChecked = !!I, A.on(d.EventType.TOGGLE, I ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this), this.miscModeToggleList[I] = A
                        }
                        n -= 150;
                        for (var D = 0; D < this.strComposite.length; D++) {
                            var B = D ? p(this.compositeModeToggle) : this.compositeModeToggle;
                            B.setPosition(i, n - 20 * D, 0), B.setScale(.5, .5, .5), B.parent = this.compositeModeToggle.parent;
                            var w = B.getComponentInChildren(C);
                            w.string = this.strComposite[D], this.textComponentList[this.textComponentList.length] = w, this.textContentList[this.textContentList.length] = w.string, B.on(d.EventType.TOGGLE, this.toggleCompositeMode, this), this.compositeModeToggleList[D] = B
                        }
                    } else console.error("debug-view-runtime-control should be child of Canvas")
                }, s.isTextMatched = function(t, e) {
                    var o = new String(t),
                        i = o.search(">");
                    return -1 === i ? t === e : (o = (o = o.substr(i + 1)).substr(0, o.search("<"))) === e
                }, s.toggleSingleMode = function(t) {
                    for (var e = u.root.debugView, o = t.getComponentInChildren(C), i = 0; i < this.strSingle.length; i++) this.isTextMatched(o.string, this.strSingle[i]) && (e.singleMode = i)
                }, s.toggleCompositeMode = function(t) {
                    for (var e = u.root.debugView, o = t.getComponentInChildren(C), i = 0; i < this.strComposite.length; i++) this.isTextMatched(o.string, this.strComposite[i]) && e.enableCompositeMode(i, t.isChecked)
                }, s.toggleLightingWithAlbedo = function(t) {
                    u.root.debugView.lightingWithAlbedo = t.isChecked
                }, s.toggleCSMColoration = function(t) {
                    u.root.debugView.csmLayerColoration = t.isChecked
                }, s.enableAllCompositeMode = function(t) {
                    var e = u.root.debugView;
                    e.enableAllCompositeMode(!0);
                    for (var o = 0; o < this.compositeModeToggleList.length; o++) {
                        this.compositeModeToggleList[o].getComponent(d).isChecked = !0
                    }
                    var i = this.miscModeToggleList[0].getComponent(d);
                    i.isChecked = !1, e.csmLayerColoration = !1, (i = this.miscModeToggleList[1].getComponent(d)).isChecked = !0, e.lightingWithAlbedo = !0
                }, s.hideUI = function(t) {
                    var e = this.node.getChildByName("Titles"),
                        o = !e.active;
                    this.singleModeToggleList[0].parent.active = o, this.miscModeToggleList[0].parent.active = o, this.compositeModeToggleList[0].parent.active = o, this.EnableAllCompositeModeButton.parent.active = o, e.active = o, this.hideButtonLabel.string = o ? "Hide UI" : "Show UI"
                }, s.changeTextColor = function(t) {
                    this._currentColorIndex++, this._currentColorIndex >= this.strColor.length && (this._currentColorIndex = 0);
                    for (var e = 0; e < this.textComponentList.length; e++) this.textComponentList[e].string = this.strColor[this._currentColorIndex] + this.textContentList[e] + "</color>";
                    for (var o = 0; o < this.labelComponentList.length; o++) this.labelComponentList[o].color = this.color[this._currentColorIndex]
                }, s.onLoad = function() {}, s.update = function(t) {}, e
            }(L)).prototype, "compositeModeToggle", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = e(S.prototype, "singleModeToggle", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = e(S.prototype, "EnableAllCompositeModeButton", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), T = S)) || T));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerCameraSetup.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var t, o, i, l, r, n, a, s, h;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, i = e.initializerDefineProperty, l = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, n = e._decorator, a = e.RichText, s = e.Component
        }, function(e) {
            h = e.GameManager
        }],
        execute: function() {
            var u, c, g, p, f, d, b, _, m, S, v, x, y, z, P, T, B;
            r._RF.push({}, "674f34zkU9BT4vWKXz2y7JV", "DebuggerCameraSetup", void 0);
            var H = n.ccclass,
                w = n.property;
            e("DebuggerCameraSetup", (u = H("DebuggerCameraSetup"), c = w(a), g = w(a), p = w(a), f = w(a), d = w(a), b = w(a), _ = w(a), u((v = t((S = function(e) {
                function t() {
                    for (var t, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];
                    return t = e.call.apply(e, [this].concat(r)) || this, i(t, "holeNum", v, l(t)), t._hole = 0, i(t, "hole1", x, l(t)), i(t, "hole2", y, l(t)), i(t, "hole3", z, l(t)), i(t, "hole4", P, l(t)), i(t, "hole5", T, l(t)), i(t, "hole6", B, l(t)), t._holeSetup = [], t._level = void 0, t._golfPlayer = void 0, t._camera = void 0, t
                }
                o(t, e);
                var r = t.prototype;
                return r.start = function() {}, r.onEnable = function() {
                    var e = h.Instance.currentMode;
                    if (this._level = e.currentLevel, this._golfPlayer = e.localGolfPlayer, this._camera = e.playerCamera, this._level) {
                        if (0 == this._holeSetup.length)
                            for (var t = 0; t < 6; t++) this._holeSetup.push(this._level.getHoleCameraSetup(t).clone());
                        for (var o = 0; o < 6; o++) this.updateHoleText(o)
                    }
                }, r.onDisabled = function() {}, r.moveHoleForward = function() {
                    this._hole = (this._hole + 1) % 6, this.setHole(), this.readSettings()
                }, r.moveHoleBackward = function() {
                    this._hole = this._hole > 0 ? this._hole - 1 : 5, this.setHole(), this.readSettings()
                }, r.setHole = function() {
                    this.holeNum.string = " " + (this._hole + 1) + " ", this._golfPlayer.DebugSetHole(this._hole + 1)
                }, r.storeSettings = function() {
                    this._holeSetup[this._hole].rigBlendPosition = this._camera.rigBlendPos, this._holeSetup[this._hole].xzOrbitAngleRadians = this._camera.xzOrbitAngle, this._holeSetup[this._hole].zoomBlendPosition = this._camera.zoomBlendPos, this.updateHoleText(this._hole)
                }, r.updateHoleText = function(e) {
                    switch (e) {
                        case 0:
                            this.hole1.string = this.getText(e);
                            break;
                        case 1:
                            this.hole2.string = this.getText(e);
                            break;
                        case 2:
                            this.hole3.string = this.getText(e);
                            break;
                        case 3:
                            this.hole4.string = this.getText(e);
                            break;
                        case 4:
                            this.hole5.string = this.getText(e);
                            break;
                        case 5:
                            this.hole6.string = this.getText(e)
                    }
                }, r.readSettings = function() {
                    this._camera.debugSetCameraFromHoleConfig(this._holeSetup[this._hole])
                }, r.getText = function(e) {
                    var t = this._holeSetup[e].xzOrbitAngleRadians,
                        o = this._holeSetup[e].zoomBlendPosition,
                        i = this._holeSetup[e].rigBlendPosition;
                    return "<color=#ffff>Hole " + (e + 1) + "</color>\n<color=#00ffff>XZ Orbit: " + t.toFixed(1) + "</color>\n<color=#00ffff>Rig Blend: " + i.toFixed(1) + "</color>\n<color=#00ffff>Zoom: " + o.toFixed(1) + "</color>"
                }, r.importSettings = function() {
                    var e = this;
                    navigator.clipboard.readText().then((function(t) {
                        if (t) {
                            console.log("imported:"), console.log(t);
                            for (var o = JSON.parse(t), i = 0; i < 6; i++) {
                                var l = e._holeSetup[i];
                                l.xzOrbitAngleRadians = o[i].xzOrbitAngleRadians, l.rigBlendPosition = o[i].rigBlendPosition, l.zoomBlendPosition = o[i].zoomBlendPosition, e.updateHoleText(i)
                            }
                            e.readSettings()
                        }
                    }))
                }, r.exportSettings = function() {
                    var e = JSON.stringify(this._holeSetup);
                    console.log("exported:"), console.log(e), navigator.clipboard.writeText(e)
                }, t
            }(s)).prototype, "holeNum", [c], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = t(S.prototype, "hole1", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), y = t(S.prototype, "hole2", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), z = t(S.prototype, "hole3", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = t(S.prototype, "hole4", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), T = t(S.prototype, "hole5", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), B = t(S.prototype, "hole6", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), m = S)) || m));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerColorSelect.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColorSetup.ts", "./gameManager.ts", "./ColorManager.ts"], (function(o) {
    var r, t, l, e, i, n, a, s, C, c, h;
    return {
        setters: [function(o) {
            r = o.applyDecoratedDescriptor, t = o.inheritsLoose, l = o.initializerDefineProperty, e = o.assertThisInitialized
        }, function(o) {
            i = o.cclegacy, n = o._decorator, a = o.RichText, s = o.Component
        }, function(o) {
            C = o.ColorSetup
        }, function(o) {
            c = o.GameManager
        }, function(o) {
            h = o.ColorManager
        }],
        execute: function() {
            var u, p, g, f, b, S, y, v, w, d, m, z, _, L, x, B, k, H, D, I, M, N, A, K, F;
            i._RF.push({}, "b0241/MvHlANLf2fCDuAPXt", "DebuggerColorSelect", void 0);
            var P = n.ccclass,
                R = n.property;
            o("DebuggerColorSelect", (u = P("DebuggerColorSelect"), p = R(a), g = R(C), f = R(C), b = R(C), S = R(C), y = R(C), v = R(C), w = R(C), d = R(C), m = R(C), z = R(C), u((x = r((L = function(o) {
                function r() {
                    for (var r, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                    return r = o.call.apply(o, [this].concat(i)) || this, l(r, "colorNum", x, e(r)), r._curColor = 0, l(r, "propColor", B, e(r)), l(r, "topColor", k, e(r)), l(r, "topColorHi", H, e(r)), l(r, "topColorSh1", D, e(r)), l(r, "topColorSh2", I, e(r)), l(r, "topColorSh3", M, e(r)), l(r, "wallColor", N, e(r)), l(r, "fogColor", A, e(r)), l(r, "skyColor", K, e(r)), l(r, "lightColor", F, e(r)), r
                }
                t(r, o);
                var i = r.prototype;
                return i.start = function() {}, i.onEnable = function() {
                    this._curColor = 0, this.readSettings();
                    var o = c.Instance.currentMode,
                        r = h.Instance.colors,
                        t = Array.from(r.keys())[this._curColor];
                    this.propColor.changeCB = function(l, e) {
                        r[t].propColor = e, o.currentLevel.setColors(t)
                    }, this.topColor.changeCB = function(l, e) {
                        r[t].topColor = e, o.currentLevel.setColors(t)
                    }, this.topColorHi.changeCB = function(l, e) {
                        r[t].topHighlightColor = e, o.currentLevel.setColors(t)
                    }, this.topColorSh1.changeCB = function(l, e) {
                        r[t].topShadow1Color = e, o.currentLevel.setColors(t)
                    }, this.topColorSh2.changeCB = function(l, e) {
                        r[t].topShadow2Color = e, o.currentLevel.setColors(t)
                    }, this.topColorSh3.changeCB = function(l, e) {
                        r[t].topShadow3Color = e, o.currentLevel.setColors(t)
                    }, this.wallColor.changeCB = function(l, e) {
                        r[t].wallColor = e, o.currentLevel.setColors(t)
                    }, this.fogColor.changeCB = function(l, e) {
                        r[t].fogColor = e, o.currentLevel.setColors(t)
                    }, this.skyColor.changeCB = function(l, e) {
                        r[t].skyColor = e, o.currentLevel.setColors(t)
                    }, this.lightColor.changeCB = function(l, e) {
                        r[t].mainLight = e, o.currentLevel.setColors(t)
                    }
                }, i.onDisabled = function() {}, i.moveForward = function() {
                    var o = h.Instance.colorKeys;
                    this._curColor++, this._curColor %= o.length, this.updateColors(), this.readSettings()
                }, i.moveBackward = function() {
                    var o = h.Instance.colorKeys;
                    this._curColor--, this._curColor < 0 && (this._curColor = o.length - 1), this.updateColors(), this.readSettings()
                }, i.storeSettings = function() {}, i.updateColors = function() {
                    var o = h.Instance.colorKeys;
                    this.colorNum.string = "" + (this._curColor + 1), c.Instance.currentMode.currentLevel.setColors(o[this._curColor])
                }, i.readSettings = function() {
                    var o = h.Instance.colorKeys;
                    if (!(this._curColor < 0 || this._curColor >= o.length)) {
                        var r = h.Instance.colors[o[this._curColor]];
                        r && (this.propColor.initialize(r.propColor), this.topColor.initialize(r.topColor), this.topColorHi.initialize(r.topHighlightColor), this.topColorSh1.initialize(r.topShadow1Color), this.topColorSh2.initialize(r.topShadow2Color), this.topColorSh3.initialize(r.topShadow3Color), this.wallColor.initialize(r.wallColor), this.fogColor.initialize(r.fogColor), this.skyColor.initialize(r.skyColor), this.lightColor.initialize(r.mainLight))
                    }
                }, i.exportSettings = function() {
                    var o = {
                            prop: this.propColor.hexColor(),
                            top: this.topColor.hexColor(),
                            topHi: this.topColorHi.hexColor(),
                            topSh1: this.topColorSh1.hexColor(),
                            topSh2: this.topColorSh2.hexColor(),
                            topSh3: this.topColorSh3.hexColor(),
                            wall: this.wallColor.hexColor(),
                            fog: this.fogColor.hexColor(),
                            sky: this.skyColor.hexColor(),
                            light: this.lightColor.hexColor()
                        },
                        r = JSON.stringify(o);
                    console.log("exported:"), console.log(r), navigator.clipboard.writeText(r)
                }, r
            }(s)).prototype, "colorNum", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), B = r(L.prototype, "propColor", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = r(L.prototype, "topColor", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = r(L.prototype, "topColorHi", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = r(L.prototype, "topColorSh1", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = r(L.prototype, "topColorSh2", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), M = r(L.prototype, "topColorSh3", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), N = r(L.prototype, "wallColor", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), A = r(L.prototype, "fogColor", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), K = r(L.prototype, "skyColor", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), F = r(L.prototype, "lightColor", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = L)) || _));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerMiscSettings.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./golfUI.ts", "./StatusEffects.ts", "./activity.ts"], (function(e) {
    var t, n, o, r, i, a, l, s, c, g, u, f, h, d, b;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, l = e.Toggle, s = e.Label, c = e.sys, g = e.Vec3, u = e.Component
        }, function(e) {
            f = e.GameManager
        }, function(e) {
            h = e.GolfUI
        }, function(e) {
            d = e.StatusEffects
        }, function(e) {
            b = e.default
        }],
        execute: function() {
            var y, p, S, I, T, w, M, k, E, m, v, G, C;
            i._RF.push({}, "b72c3GSj6dGY78YtxxxLdlb", "DebuggerMiscSettings", void 0);
            var D = a.ccclass,
                P = a.property;
            e("DebuggerMiscSettings", (y = D("DebuggerMiscSettings"), p = P(l), S = P(l), I = P(l), T = P(l), w = P(s), y((E = t((k = function(e) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(i)) || this, o(t, "ignoreMaxStrokesToggle", E, r(t)), o(t, "infiniteStatusEffectCharges", m, r(t)), o(t, "networkToggle", v, r(t)), o(t, "hwAccelToggle", G, r(t)), o(t, "safeAreaInfo", C, r(t)), t._networkDebug = !1, t
                }
                n(t, e);
                var i = t.prototype;
                return i.onEnable = function() {
                    this.ignoreMaxStrokesToggle.setIsCheckedWithoutNotify(f.Instance.currentMode.ignoreMaxSwingAttempts), this.infiniteStatusEffectCharges.setIsCheckedWithoutNotify(d.debugInfiniteStatusEffectCharges), this._networkDebug = f.Instance.GetNetworkDebug(), this.networkToggle.setIsCheckedWithoutNotify(this._networkDebug), this.hwAccelToggle.setIsCheckedWithoutNotify(b.hwAccelerationIsEnabled), this.ignoreMaxStrokesToggle.node.on(l.EventType.TOGGLE, this.onIgnoreMaxStrokesToggled, this), this.infiniteStatusEffectCharges.node.on(l.EventType.TOGGLE, this.onInifiniteStatusEffectChargesToggled, this), this.networkToggle.node.on(l.EventType.TOGGLE, this.onNetworkDebugToggled, this);
                    var e = c.getSafeAreaRect();
                    this.safeAreaInfo && (this.safeAreaInfo.string = "safe area x:" + Math.floor(e.x) + " y:" + Math.floor(e.y) + " w:" + Math.floor(e.width) + " h:" + Math.floor(e.height))
                }, i.onIgnoreMaxStrokesToggled = function() {
                    var e = f.Instance.currentMode;
                    e.ignoreMaxSwingAttempts = !e.ignoreMaxSwingAttempts
                }, i.onNetworkDebugToggled = function() {
                    f.Instance.ToggleNetworkDebug(), this._networkDebug = f.Instance.GetNetworkDebug()
                }, i.onInifiniteStatusEffectChargesToggled = function() {
                    d.debugInfiniteStatusEffectCharges = !d.debugInfiniteStatusEffectCharges
                }, i.onOpenVictoryScreen = function() {
                    var e = f.Instance.currentMode;
                    f.Instance.ui.getComponent(h).scoreUI.displayPlayers(e.GetPlayers(), !0)
                }, i.onOpenTournamentVictoryUI = function() {
                    f.Instance.ui.getComponent(h).tournamentVictoryUI.node.active = !0
                }, i.onToggleThermals = function() {
                    b.toggleThermals()
                }, i.onCheatHole = function() {
                    var e = f.Instance.currentMode,
                        t = e.GetFirstEndHoleLocation(),
                        n = e.GetLocalPlayerId();
                    e.GetPlayer(n).localState.visual.setWorldPosition(t.add(g.UP)), e.localGolfPlayer && e.localGolfPlayer.BallTeleported()
                }, i.onDumpLocalPlayerStateInfo = function() {
                    var e, t, n = f.Instance.currentMode.localGolfPlayer;
                    if (null != n && null != (e = n.netPlayer) && null != (t = e.localState) && t.visual) {
                        var o = n.netPlayer,
                            r = n.netPlayer.localState.visual;
                        console.log("Player State: " + JSON.stringify(o.state)), console.log("Ball State: controls-enabled<" + r.controlsEnabled + "> are-controls-enabled<" + r.areControlsEnabled + "> animating<" + r.animating + "> state<" + r.state + ">, in-hole<" + r.inHole + ">")
                    }
                }, t
            }(u)).prototype, "ignoreMaxStrokesToggle", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), m = t(k.prototype, "infiniteStatusEffectCharges", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), v = t(k.prototype, "networkToggle", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = t(k.prototype, "hwAccelToggle", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = t(k.prototype, "safeAreaInfo", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), M = k)) || M));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerNetwork.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./DebuggerRichText.ts"], (function(e) {
    var t, r, n, o, i, u, a, c, s;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, u = e._decorator, a = e.Component
        }, function(e) {
            c = e.GameManager
        }, function(e) {
            s = e.DebuggerRichText
        }],
        execute: function() {
            var g, l, p, f, b;
            i._RF.push({}, "1a199Wg3+pBsZ2UU4SC4t5B", "DebuggerNetwork", void 0);
            var h = u.ccclass,
                D = u.property;
            e("DebuggerNetwork", (g = h("DebuggerNetwork"), l = D(s), g((b = t((f = function(e) {
                function t() {
                    for (var t, r = arguments.length, i = new Array(r), u = 0; u < r; u++) i[u] = arguments[u];
                    return t = e.call.apply(e, [this].concat(i)) || this, n(t, "output", b, o(t)), t
                }
                r(t, e);
                var i = t.prototype;
                return i.start = function() {}, i.onEnable = function() {
                    this.output.setObject(c.Instance.getNetworkDebug())
                }, i.makeButton = function(e, t) {}, t
            }(a)).prototype, "output", [l], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), p = f)) || p));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerPowerups.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./PowerUpBase.ts"], (function(e) {
    var n, t, o, r, i, a, u, s, c, l, p, h, f, g;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, t = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, u = e.Prefab, s = e.Node, c = e.instantiate, l = e.Button, p = e.Label, h = e.Component
        }, function(e) {
            f = e.GameManager
        }, function(e) {
            g = e.PowerUpBase
        }],
        execute: function() {
            var d, b, m, w, P, v, y;
            i._RF.push({}, "3fc783PhV5HI4ht8+qeZgEs", "DebuggerPowerups", void 0);
            var C = a.ccclass,
                B = a.property;
            e("DebuggerPowerups", (d = C("DebuggerPowerups"), b = B(u), m = B([s]), d((v = n((P = function(e) {
                function n() {
                    for (var n, t = arguments.length, i = new Array(t), a = 0; a < t; a++) i[a] = arguments[a];
                    return n = e.call.apply(e, [this].concat(i)) || this, o(n, "simpleButtonPrefab", v, r(n)), o(n, "columnRoot", y, r(n)), n._powerupManager = null, n
                }
                t(n, e);
                var i = n.prototype;
                return i.start = function() {}, i.onEnable = function() {
                    this.show()
                }, i.onDisable = function() {
                    this.hide()
                }, i.show = function() {
                    var e = this;
                    this._powerupManager = f.Instance.currentMode.powerupManager;
                    var n = this._powerupManager.cardChoices,
                        t = this.columnRoot[0];
                    t.destroyAllChildren(), this.node.active = !0, n.forEach((function(n) {
                        var o = n.PowerupPrefab,
                            r = o.data.getComponent(g);
                        e.makeButton(t, r.uiName, (function() {
                            e._powerupManager.putPowerupInHand(o)
                        }))
                    }))
                }, i.makeButton = function(e, n, t) {
                    var o = c(this.simpleButtonPrefab),
                        r = o.getComponentInChildren(l),
                        i = o.getComponentInChildren(p);
                    e.addChild(o), i.string = n, r.node.on(l.EventType.CLICK, (function(e) {
                        t()
                    }))
                }, i.hide = function() {
                    this.columnRoot[0].destroyAllChildren(), this.node.active = !1
                }, n
            }(h)).prototype, "simpleButtonPrefab", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), y = n(P.prototype, "columnRoot", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), w = P)) || w));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerRichText.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./DebuggerNetwork.ts"], (function(e) {
    var t, i, n, o, r, l, s, a, c, u, f, d, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, l = e._decorator, s = e.RichText, a = e.Layout, c = e.Prefab, u = e.RichTextComponent, f = e.instantiate, d = e.Component
        }, function(e) {
            p = e.DebuggerNetwork
        }],
        execute: function() {
            var b, h, g, y, j, _, O, v, m;
            r._RF.push({}, "3d60eKDmnRMv7WejC7AoGle", "DebuggerRichText", void 0);
            var x = l.ccclass,
                D = l.property;
            e("DebuggerRichText", (b = x("DebuggerRichText"), h = D(s), g = D(a), y = D(c), b((O = t((_ = function(e) {
                function t() {
                    for (var t, i = arguments.length, r = new Array(i), l = 0; l < i; l++) r[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "output", O, o(t)), n(t, "details", v, o(t)), n(t, "detailsPrefab", m, o(t)), t._detailsObj = void 0, t._detailsOpen = !1, t._objects = [], t
                }
                i(t, e);
                var r = t.prototype;
                return r.start = function() {
                    this.output || (this.output = this.getComponent(u))
                }, r.handleClick = function(e, t) {
                    var i = Number.parseInt(t);
                    if (console.log("clicked on index " + i + " details open: " + this._detailsOpen), this._detailsOpen && this._detailsObj) return console.log("details are open so destroying maybe"), this.details.node.destroyAllChildren(), void(this._detailsObj = null);
                    this._detailsObj || (this._detailsObj = f(this.detailsPrefab), this.details.node.addChild(this._detailsObj));
                    var n = this._detailsObj.getComponent(p);
                    n && n.output.setObject(this._objects[i]), this._detailsOpen = !0
                }, r.setObject = function(e) {
                    this.output.string = this.getObjectText(e)
                }, r.getObjectText = function(e) {
                    var t = this,
                        i = "";
                    return Object.keys(e).forEach((function(n) {
                        i += t.getText(n, e[n])
                    })), i
                }, r.getText = function(e, t) {
                    if ("number" == typeof t || "string" == typeof t || "boolean" == typeof t) return "<color=#ffffff>" + e + "=" + t + "</color>\n";
                    if ("object" == typeof t) {
                        if (null == t) return "<color=#ffffff>" + e + "=(undefined)</color>\n";
                        if (null == t) return "<color=#ffffff>" + e + "=(null)</color>\n";
                        var i = this._objects.findIndex((function(e) {
                            return e == t
                        }));
                        return i < 0 && (i = this._objects.push(t) - 1), '<color=#5fD8FF><on click="handleClick" param="' + i + '">' + e + "</on></color>\n"
                    }
                }, t
            }(d)).prototype, "output", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = t(_.prototype, "details", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), m = t(_.prototype, "detailsPrefab", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), j = _)) || j));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerScenes.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CourseDefinition.ts", "./gameManager.ts"], (function(e) {
    var t, n, o, i, r, a, s, u, c, l, f, p, d, h, g;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, s = e.Prefab, u = e.Node, c = e.math, l = e.instantiate, f = e.Button, p = e.Label, d = e.Component
        }, function(e) {
            h = e.CourseDefinition
        }, function(e) {
            g = e.GameManager
        }],
        execute: function() {
            var m, b, y, v, C, D, B;
            r._RF.push({}, "41d0b76gh1E86BxVdJxp+Uj", "DebuggerScenes", void 0);
            var P = a.ccclass,
                R = a.property;
            e("DebuggerScenes", (m = P("DebuggerScenes"), b = R(s), y = R([u]), m((D = t((C = function(e) {
                function t() {
                    for (var t, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, o(t, "simpleButtonPrefab", D, i(t)), o(t, "columnRoot", B, i(t)), t
                }
                n(t, e);
                var r = t.prototype;
                return r.start = function() {}, r.onEnable = function() {
                    this.show()
                }, r.onDisable = function() {
                    this.hide()
                }, r.show = function() {
                    var e = this,
                        t = g.Instance.currentMode,
                        n = t.allCourses,
                        o = this.columnRoot[0];
                    o.destroyAllChildren(), this.node.active = !0, n.forEach((function(n, i) {
                        var r = n.data.getComponent(h);
                        e.makeButton(o, r.displayName, (function() {
                            t.kickPlayersToSpectator(!0), t.setLevelAndSeed(i, c.randomRangeInt(0, 999999)), setTimeout((function() {
                                t.resetHoles(), t.startNewGame()
                            }), 500)
                        }))
                    }))
                }, r.makeButton = function(e, t, n) {
                    var o = l(this.simpleButtonPrefab),
                        i = o.getComponentInChildren(f),
                        r = o.getComponentInChildren(p);
                    e.addChild(o), r.string = t, i.node.on(f.EventType.CLICK, (function(e) {
                        n()
                    }))
                }, r.hide = function() {
                    this.columnRoot[0].destroyAllChildren(), this.node.active = !1
                }, t
            }(d)).prototype, "simpleButtonPrefab", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), B = t(C.prototype, "columnRoot", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), v = C)) || v));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DebuggerToolbox.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts"], (function(e) {
    var t, i, o, n, r, a, l, s, u, c, h, b, p, f, d, g, y, m, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, o = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, l = e.Prefab, s = e.Node, u = e.CCObject, c = e.input, h = e.Input, b = e.KeyCode, p = e.director, f = e.instantiate, d = e.Button, g = e.Label, y = e.Component
        }, function(e) {
            m = e.inIFrame, w = e.isMobile
        }],
        execute: function() {
            var v, P, _, C, T, z, S, R, A, N, k, B, D, x, E, K, I, O, U, F, L, G, H, W, j;
            r._RF.push({}, "6ec179VR5lA8rf8Fv5KJHpJ", "DebuggerToolbox", void 0);
            var J = a.ccclass,
                M = a.property,
                Q = (v = J("ToolboxSection"), P = M(l), v((T = t((C = function(e) {
                    function t() {
                        for (var t, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                        return t = e.call.apply(e, [this].concat(r)) || this, o(t, "Prefab", T, n(t)), o(t, "Name", z, n(t)), t
                    }
                    return i(t, e), t
                }(u)).prototype, "Prefab", [P], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), z = t(C.prototype, "Name", [M], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return ""
                    }
                }), _ = C)) || _);
            e("DebuggerToolbox", (S = J("DebuggerToolbox"), R = M(l), A = M(l), N = M([s]), k = M([Q]), B = M(l), D = M(l), x = M(l), E = M(l), S((O = t((I = function(e) {
                function t() {
                    for (var t, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, o(t, "simpleButtonPrefab", O, n(t)), o(t, "vertGroupPrefab", U, n(t)), o(t, "columnRoot", F, n(t)), o(t, "sections", L, n(t)), o(t, "powerupPrefab", G, n(t)), o(t, "networkPrefab", H, n(t)), o(t, "cameraPrefab", W, n(t)), o(t, "coursePrefab", j, n(t)), t._isShowing = !1, t._sectionNodes = [], t._paused = !1, t
                }
                i(t, e);
                var r = t.prototype;
                return r.start = function() {
                    if (!(window._PuttEnv && window._PuttEnv.enabled || !1) && m()) this.node.destroy();
                    else if (w()) {
                        this.node.setScale(1.25, 1.25, 1.25);
                        var e = this.node.position;
                        this.node.setPosition(e.x + 50, e.y, e.z), c.on(h.EventType.TOUCH_START, this.onTouchStart, this)
                    } else c.on(h.EventType.KEY_UP, this.onKeyUp, this)
                }, r.onTouchStart = function(e) {
                    3 == e.getAllTouches().length && (this._isShowing = !this._isShowing, this._isShowing ? this.show() : this.hide())
                }, r.onKeyUp = function(e) {
                    e.keyCode == b.BACK_QUOTE ? (this._isShowing = !this._isShowing, this._isShowing ? this.show() : this.hide()) : e.keyCode == b.ARROW_DOWN ? p.pause() : e.keyCode == b.ARROW_UP && p.resume()
                }, r.show = function() {
                    var e = this,
                        t = this.columnRoot[0];
                    t.destroyAllChildren(), this.node.active = !0;
                    var i = f(this.vertGroupPrefab);
                    t.addChild(i), this._sectionNodes = [];
                    for (var o = function(o) {
                            var n = e.sections[o],
                                r = f(n.Prefab);
                            t.addChild(r), r.active = !1, e._sectionNodes.push(r), e.makeButton(i, n.Name, (function() {
                                for (var t = o, i = 0; i < e._sectionNodes.length; ++i) e._sectionNodes[i].active = i == t
                            }))
                        }, n = 0; n < this.sections.length; ++n) o(n)
                }, r.makeButton = function(e, t, i) {
                    var o = f(this.simpleButtonPrefab),
                        n = o.getComponentInChildren(d),
                        r = o.getComponentInChildren(g);
                    e.addChild(o), r.string = t, n.node.on(d.EventType.CLICK, (function(e) {
                        i()
                    }))
                }, r.hide = function() {
                    this.columnRoot[0].destroyAllChildren(), this.node.active = !1
                }, t
            }(y)).prototype, "simpleButtonPrefab", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), U = t(I.prototype, "vertGroupPrefab", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), F = t(I.prototype, "columnRoot", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), L = t(I.prototype, "sections", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), G = t(I.prototype, "powerupPrefab", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = t(I.prototype, "networkPrefab", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), W = t(I.prototype, "cameraPrefab", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), j = t(I.prototype, "coursePrefab", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), K = I)) || K));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DGMath.ts", ["cc"], (function(t) {
    var n, e, r;
    return {
        setters: [function(t) {
            n = t.cclegacy, e = t._decorator, r = t.Vec3
        }],
        execute: function() {
            var c;
            n._RF.push({}, "1500fu+7CVJ2YsBkK8QIrZK", "DGMath", void 0);
            var u = e.ccclass;
            e.property, t("DGMath", u("DGMath")(c = function() {
                function t() {}
                return t.getSign = function(t) {
                    return t >= 0 ? 1 : -1
                }, t.getSignedAngle = function(t, n, e) {
                    var c = r.angle(t, n) * (180 / Math.PI),
                        u = t.y * n.z - t.z * n.y,
                        a = t.z * n.x - t.x * n.z,
                        i = t.x * n.y - t.y * n.x;
                    return c * this.getSign(e.x * u + e.y * a + e.z * i)
                }, t
            }()) || c);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DGState.ts", ["cc"], (function(t) {
    var n;
    return {
        setters: [function(t) {
            n = t.cclegacy
        }],
        execute: function() {
            n._RF.push({}, "7dc87JXyYND+odVwer6MEbC", "DGState", void 0);
            t("DGState", function() {
                function t() {}
                var n = t.prototype;
                return n.onInit = function(t) {}, n.onEnter = function(t) {}, n.onExit = function(t) {}, n.onUpdate = function(t) {}, n.onDestroy = function() {}, t
            }()), t("DGStateMachine", function() {
                function t() {
                    this._allStates = new Map, this._transitions = new Map, this._initialStateIndex = void 0, this._currentState = -1
                }
                var n = t.prototype;
                return n.start = function() {
                    var t = this;
                    this._allStates.forEach((function(n) {
                        n.onInit(t)
                    }))
                }, n.update = function(t) {
                    this._currentState < 0 || !this._allStates.has(this._currentState) || this._allStates.get(this._currentState).onUpdate(t)
                }, n.onDestroy = function() {
                    this._allStates.forEach((function(t) {
                        t.onDestroy()
                    }))
                }, n.addState = function(t, n) {
                    this._allStates.has(t) && console.warn("replacing existing state " + t + " with a new object"), this._allStates.set(t, n)
                }, n.addStateTransition = function(t, n) {
                    var e = [];
                    this._transitions.has(t) ? e = this._transitions.get(t) : this._transitions.set(t, e), e.find((function(t) {
                        return t == n
                    })) ? console.warn("trying to add from " + t + " to " + n + " multiple times") : e.push(n)
                }, n.setState = function(t) {
                    if (this._allStates.has(t))
                        if (t != this._currentState) {
                            var n = this._allStates.get(t),
                                e = null;
                            if (this._currentState >= 0) {
                                if (!this._transitions.get(this._currentState).find((function(n) {
                                        return n == t
                                    }))) return void console.error("trying to change state from " + this._currentState + " to " + t + " but there is no transition");
                                e = this._allStates.get(this._currentState)
                            }
                            e && e.onExit(n), this._currentState = t, n.onEnter(e)
                        } else console.warn("setting state index " + t + " while it is already set.");
                    else console.error("trying to set invalid state index " + t)
                }, t
            }());
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DirectionWidget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./aimWidget3D.ts", "./utils.ts"], (function(t) {
    var i, e, r, n, a, s, o, l, c, h, u, p, d, g, m, w, f, v, b;
    return {
        setters: [function(t) {
            i = t.applyDecoratedDescriptor, e = t.inheritsLoose, r = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, s = t._decorator, o = t.Node, l = t.ParticleSystem, c = t.CCInteger, h = t.MeshRenderer, u = t.Vec3, p = t.Tween, d = t.tween, g = t.Component
        }, function(t) {
            m = t.AimWidget3D, w = t.cOnAimWidgetUpdate, f = t.cOnAimWidgetStart, v = t.cOnAimWidgetEnd
        }, function(t) {
            b = t.SMALL_SCALE
        }],
        execute: function() {
            var A, y, W, _, E, z, R, x, S, C, P, I, M, D, G, L, T, B, F;
            a._RF.push({}, "92da6HRgm1LD4g0+CIBpCvo", "DirectionWidget", void 0);
            var O = s.ccclass,
                k = s.property;
            t("DirectionWidget", (A = O("DirectionWidget"), y = k({
                type: o
            }), W = k({
                type: o
            }), _ = k(m), E = k(l), z = k(c), R = k(o), A((C = i((S = function(t) {
                function i() {
                    for (var i, e = arguments.length, a = new Array(e), s = 0; s < e; s++) a[s] = arguments[s];
                    return i = t.call.apply(t, [this].concat(a)) || this, r(i, "line", C, n(i)), r(i, "arrow", P, n(i)), r(i, "aimWidget", I, n(i)), r(i, "scaleMultiplier", M, n(i)), r(i, "particle", D, n(i)), r(i, "startRate", G, n(i)), r(i, "startSpeed", L, n(i)), r(i, "reverse", T, n(i)), r(i, "arrowIndex", B, n(i)), r(i, "meshArrowGrp", F, n(i)), i._meshArrows = [], i._isExiting = [], i._meshRenderers = void 0, i
                }
                e(i, t);
                var a = i.prototype;
                return a.onLoad = function() {
                    this._meshRenderers = this.getComponentsInChildren(h)
                }, a.start = function() {
                    var t = this;
                    this.aimWidget.node.on(w, this.updateAim, this), this.aimWidget.node.on(f, this.enable, this), this.aimWidget.node.on(v, this.disable, this), this.node.position.subtract(this.aimWidget.positionOffset), this.meshArrowGrp && (this._meshArrows = this.meshArrowGrp.children, this._meshArrows.forEach((function(i) {
                        i.active = !1, t._isExiting.push(!1)
                    })))
                }, a.changeColor = function(t) {
                    this._meshRenderers.forEach((function(i) {
                        i.material.setProperty("mainColor", t)
                    })), this.particle && (this.particle.startColor.color = t)
                }, a.updateAim = function() {
                    var t = this;
                    if (!this.aimWidget.telportMode)
                        if (this.aimWidget.isInvisible) this.line.active && this.disable();
                        else if (this.arrowIndex < this.aimWidget.aimArrowColors.length) {
                        this.line.active || this.enable();
                        var i = this.node.worldRotation.getEulerAngles(new u);
                        this.node.worldRotation = this.aimWidget.aimDirections[this.arrowIndex].getWorldRotation();
                        var e = this.node.worldRotation.getEulerAngles(new u),
                            r = (u.subtract(new u, i, e), new u(this.aimWidget.line.getScale()));
                        if (r.z *= this.scaleMultiplier, r.multiplyScalar(this.scaleMultiplier), this.line.setScale(r), this.reverse = this.aimWidget.isReversiball, this.particle) {
                            var n = this.aimWidget.normalizedSize * this.startSpeed;
                            this.particle.rateOverTime.constant = this.aimWidget.normalizedSize * this.startRate, this.reverse ? (this.particle.shapeModule.position = new u(0, 0, n), this.particle.startRotationY.constant = Math.PI, this.particle.startSpeed.constant = n) : (this.particle.shapeModule.position = new u(0, 0, 0), this.particle.startRotationY.constant = 0, this.particle.startSpeed.constant = -n)
                        }
                        var a = this._meshArrows.length;
                        this._meshArrows.forEach((function(i, e) {
                            t.reverse ? i.setRotationFromEuler(new u(0, 180, 0)) : i.setRotationFromEuler(new u(0, 0, 0)), e / (a - 1) * (1 - 2 * t.aimWidget.minForce) + t.aimWidget.minForce < t.aimWidget.GetPower().length() ? i.active || (i.active = !0, i.setScale(b), p.stopAllByTarget(i), d(i).to(.3, {
                                scale: new u(100, 100, 100)
                            }, {
                                easing: "backOut"
                            }).start()) : i.active && !t._isExiting[e] && (t._isExiting[e] = !0, p.stopAllByTarget(i), d(i).to(.3, {
                                scale: b
                            }, {
                                easing: "backIn"
                            }).call((function() {
                                i.active = !1, t._isExiting[e] = !1
                            })).start())
                        })), this.arrow.setPosition(0, 0, r.z), this.updateGravity()
                    } else this.line.active && this.disable()
                }, a.onEnable = function() {
                    this.enable()
                }, a.enable = function() {
                    var t = this;
                    this.line.active = !this.aimWidget.telportMode && this.arrowIndex < this.aimWidget.aimArrowColors.length, this.arrow.active = this.line.active, this.particle && (this.particle.node.active = this.line.active), this.line.active && (this.line.setScale(b), this.arrow.setPosition(0, 0, 0), this.changeColor(this.aimWidget.aimArrowColors[this.arrowIndex]), this.particle && (this.particle.clear(), this.particle.play()), this._meshArrows.forEach((function(i, e) {
                        t._isExiting[e] = !1, p.stopAllByTarget(i), i.active = !1, i.setScale(b)
                    })))
                }, a.disable = function() {
                    var t = this;
                    this.line.active = !1, this.arrow.active = !1, this.particle && (this.particle.clear(), this.particle.stop(), this.particle.node.active = !1), this._meshArrows.forEach((function(i, e) {
                        i.active && !t._isExiting[e] && (t._isExiting[e] = !0, p.stopAllByTarget(i), d(i).to(.3, {
                            scale: b
                        }, {
                            easing: "backIn"
                        }).call((function() {
                            i.active = !1, t._isExiting[e] = !1
                        })).start())
                    }))
                }, a.getPosition = function(t, i, e) {
                    var r = new u(0, -i, 0),
                        n = e / t.length(),
                        a = new u;
                    return a.x = t.x * n, a.y = t.y * n + .5 * r.y * Math.pow(n, 2), a.z = t.z * n, a
                }, a.updateGravity = function() {
                    var t = this,
                        i = .1 * this.aimWidget.gravity,
                        e = this.aimWidget.GetPower().negative();
                    this.aimWidget.isMultiArrowActive || this._meshArrows.forEach((function(r, n) {
                        r.worldPosition = t.getPosition(e, i, 1.5 * n).add(t.meshArrowGrp.worldPosition), r.lookAt(t.getPosition(e, i, 1.5 * n + .1).add(t.meshArrowGrp.worldPosition))
                    }))
                }, i
            }(g)).prototype, "line", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = i(S.prototype, "arrow", [W], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = i(S.prototype, "aimWidget", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), M = i(S.prototype, "scaleMultiplier", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .5
                }
            }), D = i(S.prototype, "particle", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = i(S.prototype, "startRate", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 6
                }
            }), L = i(S.prototype, "startSpeed", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -1.5
                }
            }), T = i(S.prototype, "reverse", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), B = i(S.prototype, "arrowIndex", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), F = i(S.prototype, "meshArrowGrp", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), x = S)) || x));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/DragonpedeChildController.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./Hole.ts", "./GolfMode.ts", "./BlockheadPlatform.ts"], (function(t) {
    var e, o, l, n, i, a, r, s, u, c, d, h, f, m, p, g, w, P, v, b, C, y, _;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, l = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            i = t.cclegacy, a = t._decorator, r = t.Node, s = t.animation, u = t.randomRange, c = t.Quat, d = t.Vec3, h = t.tween, f = t.Tween, m = t.math, p = t.Component
        }, function(t) {
            g = t.GameManager
        }, function(t) {
            w = t.cEnteredHole
        }, function(t) {
            P = t.cCurrentHoleUpdate, v = t.cLocalPlayerStateUpdate, b = t.cGameStateUpdate, C = t.GameState, y = t.PlayerPhase
        }, function(t) {
            _ = t.BlockheadPlatform
        }],
        execute: function() {
            var A, H, T, V, k, O, N, S;
            i._RF.push({}, "a610eYAPldOpYGaocXeWj3q", "DragonpedeChildController", void 0);
            var G = a.ccclass,
                R = a.property;
            t("DragonpedeChildController", (A = G("DragonpedeChildController"), H = R([r]), A((k = e((V = function(t) {
                function e() {
                    for (var e, o = arguments.length, i = new Array(o), a = 0; a < o; a++) i[a] = arguments[a];
                    return (e = t.call.apply(t, [this].concat(i)) || this)._animatorController = null, e._active = !1, l(e, "holeNodes", k, n(e)), l(e, "platformOffset", O, n(e)), l(e, "animJumpWait", N, n(e)), l(e, "moveWait", S, n(e)), e.currentHoleNode = null, e._target = null, e.currentHole = -1, e.lastAngle = 0, e.startState = !0, e._holeComplete = !1, e
                }
                o(e, t);
                var i = e.prototype;
                return i.start = function() {
                    var t = this;
                    this._animatorController = this.node.getComponent(s.AnimationController);
                    var e = g.Instance.currentMode;
                    e.node.on(P, this.jumpToNewHole, this), e.node.on(v, this.checkPlayerState, this), e.node.on(b, this.unsubscribe, this), this._active = !0, this.scheduleOnce((function() {
                        t.jumpToNewHole(e.currentHole)
                    }), 1)
                }, i.unsubscribe = function(t) {
                    if (t == C.CourseSelect) {
                        var e;
                        this.unscheduleAllCallbacks();
                        var o = g.Instance.currentMode;
                        o.node.off(P, this.jumpToNewHole, this), o.node.off(v, this.checkPlayerState, this), o.node.off(b, this.unsubscribe, this), null != (e = o.localGolfPlayer) && e.ballVisual && o.localGolfPlayer.ballVisual.node.off(w, this.targetEnteredHole, this), this._target = null, this._active = !1
                    }
                }, i.updateState = function() {
                    var t, e, o = this;
                    if (this.unscheduleAllCallbacks(), null == (t = this._target) || !t.isValid) {
                        var l, n = g.Instance.currentMode;
                        if (n)
                            if (null != (l = n.localGolfPlayer) && l.ballVisual) {
                                var i;
                                this._target = n.localGolfPlayer.ballVisual.node, null == (i = this._target) || i.on(w, this.targetEnteredHole, this)
                            } else {
                                var a, r = n.GetGolfPlayers();
                                if (r.length > 0) this._target = null == (a = r[0].ballVisual) ? void 0 : a.node
                            }
                    }
                    if (null != (e = this._target) && e.isValid) {
                        var s = this.getAngleToTarget(),
                            c = Math.abs(s);
                        c > .4 && (c > .8 ? this.bigTurn(s) : this.smallTurn(s))
                    }
                    this.scheduleOnce((function() {
                        o.updateState()
                    }), u(.5, 1))
                }, i.targetEnteredHole = function(t, e) {
                    this.unscheduleAllCallbacks(), this._holeComplete = !0, this._animatorController.setValue("HoleComplete", !0);
                    var o = g.Instance.currentMode,
                        l = o.GetParValue(o.currentHole);
                    t.state.strokes <= l ? this._animatorController.setValue("Excited", !0) : this._animatorController.setValue("Excited", !1)
                }, i.checkPlayerState = function(t, e) {
                    t.state.phase == y.GameOver && this.celebrate()
                }, i.bigTurn = function(t) {
                    var e = this;
                    this.unscheduleAllCallbacks();
                    var o = new c,
                        l = new c;
                    c.fromAxisAngle(l, d.UP, t), c.multiply(o, this.node.worldRotation.clone(), l), h(this.node).call((function() {
                        e._animatorController.setValue("BigTurn", !0)
                    })).delay(.18).to(.3, {
                        worldRotation: o,
                        scale: new d(1, 1, 1)
                    }, {
                        easing: "quadInOut"
                    }).call((function() {
                        e.updateState()
                    })).start()
                }, i.firstTurn = function(t) {
                    var e = this;
                    this.unscheduleAllCallbacks();
                    var o = new c,
                        l = new c;
                    c.fromAxisAngle(l, d.UP, t), c.multiply(o, this.node.worldRotation.clone(), l), h(this.node).to(1, {
                        worldRotation: o,
                        scale: new d(1, 1, 1)
                    }, {
                        easing: "quartOut"
                    }).call((function() {
                        e.scheduleOnce((function() {
                            e.updateState()
                        }), u(2, 4))
                    })).start()
                }, i.smallTurn = function(t) {
                    var e = this;
                    this.unscheduleAllCallbacks();
                    var o = new c,
                        l = new c;
                    c.fromAxisAngle(l, d.UP, t), c.multiply(o, this.node.worldRotation.clone(), l), h(this.node).to(2, {
                        worldRotation: o,
                        scale: new d(1, 1, 1)
                    }, {
                        easing: "quartOut"
                    }).call((function() {
                        e.scheduleOnce((function() {
                            e.updateState()
                        }), u(2, 4))
                    })).start()
                }, i.celebrate = function() {
                    this.unscheduleAllCallbacks(), this._animatorController.setValue("GameComplete", !0)
                }, i.getPlatform = function(t) {
                    var e;
                    return null == t || null == (e = t.getComponent(_)) ? void 0 : e.platform
                }, i.getAngleToTarget = function() {
                    var t, e = 0;
                    if (null != (t = this._target) && t.isValid) {
                        var o = this._target.worldPosition.clone();
                        o.y = this.node.worldPosition.y;
                        var l = o.subtract(this.node.worldPosition).normalize(),
                            n = (d.dot(this.node.forward.negative(), l), d.dot(this.node.right, l));
                        e = d.angle(this.node.forward.negative(), l) * Math.sign(n)
                    }
                    return e
                }, i.jumpToNewHole = function(t) {
                    var e = this;
                    if (this._animatorController.setValue("HoleComplete", !1), this._holeComplete = !1, this.currentHole != t && null != this.holeNodes[t - 1]) {
                        this.currentHole = t;
                        var o = t - 1;
                        if (this.holeNodes[o]) {
                            var l = this.getPlatform(this.currentHoleNode);
                            this.currentHoleNode = this.holeNodes[o];
                            var n = this.getPlatform(this.currentHoleNode),
                                i = this.holeNodes[o].worldPosition.clone();
                            n && i.add(new d(0, this.platformOffset, 0));
                            var a = new c,
                                r = this.holeNodes[o].worldPosition.clone(),
                                s = this.node.worldPosition.clone();
                            this.unscheduleAllCallbacks(), f.stopAllByTarget(this.node), h(this.node).to(this.moveWait, {
                                worldPosition: s
                            }).call((function() {
                                e._animatorController.setValue("Jump", !0)
                            })).to(this.animJumpWait, {
                                worldPosition: s
                            }).call((function() {
                                e.node.worldPosition = r;
                                var t = e.getAngleToTarget(),
                                    o = new c;
                                c.fromAxisAngle(o, d.UP, t), c.multiply(a, e.node.worldRotation.clone(), o), e.node.worldRotation = a
                            })).set({
                                worldPosition: r
                            }).to(2, {
                                worldPosition: r
                            }).to(.5, {
                                worldPosition: i
                            }, {
                                easing: "backOut"
                            }).to(1.5, {
                                worldPosition: i
                            }).call((function() {
                                e.updateState()
                            })).start(), l && (f.stopAllByTarget(l), h(l).to(3.8, {
                                worldPosition: l.worldPosition.clone()
                            }).to(.8, {
                                worldPosition: l.worldPosition.clone().add(new d(0, -1 * this.platformOffset, 0))
                            }, {
                                easing: "elasticOut"
                            }).start()), n && (f.stopAllByTarget(n), h(n).to(5.8, {
                                worldPosition: n.worldPosition.clone()
                            }).to(.5, {
                                worldPosition: n.worldPosition.clone().add(new d(0, this.platformOffset, 0))
                            }, {
                                easing: "backOut"
                            }).start())
                        }
                    }
                }, i.update = function(t) {
                    var e;
                    if (null != (e = this._target) && e.isValid) {
                        var o = this._target.worldPosition.clone();
                        o.y = this.node.worldPosition.y;
                        var l = o.subtract(this.node.worldPosition).normalize(),
                            n = d.dot(this.node.right, l),
                            i = m.clamp(n, -.5, .5),
                            a = m.lerp(this.lastAngle, i, .2);
                        this._animatorController.setValue("LookX", a), this.lastAngle = a
                    }
                }, e
            }(p)).prototype, "holeNodes", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), O = e(V.prototype, "platformOffset", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -12
                }
            }), N = e(V.prototype, "animJumpWait", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .8
                }
            }), S = e(V.prototype, "moveWait", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), T = V)) || T));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Ease.ts", ["cc"], (function(e) {
    var c;
    return {
        setters: [function(e) {
            c = e.cclegacy
        }],
        execute: function() {
            c._RF.push({}, "9e184llLrpOUqq4pK29cUoq", "Ease", void 0);
            e("Ease", (function() {}));
            c._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Effect.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./utils.ts"], (function(t) {
    var e, i, o, n, r, a, s, u, l, c, p, d, f;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized, r = t.createForOfIteratorHelperLoose, a = t.createClass
        }, function(t) {
            s = t.cclegacy, u = t._decorator, l = t.ParticleSystem, c = t.Component
        }, function(t) {
            p = t.AudioEventType, d = t.AudioController
        }, function(t) {
            f = t.getInterfaceSupportComponents
        }],
        execute: function() {
            var h, y, v, _, m, b, E, g, A, w, k;
            s._RF.push({}, "2f4cfPQfCVKrZvwNyqnPTwV", "Effect", void 0);
            var P = u.ccclass,
                D = u.property,
                H = u.type;
            t("Effect", (h = P("Effect"), y = D({
                visible: function() {
                    return this.playAudio
                }
            }), v = H(p), _ = D({
                visible: function() {
                    return this.playAudio
                }
            }), h((E = e((b = function(t) {
                function e() {
                    for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, o(e, "playOnAwake", E, n(e)), o(e, "destroyWhenFinished", g, n(e)), o(e, "playAudio", A, n(e)), o(e, "positionalAudio", w, n(e)), o(e, "_audioEvent", k, n(e)), e._destroyHandle = -1, e._maxDuration = 0, e._particleSystems = [], e._hooks = void 0, e
                }
                i(e, t);
                var s = e.prototype;
                return s.onLoad = function() {
                    this.ensureHooks();
                    var t = this.node.getComponentsInChildren(l);
                    for (var e in this._maxDuration = 0, t) {
                        var i = t[e];
                        if (i.node.active) {
                            var o = i.duration + i.startLifetime.getMax();
                            o > this._maxDuration && (this._maxDuration = o), i.playOnAwake = !1, this._particleSystems.push(i)
                        }
                    }
                }, s.onSpawnedFromPool = function() {
                    this.play()
                }, s.onReturnToPool = function() {
                    clearTimeout(this._destroyHandle), this._destroyHandle = -1
                }, s.ensureHooks = function() {
                    this._hooks || (this._hooks = f(this.node, "onBeforePlayEffect"))
                }, s.start = function() {
                    this.playOnAwake && this.play()
                }, s.play = function() {
                    var t = this;
                    this.ensureHooks();
                    for (var e, i = r(this._particleSystems); !(e = i()).done;) {
                        for (var o, n = e.value, a = r(this._hooks); !(o = a()).done;) {
                            o.value.onBeforePlayEffect(n)
                        }
                        n.play()
                    }
                    this.playAudio && void 0 !== this._audioEvent && d.Instance.triggerAudio(this._audioEvent, this.positionalAudio ? this.node.worldPosition : void 0), this.destroyWhenFinished && this._maxDuration > 0 && (this._destroyHandle = setTimeout((function() {
                        t.destroyEffect()
                    }), 1e3 * this._maxDuration))
                }, s.destroyEffect = function() {
                    this.node && this.node.isValid && this.node.destroy()
                }, a(e, [{
                    key: "audioEvent",
                    get: function() {
                        return this._audioEvent
                    },
                    set: function(t) {
                        this._audioEvent = t
                    }
                }]), e
            }(c)).prototype, "playOnAwake", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), g = e(b.prototype, "destroyWhenFinished", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), A = e(b.prototype, "playAudio", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), w = e(b.prototype, "positionalAudio", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), e(b.prototype, "audioEvent", [v, _], Object.getOwnPropertyDescriptor(b.prototype, "audioEvent"), b.prototype), k = e(b.prototype, "_audioEvent", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {}
            }), m = b)) || m));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/FaceCamera.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var r, t, n, i, o, a, c, s;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, t = e.inheritsLoose, n = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, a = e._decorator, c = e.Component
        }, function(e) {
            s = e.GameManager
        }],
        execute: function() {
            var l, u, d, p;
            o._RF.push({}, "ee4edsdr+FAtJSCBXaWH57n", "FaceCamera", void 0);
            var f = a.ccclass,
                h = a.property;
            e("FaceCamera", f("FaceCamera")((d = r((u = function(e) {
                function r() {
                    for (var r, t = arguments.length, o = new Array(t), a = 0; a < t; a++) o[a] = arguments[a];
                    return r = e.call.apply(e, [this].concat(o)) || this, n(r, "lockYAxis", d, i(r)), n(r, "reverseFwd", p, i(r)), r
                }
                return t(r, e), r.prototype.update = function(e) {
                    var r;
                    if (null != (r = s.Instance) && r.currentCamera) {
                        var t = s.Instance.currentCamera.node.worldPosition.clone();
                        this.lockYAxis && (t.y = this.node.worldPosition.y), this.reverseFwd && (t = t.clone().subtract(this.node.worldPosition).negative().add(this.node.worldPosition)), this.node.lookAt(t)
                    }
                }, r
            }(c)).prototype, "lockYAxis", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), p = r(u.prototype, "reverseFwd", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), l = u)) || l);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/FirstClick.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var r, i, c, n;
    return {
        setters: [function(t) {
            r = t.inheritsLoose
        }, function(t) {
            i = t.cclegacy, c = t._decorator, n = t.Component
        }],
        execute: function() {
            var e;
            i._RF.push({}, "5de0aMOwqlE8Kf6qMy7G0vV", "FirstClick", void 0);
            var o = c.ccclass;
            c.property, t("FirstClick", o("FirstClick")(e = function(t) {
                function i() {
                    for (var r, i = arguments.length, c = new Array(i), n = 0; n < i; n++) c[n] = arguments[n];
                    return (r = t.call.apply(t, [this].concat(c)) || this).firstClick = !1, r
                }
                return r(i, t), i.prototype.onEnable = function() {
                    this.firstClick = !0
                }, i
            }(n)) || e);
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Flag.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var o, n, r, e;
    return {
        setters: [function(t) {
            o = t.inheritsLoose
        }, function(t) {
            n = t.cclegacy, r = t._decorator, e = t.Component
        }],
        execute: function() {
            var c;
            n._RF.push({}, "b66c4FioqRGk6ZlRoSDgOYB", "Flag", void 0);
            var i = r.ccclass;
            r.property, t("Flag", i("Flag")(c = function(t) {
                function n() {
                    return t.apply(this, arguments) || this
                }
                return o(n, t), n.prototype.start = function() {}, n
            }(e)) || c);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/flagController.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfMode.ts", "./gameManager.ts"], (function(e) {
    var t, i, n, o, r, a, l, s, c, h, u, d, f, m, p, g, _, b;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, l = e.Node, s = e.MeshRenderer, c = e.Vec3, h = e.animation, u = e.clamp, d = e.lerp, f = e.tween, m = e.Component
        }, function(e) {
            p = e.cCurrentHoleUpdate, g = e.cGameStateUpdate, _ = e.GameState
        }, function(e) {
            b = e.GameManager
        }],
        execute: function() {
            var w, y, P, v, z, C, x, M, I, S, D, H;
            r._RF.push({}, "100c3BfRMVLT7v93OcWkay1", "flagController", void 0);
            var R = a.ccclass,
                T = a.property;
            e("flagController", (w = R("flagController"), y = T(l), P = T(s), w((C = t((z = function(e) {
                function t() {
                    for (var t, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "minDistance", C, o(t)), n(t, "maxDistance", x, o(t)), n(t, "scaleTarget", M, o(t)), n(t, "minSize", I, o(t)), n(t, "maxSize", S, o(t)), n(t, "holeNumberRenderer", D, o(t)), n(t, "holeIndex", H, o(t)), t._holeMaterial = null, t._raised = !1, t._animationController = null, t._holePosition = new c(0, 0, 0), t._mode = null, t
                }
                i(t, e);
                var r = t.prototype;
                return r.setHoleIndex = function(e) {
                    this.holeIndex = e
                }, r.start = function() {
                    this._animationController = this.node.getComponent(h.AnimationController), this.holeNumberRenderer && (this._holeMaterial = this.holeNumberRenderer.material), this._mode = b.Instance.currentMode, this._mode.node.on(p, this.changeHole, this), this._mode.node.on(g, this.unsubscribe, this), this.changeHole(this._mode.currentHole)
                }, r.unsubscribe = function(e) {
                    e == _.CourseSelect && (this._mode.node.off(p, this.changeHole, this), this._mode.node.off(g, this.unsubscribe, this))
                }, r.update = function(e) {
                    if (this.scaleTarget) {
                        var t, i, n, o, r;
                        if (null != (t = b.Instance) && t.currentCamera) {
                            var a = c.distance(b.Instance.currentCamera.node.worldPosition, this.node.worldPosition),
                                l = u((a - this.minDistance) / (this.maxDistance - this.minDistance), 0, 1),
                                s = d(this.minSize, this.maxSize, l);
                            this.scaleTarget.setScale(new c(s, s, s))
                        }
                        null != (i = this._mode) && null != (n = i.localGolfPlayer) && null != (o = n.ballVisual) && null != (r = o.node) && r.worldPosition && (c.distance(this._mode.localGolfPlayer.ballVisual.node.worldPosition, this._holePosition) < 6 ? this.raise() : this.lower())
                    }
                }, r.changeHole = function(e) {
                    void 0 === e && (e = 1);
                    var t = b.Instance.currentMode.GetEndLocationsFromHole(e);
                    if (t && t.length > 0)
                        if (t.length > this.holeIndex) {
                            if (this.scaleTarget.active = !0, this._holePosition = t[this.holeIndex].worldPosition.clone(), this._animationController && this._animationController._graphEval && this._animationController.setValue("enter", !0), this._holeMaterial) {
                                var i = this._holeMaterial.getProperty("tilingOffset");
                                i.z = .166666 * (e - 1) + .005, this._holeMaterial.setProperty("tilingOffset", i)
                            }
                            this.node.worldPosition = this._holePosition.clone().add(new c(0, 3, 0))
                        } else this.scaleTarget.active = !1
                }, r.raise = function() {
                    if (!this._raised) {
                        this._raised = !0;
                        var e = this._holePosition.clone().add(new c(0, 6, 0));
                        f(this.node).stop(), f(this.node).to(.3, {
                            worldPosition: e
                        }, {
                            easing: "quadOut"
                        }).start()
                    }
                }, r.lower = function() {
                    if (this._raised) {
                        this._raised = !1;
                        var e = this._holePosition.clone().add(new c(0, 3, 0));
                        f(this.node).stop(), f(this.node).to(.3, {
                            worldPosition: e
                        }, {
                            easing: "quadOut"
                        }).start()
                    }
                }, t
            }(m)).prototype, "minDistance", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 30
                }
            }), x = t(z.prototype, "maxDistance", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 100
                }
            }), M = t(z.prototype, "scaleTarget", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = t(z.prototype, "minSize", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), S = t(z.prototype, "maxSize", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), D = t(z.prototype, "holeNumberRenderer", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), H = t(z.prototype, "holeIndex", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), v = z)) || v));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameLogManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./GolfMode.ts", "./gameManager.ts"], (function(e) {
    var t, n, o, a, r, i, c, s, u, v;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.createClass
        }, function(e) {
            a = e.cclegacy, r = e._decorator, i = e.Component
        }, function(e) {
            c = e.DGEvent
        }, function(e) {
            s = e.cGameStateUpdate, u = e.GameState
        }, function(e) {
            v = e.GameManager
        }],
        execute: function() {
            var g, l, m, G, d, p;
            a._RF.push({}, "1592cBWrORJ7YMM/AYpkZbu", "GameLogManager", void 0);
            var f = r.ccclass;
            r.property, e("GameLogManager", f("GameLogManager")(((p = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), a = 0; a < n; a++) o[a] = arguments[a];
                    return (t = e.call.apply(e, [this].concat(o)) || this)._logs = [], t
                }
                n(t, e);
                var a = t.prototype;
                return a.start = function() {
                    this.node.dgOn(t.evtPostGameLogEvent, this.onPostGameLogEvent.bind(this)), v.Instance.currentMode.node.on(s, this.oGameStateUpdate.bind(this))
                }, a.oGameStateUpdate = function(e) {
                    e == u.CourseSelect && (this._logs = [], this.node.emit(t.evtClearGameLog))
                }, a.onGameLogEvent = function(e) {
                    this._logs.push(e), this.node.emit(t.evtOnGameLogEventRecieved, e)
                }, a.onPostGameLogEvent = function(e) {
                    v.Instance.currentMode.GetNetGame().SendGameLogEvent(e)
                }, o(t, [{
                    key: "logs",
                    get: function() {
                        return this._logs
                    }
                }]), t
            }(i)).evtOnGameLogEventRecieved = void 0, p.evtPostGameLogEvent = void 0, p.evtClearGameLog = void 0, t(l = p, "evtOnGameLogEventRecieved", [c], (m = (m = Object.getOwnPropertyDescriptor(l, "evtOnGameLogEventRecieved")) ? m.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return m
                }
            }), l), t(l, "evtPostGameLogEvent", [c], (G = (G = Object.getOwnPropertyDescriptor(l, "evtPostGameLogEvent")) ? G.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return G
                }
            }), l), t(l, "evtClearGameLog", [c], (d = (d = Object.getOwnPropertyDescriptor(l, "evtClearGameLog")) ? d.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return d
                }
            }), l), g = l)) || g);
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/gameManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./NetGame.ts", "./GameMode.ts", "./CameraBrain.ts", "./killPlane.ts", "./utils.ts", "./activity.ts", "./AvatarManager.ts", "./GameLogManager.ts", "./Client.ts"], (function(e) {
    var t, n, i, r, a, o, s, u, c, l, d, h, p, m, v, f, g, y, _, S, b, D, P, M, I;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, r = e.assertThisInitialized, a = e.createClass
        }, function(e) {
            o = e.cclegacy, s = e._decorator, u = e.Camera, c = e.Prefab, l = e.Node, d = e.sys, h = e.instantiate, p = e.Vec3, m = e.director, v = e.Component
        }, function(e) {
            f = e.NetGame
        }, function(e) {
            g = e.GameMode
        }, function(e) {
            y = e.CameraBrain
        }, function(e) {
            _ = e.KillPlane
        }, function(e) {
            S = e.inIFrame
        }, function(e) {
            b = e.default, D = e.LaunchSteps
        }, function(e) {
            P = e.AvatarManager
        }, function(e) {
            M = e.GameLogManager
        }, function(e) {
            I = e.ConnectionStatus
        }],
        execute: function() {
            var w, E, G, C, L, A, k, z, N, R, T, B, x, U, H, O, F, Q, W, J, V, j;
            o._RF.push({}, "4599cMpRItPPIJEDUARDE+T", "gameManager", void 0);
            var K = s.ccclass,
                q = s.property,
                X = (s.type, e("cConnectionStatus", "connection-status")),
                Y = e("cActivityReadyEvent", "activity-ready"),
                Z = "saved-user-id",
                $ = "saved-room-id",
                ee = "saved-guild-id";
            e("GameManager", (w = K("GameManager"), E = q({
                type: u
            }), G = q(y), C = q(g), L = q(c), A = q(l), w(((j = function(e) {
                function t() {
                    for (var t, n = arguments.length, a = new Array(n), o = 0; o < n; o++) a[o] = arguments[o];
                    return (t = e.call.apply(e, [this].concat(a)) || this)._sentConnectStepEvent = !1, t._sentEndStepEvent = !1, t._netGame = void 0, t.nextUpdate = 0, t._acumTime = 0, t._currentLevelIndex = 1, i(t, "maxLevels", N, r(t)), i(t, "currentCamera", R, r(t)), i(t, "cameraBrain", T, r(t)), i(t, "currentMode", B, r(t)), i(t, "killPlanePrefab", x, r(t)), t._killPlane = void 0, i(t, "gameServer", U, r(t)), i(t, "apiServer", H, r(t)), i(t, "guildID", O, r(t)), i(t, "roomID", F, r(t)), i(t, "userID", Q, r(t)), i(t, "appID", W, r(t)), i(t, "activityStatus", J, r(t)), i(t, "ui", V, r(t)), t._avatarManager = new P, t._gameLogEventManager = void 0, t._activityReady = !1, t
                }
                n(t, e);
                var o = t.prototype;
                return o.GetNetworkDebug = function() {
                    return this._netGame.client.debug
                }, o.ToggleNetworkDebug = function() {
                    this._netGame.client.debug = !this._netGame.client.debug
                }, o.QueueLocalPlayerMove = function(e) {
                    this.currentMode.QueueLocalPlayerMove(e)
                }, o.getSpawnPoint = function(e) {
                    return this.currentMode.GetSpawnPoint()
                }, o.getNetworkDebug = function() {
                    return this._netGame.getNetworkDebug()
                }, o.OnConnectionStatus = function(e) {
                    e == I.Connected && !this._sentConnectStepEvent && window._PuttEnv && (this._sentConnectStepEvent = !0, b.SendStepEvent(D.BACKEND_CONNECT_ENDED, {
                        success: !0,
                        activity_guild_id: this.guildID,
                        activity_version: window._PuttEnv.version,
                        next_step: D.ENDED
                    })), this.node.emit(X, e)
                }, o.joinGame = function() {
                    S() || (this._netGame && this._netGame.connect(this.gameServer, this.appID, this.guildID, this.roomID, this.userID), d.localStorage && (d.localStorage.setItem($, this.roomID), d.localStorage.setItem(ee, this.guildID), d.localStorage.setItem(Z, this.userID)))
                }, o.getServerTime = function() {
                    return this._netGame.getServerTime()
                }, o.getLevelStartTime = function() {
                    return this.currentMode.levelStart
                }, o.isConnected = function() {
                    return this._netGame.isConnected()
                }, o.onLoad = function() {
                    t._instance = this, this._gameLogEventManager = this.getComponent(M);
                    var e = document.getElementById("GameCanvas");
                    e && e.addEventListener("webglcontextlost", this._onWebGLContextLost)
                }, o._onWebGLContextLost = function(e) {
                    var t;
                    throw console.exception("Lost WebGL context and Cocos doesn't recreate it! " + this.userID + ":" + (null == (t = this._netGame) ? void 0 : t.getLocalUserID())), "Lost WebGL context and Cocos doesn't recreate it!"
                }, o.start = function() {
                    if (this._netGame = new f(this.currentMode.maxPlayers, this), d.localStorage) {
                        var e = d.localStorage.getItem($);
                        e && (this.roomID = e);
                        var t = d.localStorage.getItem(ee);
                        t && (this.guildID = t);
                        var n = d.localStorage.getItem(Z);
                        n && (this.userID = n)
                    }
                    this.currentMode.Initialize(this, this._netGame);
                    var i = h(this.killPlanePrefab);
                    new p(p.UP);
                    i.setPosition(new p(this.node.position.x, this.node.position.y - 10, this.node.position.z)), this.node.scene.addChild(i), this._killPlane = i.getComponent(_), this._killPlane && (this._killPlane.setOwner(this.node), this.node.on("outOfBounds", this.outOfBounds, this)), m.addPersistRootNode(this.node), m.addPersistRootNode(i), m.addPersistRootNode(this.cameraBrain.node), S() && (window._PuttEnv && (this.appID = window._PuttEnv.app_id, this.apiServer = window._PuttEnv.api_server, this.gameServer = window._PuttEnv.game_server, this.activityStatus = window._PuttEnv.status), b.onActivityReady = this.onActivityReady.bind(this), b.onActivityDisconnect = this.onActivityDisconnect.bind(this), b.initialize(this.appID, this.apiServer.includes("http://") ? this.apiServer : "https://" + this.apiServer, this.activityStatus))
                }, o.onActivityReady = function(e) {
                    this._activityReady = !0, this.node.emit(Y), this.appID = b.appID, this.guildID = b.guildID, this.roomID = b.channelID || b.discord.instanceId, this._netGame && this._netGame.connect(this.gameServer, this.appID, this.guildID, this.roomID, this.userID)
                }, o.onActivityDisconnect = function() {}, o.outOfBounds = function(e) {
                    this.currentMode.OutOfBounds(e)
                }, o.GetInitialGameProperties = function() {
                    return this.currentMode.GetInitialGameProperties()
                }, o.userJoined = function(e, t) {
                    t && window._PuttEnv && !this._sentEndStepEvent && (this._sentEndStepEvent = !0, b.SendStepEvent(D.ENDED, {
                        success: !0,
                        activity_guild_id: this.guildID,
                        activity_version: window._PuttEnv.version
                    })), this.currentMode.userJoined(e, t)
                }, o.UserLeft = function(e) {
                    this.currentMode.UserLeft(e)
                }, o.AddVisualForPlayer = function(e) {
                    this.currentMode.AddPlayer(e)
                }, o.RemoveVisualForPlayer = function(e) {
                    this.currentMode.RemovePlayer(e)
                }, o.PlayerStateUpdated = function(e) {
                    this.currentMode.PlayerStateUpdated(e)
                }, o.GameStateUpdated = function(e) {
                    this.currentMode.GameStateUpdated(e)
                }, o.SetPrimaryUser = function(e) {
                    this.currentMode.SetPrimaryUser(e)
                }, o.MessageReceived = function(e, t) {}, o.ApplyQueuedMove = function(e, t) {
                    this.currentMode.ApplyQueuedMove(e, t)
                }, o.ApplyCorrection = function(e, t, n, i, r) {
                    this.currentMode.ApplyCorrection(e, t, n, i, r)
                }, o.BallAnimateTo = function(e, t) {
                    this.currentMode.BallAnimateTo(e, t)
                }, o.BallStopped = function(e, t) {
                    this.currentMode.BallStopped(e, t)
                }, o.ForcePlayerToSpectator = function(e) {
                    this.currentMode.ForcePlayerToSpectator(e)
                }, o.GameLogEvent = function(e) {
                    this._gameLogEventManager.onGameLogEvent(e)
                }, o.ApplyStatusEffectToTarget = function(e, t, n) {
                    this.currentMode.ApplyStatusEffectToTarget(e, t, n)
                }, o.ConsumeStatusEffectCharge = function(e, t) {
                    this.currentMode.ConsumeStatusEffectCharge(e, t)
                }, o.MarkPlaceableDestroyed = function(e) {
                    this.currentMode.MarkPlaceableDestroyed(e)
                }, o.HandleHoleTimeout = function(e) {
                    this.currentMode.HandleHoleTimeout(e)
                }, o.HandleStatusEffectEvent = function(e, t) {
                    this.currentMode.HandleStatusEffectEvent(e, t)
                }, o.StartNewHole = function(e) {
                    this.currentMode.StartNewHole(e)
                }, a(t, [{
                    key: "activityReady",
                    get: function() {
                        return this._activityReady
                    }
                }, {
                    key: "avatarManager",
                    get: function() {
                        return this._avatarManager
                    }
                }], [{
                    key: "Instance",
                    get: function() {
                        return t._instance
                    }
                }]), t
            }(v))._instance = void 0, N = t((z = j).prototype, "maxLevels", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), R = t(z.prototype, "currentCamera", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), T = t(z.prototype, "cameraBrain", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), B = t(z.prototype, "currentMode", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = t(z.prototype, "killPlanePrefab", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), U = t(z.prototype, "gameServer", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "game-dev.discordactivities.com"
                }
            }), H = t(z.prototype, "apiServer", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "dev-api.discordactivities.com"
                }
            }), O = t(z.prototype, "guildID", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "myguildid"
                }
            }), F = t(z.prototype, "roomID", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "myroomid"
                }
            }), Q = t(z.prototype, "userID", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), W = t(z.prototype, "appID", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "910224161476083792"
                }
            }), J = t(z.prototype, "activityStatus", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "Playing Putt Party"
                }
            }), V = t(z.prototype, "ui", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), k = z)) || k));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameMode.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var n, t, r, o, a, i, u, c;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, t = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized, a = e.createClass
        }, function(e) {
            i = e.cclegacy, u = e._decorator, c = e.Component
        }],
        execute: function() {
            var l, f, s, m, y;
            i._RF.push({}, "54de6B7Pe1AIJSyC4HUfs/W", "GameMode", void 0);
            var p = u.ccclass,
                d = u.property,
                G = e("CannotJoinGameReason", function(e) {
                    return e[e.None = 0] = "None", e[e.GameInProgress = 1] = "GameInProgress", e[e.GameFull = 2] = "GameFull", e[e.JoinCooldown = 3] = "JoinCooldown", e
                }({}));
            e("GameMode", p("GameMode")((s = n((f = function(e) {
                function n() {
                    for (var n, t = arguments.length, a = new Array(t), i = 0; i < t; i++) a[i] = arguments[i];
                    return n = e.call.apply(e, [this].concat(a)) || this, r(n, "maxPlayers", s, o(n)), r(n, "minPlayers", m, o(n)), r(n, "maxPlayersToKickAfterRound", y, o(n)), n._gameManager = void 0, n._netGame = void 0, n._currentLevelInterface = void 0, n.statusEffectManager = null, n
                }
                t(n, e);
                var i = n.prototype;
                return i.Initialize = function(e, n) {
                    this._gameManager = e, this._netGame = n
                }, i.IsPrimaryUser = function() {
                    return this._netGame.isPrimaryUser()
                }, i.IsLocalPlayerInGame = function() {
                    return !1
                }, i.IsLocalPlayersGameOver = function() {
                    return !1
                }, i.CanJoinGame = function() {
                    return G.None
                }, i.JoinGame = function() {}, i.ContinueGame = function() {}, i.SpectateGame = function() {}, i.RestartGame = function() {}, i.SelectedPlayerId = function(e) {}, i.GetSelectedPlayerId = function() {
                    return ""
                }, i.GetLocalPlayerId = function() {
                    return ""
                }, i.GetSpawnPoint = function() {
                    var e;
                    return null == (e = this._currentLevelInterface) ? void 0 : e.getSpawnPoint(1, null, null)
                }, i.GetInitialGameProperties = function() {
                    return {
                        round_state: 0
                    }
                }, i.setCurrentLevel = function(e) {
                    this._currentLevelInterface = e
                }, i.OutOfBounds = function(e) {}, i.CheckCurrentHole = function(e, n) {}, i.userJoined = function(e, n) {}, i.UserLeft = function(e) {}, i.AddPlayer = function(e) {
                    return !1
                }, i.RemovePlayer = function(e) {}, i.QueueLocalPlayerMove = function(e) {
                    this._netGame && this._netGame.QueueLocalPlayerMove(e)
                }, i.PlayerStateUpdated = function(e) {}, i.GetControlsEnabled = function() {
                    return !0
                }, i.SetPrimaryUser = function(e) {}, i.GameStateUpdated = function(e) {}, i.GetPlayer = function(e) {
                    return this._netGame.players.get(e)
                }, i.GetPlayers = function() {
                    return this._netGame.players
                }, i.PlayerCount = function() {
                    return this._netGame.players.size
                }, i.ApplyQueuedMove = function(e, n) {}, i.ApplyCorrection = function(e, n, t, r, o) {}, i.BallAnimateTo = function(e, n) {}, i.BallStopped = function(e, n) {}, i.ForcePlayerToSpectator = function(e) {}, i.ApplyStatusEffectToTarget = function(e, n, t) {}, i.ConsumeStatusEffectCharge = function(e, n) {}, i.MarkPlaceableDestroyed = function(e) {}, i.HandleHoleTimeout = function(e) {}, i.HandleStatusEffectEvent = function(e, n) {}, i.StartNewHole = function(e) {}, a(n, [{
                    key: "levelStart",
                    get: function() {
                        return 0
                    }
                }]), n
            }(c)).prototype, "maxPlayers", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 8
                }
            }), m = n(f.prototype, "minPlayers", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), y = n(f.prototype, "maxPlayersToKickAfterRound", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), l = f)) || l);
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameplayModeScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./UISpectatorsList.ts", "./GameStateGameplayModeSelect.ts"], (function(e) {
    var t, a, n, o, i, r, l, s, c, u, d, p, m, f, y;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, a = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, r = e._decorator, l = e.Button, s = e.Component
        }, function(e) {
            c = e.GameManager
        }, function(e) {
            u = e.cPrimaryUserUpdate, d = e.GameplayMode
        }, function(e) {
            p = e.UISpectatorsList
        }, function(e) {
            m = e.GameStateGameplayModeSelect, f = e.cGameplayModeBegin, y = e.cGameplayModeEnd
        }],
        execute: function() {
            var h, M, g, b, G, S, v, B, _, U, P;
            i._RF.push({}, "1fca4EwUTlL/Kw1TRcxH6cC", "GameplayModeScreen", void 0);
            var I = r.ccclass,
                L = r.property;
            e("GameplayModeScreen", (h = I("GameplayModeScreen"), M = L(l), g = L(l), b = L(p), G = L(m), h((B = t((v = function(e) {
                function t() {
                    for (var t, a = arguments.length, i = new Array(a), r = 0; r < a; r++) i[r] = arguments[r];
                    return (t = e.call.apply(e, [this].concat(i)) || this)._golfMode = void 0, n(t, "casualButton", B, o(t)), n(t, "tournamentButton", _, o(t)), n(t, "spectatorList", U, o(t)), n(t, "gameState", P, o(t)), t
                }
                a(t, e);
                var i = t.prototype;
                return i.onLoad = function() {
                    this._golfMode = c.Instance.currentMode, this.gameState.node.on(f, this.onBeginGameplayMode.bind(this)), this.gameState.node.on(y, this.onEndGameplayMode.bind(this)), this._golfMode.node.on(u, this.onPrimaryUserUpdate.bind(this)), this.node.active = !1
                }, i.onBeginGameplayMode = function() {
                    this.node.active = !0, this._golfMode.turnOffBackground.active = !0, this.casualButton.interactable = this._golfMode.IsPrimaryUser(), this.tournamentButton.interactable = this._golfMode.IsPrimaryUser()
                }, i.onEndGameplayMode = function() {
                    this.node.active = !1
                }, i.start = function() {}, i.update = function(e) {}, i.onCasualSelected = function() {
                    this.node.active = !1, this._golfMode.SetGameplayMode(d.Casual)
                }, i.onTournamentSelected = function() {
                    this.node.active = !1, this._golfMode.SetGameplayMode(d.Tournament)
                }, i.onPrimaryUserUpdate = function() {
                    this.casualButton.interactable = this._golfMode.IsPrimaryUser(), this.tournamentButton.interactable = this._golfMode.IsPrimaryUser()
                }, t
            }(s)).prototype, "casualButton", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = t(v.prototype, "tournamentButton", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), U = t(v.prototype, "spectatorList", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = t(v.prototype, "gameState", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = v)) || S));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameStateCourseSelect.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfMode.ts", "./GameMode.ts", "./NetGame.ts", "./utils.ts", "./GolfModeGameState.ts", "./VotingScreen.ts"], (function(e) {
    var t, s, o, i, r, a, n, l, u, h, c, f, _, d, v, C;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, s = e.inheritsLoose, o = e.initializerDefineProperty, i = e.assertThisInitialized, r = e.createClass
        }, function(e) {
            a = e.cclegacy, n = e._decorator, l = e.randomRangeInt, u = e.math
        }, function(e) {
            h = e.cGameCourseSelectBegin, c = e.cGameCourseSelectEnd
        }, function(e) {
            f = e.CannotJoinGameReason
        }, function(e) {
            _ = e.GameCmd
        }, function(e) {
            d = e.inIFrame
        }, function(e) {
            v = e.GolfModeGameState
        }, function(e) {
            C = e.VotingScreen
        }],
        execute: function() {
            var g, m, p, S, b, y, G;
            a._RF.push({}, "e535ffZx8JC05EaUL8gJsUc", "GameStateCourseSelect", void 0);
            var V = n.ccclass,
                M = n.property,
                T = e("cCourseSelectVoteCountUpdated", "course-select-vote-count-updated");
            e("GameStateCourseSelect", (g = V("GameStateCourseSelect"), m = M(C), g((b = t((S = function(e) {
                function t() {
                    for (var t, s = arguments.length, r = new Array(s), a = 0; a < s; a++) r[a] = arguments[a];
                    return (t = e.call.apply(e, [this].concat(r)) || this)._selectingCourse = !1, t._localCourseVote = -1, t._votes = {}, t._voteCounts = [], t._curCourseSelectOptions = 0, t._availableCourses = 0, t._startCountdownHandle = -1, t._startTimer = -1, t._isActive = !1, o(t, "votingScreen", b, i(t)), o(t, "numCoursesInCourseSelect", y, i(t)), o(t, "startCountdown", G, i(t)), t
                }
                s(t, e);
                var a = t.prototype;
                return a.getSafeValue = function(e, t) {
                    return null == e ? t : e
                }, a.start = function() {}, a.getCourseDefinitions = function() {
                    return this.golfMode.GetCourseDefinitions()
                }, a.onEnter = function(e) {
                    if (this._isActive) console.warn("entering state more than once;");
                    else {
                        this._voteCounts = new Array(this.numCoursesInCourseSelect), this._isActive = !0, this.votingScreen.gameState = this;
                        var t = this.getCourseDefinitions().length;
                        e.start_timer = this.getSafeValue(e.start_timer, -1), e.votes = this.getSafeValue(e.votes, {}), e.course_select_options = this.getSafeValue(e.course_select_options, 0), e[this.available_props] = this.getSafeValue(e[this.available_props], Math.pow(2, t) - 1), this._availableCourses = e[this.available_props], this._startTimer = e.start_timer, this._votes = e.votes, this._curCourseSelectOptions = e.course_select_options, this._availableCourses = e[this.available_props], this.golfMode.IsPrimaryUser() ? this.updateCourseSelection() : console.log("CourseSelect - onEnter -- not primary"), this.updateCourseDefinitions(), this.golfMode.GetNetGame().RegisterGameCommandHandler(_.VoteOnCourse, this.onVoteOnCourse.bind(this))
                    }
                }, a.updateCourseDefinitions = function() {
                    for (var e = this.getCourseDefinitions().length, t = [], s = 1; s <= e; s++) this._curCourseSelectOptions & 1 << s - 1 && t.push(this.getCourseDefinitions()[s - 1]);
                    this.golfMode.node.emit(h, t)
                }, a.onExit = function(e) {
                    this._isActive = !1, this._localCourseVote = -1, this.golfMode.node.emit(c), this.golfMode.GetNetGame().UnregisterGameCommandHandler(_.VoteOnCourse, this.onVoteOnCourse.bind(this))
                }, a.onUpdate = function(e) {}, a.onAddPlayer = function(e) {
                    e.local && this._localCourseVote >= 0 && this.internalSendLocalPlayerVote(this._localCourseVote)
                }, a.onRemovePlayer = function(e) {
                    e.local && (this._localCourseVote = -1), e.uid in this._votes && (delete this._votes[e.uid], this.handleCourseSelect())
                }, a.votesChanged = function(e, t) {
                    var s = Object.keys(e),
                        o = Object.keys(t);
                    if (s.length != o.length) return !0;
                    var i = !1;
                    return o.forEach((function(o) {
                        s.find((function(e) {
                            return e == o
                        })) || (i = !0), t[o] != e[o] && (i = !0)
                    })), i
                }, a.onGameStateUpdated = function(e) {
                    if (this._isActive && !this.golfMode.IsPrimaryUser()) {
                        this._startTimer = this.getSafeValue(e.start_timer, this._startTimer);
                        var t = this._curCourseSelectOptions != e.course_select_options;
                        if (this._curCourseSelectOptions = this.getSafeValue(e.course_select_options, this._curCourseSelectOptions), t && this.updateCourseDefinitions(), this._availableCourses = this.getSafeValue(e[this.available_props], this._availableCourses), e.votes) {
                            var s = this.golfMode.GetGolfPlayers();
                            Object.keys(e.votes).length != s.length || this.votesChanged(this._votes, e.votes) ? (this._votes = e.votes, this.handleCourseSelect()) : this._votes = e.votes
                        }
                    }
                }, a.onSetPrimaryUser = function(e) {
                    this._startTimer = this.getSafeValue(e.start_timer, this._startTimer), this._curCourseSelectOptions = this.getSafeValue(e.course_select_options, this._curCourseSelectOptions), this._availableCourses = this.getSafeValue(e[this.available_props], this._availableCourses), this._votes = this.getSafeValue(e.votes, this._votes), 1 == this._startTimer ? this.startGame() : this.handleCourseSelect()
                }, a.setGameProperties = function(e) {
                    this.golfMode.IsPrimaryUser() && (this._isActive ? (e.start_timer = this.getSafeValue(this._startTimer, e.start_timer), e.votes = this.getSafeValue(this._votes, e.votes), e.course_select_options = this.getSafeValue(this._curCourseSelectOptions, e.course_select_options), e[this.available_props] = this.getSafeValue(this._availableCourses, e[this.available_props])) : e[this.available_props] = this.getSafeValue(this._availableCourses, e[this.available_props]))
                }, a.setLocalPlayerLevelVote = function(e) {
                    this._startTimer >= 0 && this._startTimer <= 1 ? console.log("failed to setLocalPlayerLevelVote bc timer is " + this._startTimer) : e != this._localCourseVote ? this.golfMode.IsLocalPlayerInGame() ? (this._localCourseVote = e, this.internalSendLocalPlayerVote(this._localCourseVote)) : this.golfMode.CanJoinGame() == f.None && (this._localCourseVote = e, this.golfMode.JoinGame()) : this.golfMode.IsLocalPlayerInGame() && this.golfMode.SpectateGame()
                }, a.onVoteOnCourse = function(e) {
                    if (this._startTimer >= 0 && this._startTimer <= 1) console.log("failed to onVoteOnCourse bc timer is " + this._startTimer);
                    else if (this.golfMode.IsPrimaryUser()) {
                        var t = e.id,
                            s = e.vote;
                        this.votes[t] = s, this.golfMode.UpdateState(), this.handleCourseSelect()
                    }
                }, a.internalSendLocalPlayerVote = function(e) {
                    this.golfMode.IsPrimaryUser() ? (this._votes[this.golfMode.GetLocalPlayerId()] = e, this.golfMode.UpdateState(), this.handleCourseSelect()) : this.golfMode.GetNetGame().SendGameCommand(_.VoteOnCourse, {
                        id: this.golfMode.GetLocalPlayerId(),
                        vote: e
                    })
                }, a.getLocalPlayerLevelVote = function() {
                    return this._localCourseVote
                }, a.updateCourseSelection = function() {
                    var e = this;
                    if (0 == this._curCourseSelectOptions) {
                        var t = this.getCourseDefinitions().length;
                        0 == this._availableCourses && (this._availableCourses = Math.pow(2, t) - 1);
                        for (var s = this.numCoursesInCourseSelect, o = [], i = 0; i < t; i++) this._availableCourses & 1 << i && o.push(i);
                        if (o.length < this.numCoursesInCourseSelect) {
                            o.forEach((function(t) {
                                t != e.golfMode.levelIndex && (e._curCourseSelectOptions |= 1 << t)
                            })), s -= o.length, o = [], this._availableCourses = Math.pow(2, t) - 1 - this._availableCourses;
                            for (var r = 0; r < t; r++) this._availableCourses & 1 << r && r != this.golfMode.levelIndex && o.push(r)
                        }
                        for (var a = 0; a < s; a++) {
                            var n = l(0, o.length),
                                u = o[n];
                            o.splice(n, 1), this._curCourseSelectOptions |= 1 << u, this._availableCourses = this._availableCourses & ~(1 << u)
                        }
                    }
                }, a.handleCourseSelect = function() {
                    var e = this,
                        t = this.golfMode.IsPrimaryUser();
                    0 == this._curCourseSelectOptions && this.updateCourseSelection(), this._voteCounts.fill(0);
                    var s = Object.keys(this._votes),
                        o = 0,
                        i = this.golfMode.GetGolfPlayers();
                    if (s.length > 0 && s.forEach((function(t) {
                            i.findIndex((function(e) {
                                return e.uid == t
                            })) < 0 && delete e._votes[t]
                        })), i.forEach((function(t) {
                            if (s.find((function(e) {
                                    return e == t.netPlayer.uid
                                }))) {
                                var i = e._votes[t.netPlayer.uid];
                                i >= 0 && i < e._voteCounts.length && (e._voteCounts[i] = e._voteCounts[i] + 1, ++o)
                            }
                        })), this.node.emit(T, this._voteCounts, this._votes), t)
                        if (o > 0) {
                            var r = 0,
                                a = -1;
                            if (this._voteCounts.forEach((function(e, t) {
                                    e > r && (a = t, r = e)
                                })), a > -1) {
                                var n = [];
                                this._voteCounts.forEach((function(e, t) {
                                    e == r && n.push(t)
                                })), n.length > 1 && (a = u.randomRangeInt(0, n.length), a = n[a]);
                                for (var l = [], h = this.getCourseDefinitions().length, c = 0; c < h; c++) this._curCourseSelectOptions & 1 << c && l.push(c);
                                this.golfMode.setLevelAndSeed(l[a], u.randomRangeInt(0, 999999)), this.golfMode.resetHoles()
                            }
                            this.startTimerStart()
                        } else this.startTimerStop()
                }, a.startGame = function() {
                    this._startTimer = -1, this._votes = {}, this._voteCounts.fill(0), this.golfMode.startNewGame()
                }, a.startTimerStart = function() {
                    var e = this;
                    !d() && this.doQuickSelect && this.golfMode.GetNetGame().users.size < 2 ? this.startGame() : this._startCountdownHandle < 0 && (this._startTimer < 0 && (this._startTimer = this.startCountdown, this.golfMode.UpdateState()), this._startCountdownHandle = window.setInterval((function() {
                        e._startTimer > 1 ? (e._startTimer = e._startTimer - 1, e.golfMode.UpdateState()) : (clearInterval(e._startCountdownHandle), e._startCountdownHandle = -1, e.startGame())
                    }), 1e3))
                }, a.startTimerStop = function() {
                    this._startTimer = -1, this.golfMode.UpdateState(), this._startCountdownHandle >= 0 && (clearInterval(this._startCountdownHandle), this._startCountdownHandle = -1)
                }, r(t, [{
                    key: "doQuickSelect",
                    get: function() {
                        return !0
                    }
                }, {
                    key: "startTimer",
                    get: function() {
                        return this._startTimer
                    }
                }, {
                    key: "gameStartsInStr",
                    get: function() {
                        return "GAME STARTS IN:"
                    }
                }, {
                    key: "gameLabelStr",
                    get: function() {
                        return "SELECT A COURSE TO VOTE AND JOIN THE GAME!"
                    }
                }, {
                    key: "available_props",
                    get: function() {
                        return "available"
                    }
                }, {
                    key: "votes",
                    get: function() {
                        return this._votes
                    }
                }, {
                    key: "voteCounts",
                    get: function() {
                        return this._voteCounts
                    }
                }]), t
            }(v)).prototype, "votingScreen", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), y = t(S.prototype, "numCoursesInCourseSelect", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 4
                }
            }), G = t(S.prototype, "startCountdown", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 15
                }
            }), p = S)) || p));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameStateGameplayModeSelect.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfMode.ts", "./GameStateTournamentSelect.ts", "./GameStateCourseSelect.ts"], (function(e) {
    var t, o, n, a, i, s, r, l;
    return {
        setters: [function(e) {
            t = e.inheritsLoose, o = e.createClass
        }, function(e) {
            n = e.cclegacy, a = e._decorator, i = e.math
        }, function(e) {
            s = e.GameplayMode
        }, function(e) {
            r = e.GameStateTournamentSelect
        }, function(e) {
            l = e.cCourseSelectVoteCountUpdated
        }],
        execute: function() {
            var c;
            n._RF.push({}, "b4e13FL/qxMT5ICMUxGCzVp", "GameStateGameplayModeSelect", void 0);
            var u = a.ccclass,
                h = (a.property, e("cGameplayModeBegin", "gameplay-mode-begin")),
                d = e("cGameplayModeEnd", "gameplay-mode-end");
            e("GameStateGameplayModeSelect", u("GameStateGameplayModeSelect")(c = function(e) {
                function n() {
                    for (var t, o = arguments.length, n = new Array(o), a = 0; a < o; a++) n[a] = arguments[a];
                    return (t = e.call.apply(e, [this].concat(n)) || this).golfMode = void 0, t._picked = null, t
                }
                t(n, e);
                var a = n.prototype;
                return a.onEnter = function(t) {
                    this.node.emit(h), this.golfMode.kickPlayersToSpectator(!0), this.golfMode.ResetTournamentState(), e.prototype.onEnter.call(this, t), this._curCourseSelectOptions = 3, this._availableCourses = 0, this.handleCourseSelect()
                }, a.onExit = function(e) {
                    this._isActive = !1, this._localCourseVote = -1, this.node.emit(d)
                }, a.onAddPlayer = function(t) {
                    this.node.emit(h), e.prototype.onAddPlayer.call(this, t)
                }, a.handleCourseSelect = function() {
                    var e = this,
                        t = this.golfMode.IsPrimaryUser();
                    this._curCourseSelectOptions = 3, this._availableCourses = 0, this._voteCounts.fill(0);
                    var o = Object.keys(this._votes),
                        n = 0,
                        a = this.golfMode.GetGolfPlayers();
                    if (o.length > 0 && o.forEach((function(t) {
                            a.findIndex((function(e) {
                                return e.uid == t
                            })) < 0 && delete e._votes[t]
                        })), a.forEach((function(t) {
                            if (o.find((function(e) {
                                    return e == t.netPlayer.uid
                                }))) {
                                var a = e._votes[t.netPlayer.uid];
                                a >= 0 && a < e._voteCounts.length && (e._voteCounts[a] = e._voteCounts[a] + 1, ++n)
                            }
                        })), this.node.emit(l, this._voteCounts, this._votes), t)
                        if (n > 0) {
                            var s = 0,
                                r = -1;
                            if (this._voteCounts.forEach((function(e, t) {
                                    e > s && (r = t, s = e)
                                })), r > -1) {
                                var c = [];
                                this._voteCounts.forEach((function(e, t) {
                                    e == s && c.push(t)
                                })), c.length > 1 && (r = i.randomRangeInt(0, c.length), r = c[r]), this._picked = r
                            }
                            this.startTimerStart()
                        } else this.startTimerStop()
                }, a.startGame = function() {
                    this.node.active = !1, this._startTimer = -1, this._votes = {}, this._voteCounts.fill(0), this._curCourseSelectOptions = 0, this._availableCourses = 0, this.golfMode.kickPlayersToSpectator(!0), 0 == this._picked ? this.golfMode.SetGameplayMode(s.Casual) : this.golfMode.SetGameplayMode(s.Tournament)
                }, o(n, [{
                    key: "gameStartsInStr",
                    get: function() {
                        return "SELECTING IN:"
                    }
                }, {
                    key: "gameLabelStr",
                    get: function() {
                        return "SELECT A GAME TYPE AND JOIN THE GAME!"
                    }
                }, {
                    key: "available_props",
                    get: function() {
                        return "modes"
                    }
                }, {
                    key: "doQuickSelect",
                    get: function() {
                        return !0
                    }
                }]), n
            }(r)) || c);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameStateTournamentOver.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfModeGameState.ts"], (function(t) {
    var e, n, r, i, o, a, c, u;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, r = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            o = t.cclegacy, a = t._decorator, c = t.Node
        }, function(t) {
            u = t.GolfModeGameState
        }],
        execute: function() {
            var s, v, l, m, f, y, p;
            o._RF.push({}, "d2783/M3vZPwJq+91u4kSaA", "GameStateTournamentOver", void 0);
            var S = a.ccclass,
                h = a.property;
            t("cTournamentOver", "tournament-over"), t("GameStateTournamentOver", (s = S("GameStateTournamentOver"), v = h(c), l = h(c), s((y = e((f = function(t) {
                function e() {
                    for (var e, n = arguments.length, o = new Array(n), a = 0; a < n; a++) o[a] = arguments[a];
                    return (e = t.call.apply(t, [this].concat(o)) || this).golfMode = void 0, r(e, "victoryScreen", y, i(e)), r(e, "tournamentBtn", p, i(e)), e
                }
                n(e, t);
                var o = e.prototype;
                return o.onEnter = function(t) {
                    this.victoryScreen && !this.victoryScreen.active && (this.victoryScreen.active = !0, this.tournamentBtn && (this.tournamentBtn.active = !1))
                }, o.onExit = function(t) {
                    this.victoryScreen && this.victoryScreen.active && (this.victoryScreen.active = !1, this.tournamentBtn && (this.tournamentBtn.active = !0))
                }, o.onUpdate = function(t) {}, o.onAddPlayer = function(t) {
                    this.victoryScreen && !this.victoryScreen.active && (this.victoryScreen.active = !0)
                }, o.onRemovePlayer = function(t) {}, o.onSetPrimaryUser = function(t) {}, o.onGameStateUpdated = function(t) {}, o.setGameProperties = function(t) {}, e
            }(u)).prototype, "victoryScreen", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), p = e(f.prototype, "tournamentBtn", [l], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), m = f)) || m));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GameStateTournamentSelect.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CourseDefinition.ts", "./GameStateCourseSelect.ts"], (function(t) {
    var e, o, n, r, i, s, a, u, c, l, f, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized, i = t.createClass
        }, function(t) {
            s = t.cclegacy, a = t._decorator, u = t.Prefab, c = t.math
        }, function(t) {
            l = t.CourseDefinition
        }, function(t) {
            f = t.cCourseSelectVoteCountUpdated, p = t.GameStateCourseSelect
        }],
        execute: function() {
            var h, m, S, v, d;
            s._RF.push({}, "b930baAUYxB9ao+9ERYa1iB", "GameStateTournamentSelect", void 0);
            var y = a.ccclass,
                g = a.property;
            t("GameStateTournamentSelect", (h = y("GameStateTournamentSelect"), m = g([u]), h((d = e((v = function(t) {
                function e() {
                    for (var e, o = arguments.length, i = new Array(o), s = 0; s < o; s++) i[s] = arguments[s];
                    return e = t.call.apply(t, [this].concat(i)) || this, n(e, "options", d, r(e)), e._courses = [], e
                }
                o(e, t);
                var s = e.prototype;
                return s.start = function() {
                    var e = this;
                    t.prototype.start.call(this), this.options.forEach((function(t) {
                        var o = t.data.getComponent(l);
                        o ? e._courses.push(o) : console.error("missing course definition in course prefab")
                    }))
                }, s.getCourseDefinitions = function() {
                    return this._courses
                }, s.onEnter = function(e) {
                    t.prototype.onEnter.call(this, e)
                }, s.onExit = function(e) {
                    t.prototype.onExit.call(this, e)
                }, s.onGameStateUpdated = function(e) {
                    t.prototype.onGameStateUpdated.call(this, e)
                }, s.onSetPrimaryUser = function(e) {
                    t.prototype.onSetPrimaryUser.call(this, e)
                }, s.setGameProperties = function(e) {
                    t.prototype.setGameProperties.call(this, e)
                }, s.startGame = function() {
                    t.prototype.startGame.call(this)
                }, s.handleCourseSelect = function() {
                    var t = this,
                        e = this.golfMode.IsPrimaryUser();
                    0 == this._curCourseSelectOptions && this.updateCourseSelection(), this._voteCounts.fill(0);
                    var o = Object.keys(this._votes),
                        n = 0,
                        r = this.golfMode.GetGolfPlayers();
                    if (o.length > 0 && o.forEach((function(e) {
                            r.findIndex((function(t) {
                                return t.uid == e
                            })) < 0 && delete t._votes[e]
                        })), r.forEach((function(e) {
                            if (o.find((function(t) {
                                    return t == e.netPlayer.uid
                                }))) {
                                var r = t._votes[e.netPlayer.uid];
                                r >= 0 && r < t._voteCounts.length && (t._voteCounts[r] = t._voteCounts[r] + 1, ++n)
                            }
                        })), this.node.emit(f, this._voteCounts, this._votes), e)
                        if (n > 0) {
                            var i = 0,
                                s = -1;
                            if (this._voteCounts.forEach((function(t, e) {
                                    t > i && (s = e, i = t)
                                })), s > -1) {
                                var a = [];
                                this._voteCounts.forEach((function(t, e) {
                                    t == i && a.push(e)
                                })), a.length > 1 && (s = c.randomRangeInt(0, a.length), s = a[s]);
                                for (var u = [], l = this.golfMode.GetCourseDefinitions().length, p = 0; p < l; p++) u.push(p);
                                for (var h = [], m = 3 * s + 3, S = 0; S < m; S++) {
                                    var v = c.randomRangeInt(0, u.length);
                                    h.push(u[v]), u.splice(v, 1)
                                }
                                this.golfMode.setTournamentLevels(h)
                            }
                            this.startTimerStart()
                        } else this.startTimerStop()
                }, i(e, [{
                    key: "gameStartsInStr",
                    get: function() {
                        return "TOURNAMENT STARTS IN:"
                    }
                }, {
                    key: "gameLabelStr",
                    get: function() {
                        return "SELECT A NUMBER OF COURSES AND JOIN THE GAME!"
                    }
                }, {
                    key: "available_props",
                    get: function() {
                        return "tourney"
                    }
                }]), e
            }(p)).prototype, "options", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), S = v)) || S));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GolfMode.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GameMode.ts", "./GolfPlayer.ts", "./BallHandler.ts", "./PlayerVirtualCamera.ts", "./aimWidget3D.ts", "./Level.ts", "./CourseDefinition.ts", "./StatusEffects.ts", "./activity.ts", "./GolfScoring.ts", "./GolfModeGameState.ts", "./BloomSettings.ts", "./ModalWindowManager.ts"], (function(e) {
    var t, a, l, i, r, n, o, s, u, c, h, d, f, m, _, v, y, S, g, p, G, P, C, T, b, H, L, M, I, E, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, a = e.inheritsLoose, l = e.initializerDefineProperty, i = e.assertThisInitialized, r = e.extends, n = e.createClass
        }, function(e) {
            o = e.cclegacy, s = e._decorator, u = e.Prefab, c = e.Node, h = e.Color, d = e.Vec3, f = e.director, m = e.instantiate, _ = e.game, v = e.randomRangeInt, y = e.Tween
        }, function(e) {
            S = e.CannotJoinGameReason, g = e.GameMode
        }, function(e) {
            p = e.GolfPlayer
        }, function(e) {
            G = e.BallHandler
        }, function(e) {
            P = e.PlayerVirtualCamera
        }, function(e) {
            C = e.AimWidget3D
        }, function(e) {
            T = e.Level
        }, function(e) {
            b = e.CourseDefinition
        }, function(e) {
            H = e.StatusEffects
        }, function(e) {
            L = e.default
        }, function(e) {
            M = e.GolfScoring
        }, function(e) {
            I = e.GolfModeGameState
        }, function(e) {
            E = e.BloomSettings
        }, function(e) {
            w = e.ModalWindowManager
        }],
        execute: function() {
            var k, A, U, x, D, N, z, V, O, F, R, B, W, J, j, Q, K, X, Y, Z, q, $, ee, te, ae, le, ie, re, ne, oe, se, ue, ce, he, de;
            o._RF.push({}, "d3bf8YO6iROPoAXlI6UrAKQ", "GolfMode", void 0);
            var fe = s.ccclass,
                me = s.property,
                _e = e("PlayerPhase", function(e) {
                    return e[e.CourseSelect = 0] = "CourseSelect", e[e.StartHole = 1] = "StartHole", e[e.WaitingOnInput = 2] = "WaitingOnInput", e[e.InputReceived = 3] = "InputReceived", e[e.Simulating = 4] = "Simulating", e[e.StrokeDone = 5] = "StrokeDone", e[e.HoleDone = 6] = "HoleDone", e[e.GameOver = 7] = "GameOver", e
                }({})),
                ve = e("GameplayMode", function(e) {
                    return e[e.Invalid = -1] = "Invalid", e[e.Casual = 0] = "Casual", e[e.Tournament = 1] = "Tournament", e
                }({})),
                ye = e("GameState", function(e) {
                    return e[e.Init = 0] = "Init", e[e.GameplayModeSelect = 1] = "GameplayModeSelect", e[e.CourseSelect = 2] = "CourseSelect", e[e.Play = 3] = "Play", e[e.WaitToCompleteHole = 4] = "WaitToCompleteHole", e[e.TournamentSelect = 5] = "TournamentSelect", e[e.TournamentWait = 6] = "TournamentWait", e[e.TournamentOver = 7] = "TournamentOver", e
                }({})),
                Se = e("cPrimaryUserUpdate", "primary-user-update"),
                ge = e("cGameStateUpdate", "game-state-update"),
                pe = e("cPlayersUpdate", "players-update"),
                Ge = e("cLocalPlayerStateUpdate", "local-player-state-update"),
                Pe = e("cCurrentHoleUpdate", "current-hole-update"),
                Ce = e("cParValueUpdate", "par-value-update"),
                Te = e("cGameModeReady", "game-mode-ready"),
                be = (e("cGameConnected", "game-connected"), e("cGameMusicToggle", "game-music-toggle"), e("cGameSfxToggle", "game-sfx-toggle"), e("cGameScoreUpdate", "game-score-update")),
                He = e("cPlayerVisualRemoved", "player-visual-removed"),
                Le = e("cPlayerVisualAdded", "player-visual-added"),
                Me = e("cSelectedPlayerChanged", "selected-player-changed"),
                Ie = (e("cJoinGameCooldownEnded", "join-game-cooldown-ended"), e("cNextHoleTimeStart", "next-hole-time")),
                Ee = e("cOnLevelLoadStart", "on-level-load-start"),
                we = e("cOnLevelReady", "on-level-ready"),
                ke = e("cUserJoined", "user-joined"),
                Ae = e("cUserLeft", "user-left"),
                Ue = (e("cGameCourseSelectBegin", "game-course-select-begin"), e("cGameCourseSelectEnd", "game-course-select-end"), 12e4);
            e("GolfMode", (k = fe("GolfMode"), A = me([I]), U = me(u), x = me(u), D = me(u), N = me(u), z = me(u), V = me(u), O = me(c), F = me(h), R = me(h), B = me([u]), k((j = t((J = function(e) {
                function t() {
                    for (var t, a = arguments.length, r = new Array(a), n = 0; n < a; n++) r[n] = arguments[n];
                    return (t = e.call.apply(e, [this].concat(r)) || this)._timeoutIntervalHandle = -1, t._advancingHole = -1, t._handledTimeout = !1, t._handledEndCourseTimerReset = !1, t._gameplayMode = ve.Casual, t._nextUpdate = 0, t._acumTime = 0, t._currentState = ye.Init, t._currentHole = 1, t._levelStart = 0, t._level = 0, t._levelSeed = 0, t._holeTime = 0, t._availablColors = [], t._aimWidget = null, t._currentLevel = void 0, t._loadScenes = [], t._loading = !1, t._scoreTotals = new Map, t._tournamentScoreTotals = new Map, t._strokes = new Map, t._playerCamera = null, t._courseDefinitions = [], t._selectingCourse = !1, t._startingNewGame = !1, t._tournamentLevels = [], t._levelsComplete = 0, t._golfPlayers = new Map, t._localGolfPlayer = null, t._statusEffectsMap = new Map, t._activeStatusEffects = [], t._destroyedPlaceables = {}, t._statusEffects = null, t._isOnJoinGameCooldown = !1, l(t, "golfModeStates", j, i(t)), t._activeGolfModeState = null, l(t, "baseLevelName", Q, i(t)), l(t, "ballPrefab", K, i(t)), l(t, "holePrefab", X, i(t)), l(t, "cameraPrefab", Y, i(t)), l(t, "aimWidgetPrefab", Z, i(t)), l(t, "flagPrefab", q, i(t)), l(t, "msgDialogPrefab", $, i(t)), l(t, "turnOffBackground", ee, i(t)), l(t, "minToStartGame", te, i(t)), l(t, "maxHoles", ae, i(t)), l(t, "holesPerGame", le, i(t)), l(t, "joinGameCooldownTime", ie, i(t)), l(t, "startingPoints", re, i(t)), l(t, "useSingleLevel", ne, i(t)), l(t, "forceLoadLevel", oe, i(t)), l(t, "autoJoinGame", se, i(t)), l(t, "colors", ue, i(t)), l(t, "uiColors", ce, i(t)), l(t, "debugAutoLoadCurrentSceneAsCourseLevel", he, i(t)), l(t, "allCourses", de, i(t)), t.powerupManager = null, t.ignoreMaxSwingAttempts = !1, t
                }
                a(t, e);
                var o = t.prototype;
                return o.GetNetGame = function() {
                    return this._netGame
                }, o.start = function() {
                    var e = this;
                    this.allCourses.forEach((function(t) {
                        var a = t.data.getComponent(b);
                        a ? e._courseDefinitions.push(a) : console.error("missing course definition in course prefab")
                    })), this._statusEffects = new H, this._statusEffects.init(this), this._statusEffectsMap.set(this.uid, this._statusEffects), this.golfModeStates.forEach((function(t) {
                        t && (t.golfMode = e)
                    }))
                }, o.ShowInviteDialog = function() {
                    var e, t = this;
                    L.discord ? null == (e = L.discord) || e.commands.openInviteDialog().catch((function(e) {
                        t.ShowMessageDialog({
                            header: "Failed to invite",
                            message: "Check invite permissions."
                        })
                    })) : this.ShowMessageDialog({
                        header: "Failed to invite",
                        message: "This only works inside of discord."
                    })
                }, o.ShowMessageDialog = function(e) {
                    w.showModalWindow(this.msgDialogPrefab, e)
                }, o.SetGameState = function(e) {
                    e == this._currentState && console.warn("trying to set the same game state multiple times."), this._activeGolfModeState && (this._activeGolfModeState.onExit(this._netGame.properties), this._activeGolfModeState = null), this.SendCurrentState(e), this.golfModeStates[e] && (this.golfModeStates[e].onEnter(this._netGame.properties), this._activeGolfModeState = this.golfModeStates[e]), this.SendCurrentState(e)
                }, o.SetGameplayMode = function(e) {
                    this.IsPrimaryUser() && (this._gameplayMode = e, this._gameplayMode == ve.Casual ? this.SetGameState(ye.CourseSelect) : this._gameplayMode == ve.Tournament ? this.SetGameState(ye.TournamentSelect) : this._gameplayMode == ve.Invalid && (this._selectingCourse = !1, this.SetGameState(ye.GameplayModeSelect)))
                }, o.GetGolfPlayers = function() {
                    return Array.from(this._golfPlayers.values())
                }, o.GetGolfPlayersMap = function() {
                    return this._golfPlayers
                }, o.GetGolfPlayer = function(e) {
                    return this._golfPlayers.get(e)
                }, o.GetScoreTotals = function() {
                    return this._scoreTotals
                }, o.GetTournamentScoreTotals = function() {
                    return this._tournamentScoreTotals
                }, o.GetLocalPlayerId = function() {
                    return this._netGame.getLocalUserID()
                }, o.IsLocalPlayerInGame = function() {
                    return null != this._localGolfPlayer
                }, o.IsLocalPlayersGameOver = function() {
                    return !this._localGolfPlayer || this._localGolfPlayer.netPlayer.state.phase == _e.GameOver
                }, o.GetCourseDefinitions = function() {
                    return this._courseDefinitions
                }, o.GetCurrentCourseDefinition = function() {
                    return this._courseDefinitions[this._level]
                }, o.CanJoinGame = function() {
                    return !this._netGame || !this._netGame.players || this._netGame.players.size >= this.maxPlayers ? S.GameFull : this._isOnJoinGameCooldown ? S.JoinCooldown : this._currentState != ye.Play || this.currentHole < this.maxHoles ? S.None : S.GameInProgress
                }, o.JoinGame = function() {
                    this.tryToJoinGame()
                }, o.ContinueGame = function() {
                    var e;
                    this._currentLevel && (null == (e = this._playerCamera) || e.setTarget(null), this.node.emit(Me, null));
                    this.IsLocalPlayerInGame() && this._localGolfPlayer.ReadyForCourseSelect()
                }, o.SpectateGame = function() {
                    this.IsLocalPlayerInGame() && this._netGame.leaveGame()
                }, o.SelectedPlayerId = function(e) {
                    var t, a, l, i = this._golfPlayers.get(e);
                    i && i.netPlayer.localState.visual && ((null == (t = this._playerCamera) ? void 0 : t.target) == i.netPlayer.localState.visual.node ? this.IsLocalPlayerInGame() ? i.netPlayer.local || (null == (a = this._playerCamera) || a.setTarget(this._localGolfPlayer.netPlayer.localState.visual.node), this.node.emit(Me, this._localGolfPlayer)) : (null == (l = this._playerCamera) || l.setTarget(null), this.node.emit(Me, null)) : this._playerCamera && (this._playerCamera.setTarget(i.netPlayer.localState.visual.node), this._playerCamera.node.active = !0, this.node.emit(Me, i)))
                }, o.GetSelectedPlayerId = function() {
                    if (this._playerCamera && this._playerCamera.target && this._playerCamera.target.components) {
                        var e = this._playerCamera.target.getComponent(G);
                        if (e) return e.owner.uid
                    }
                    return this._localGolfPlayer ? this._localGolfPlayer.netPlayer.uid : ""
                }, o.resetColors = function() {
                    this._availablColors = [];
                    for (var e = 0; e < this.colors.length; e++) this._availablColors.push(this.colors[e])
                }, o.GetParValueTotal = function(e) {
                    return this._currentLevel ? this._currentLevel.getParValueTotal(e) : -1
                }, o.GetParValue = function(e) {
                    return this._currentLevel ? this._currentLevel.getParValue(e) : -1
                }, o.GetSpawnPoint = function() {
                    var e;
                    return null == (e = this._currentLevelInterface) ? void 0 : e.getSpawnPoint(this.currentHole, this.GetCurrentCourseDefinition(), null)
                }, o.GetFirstEndHoleLocation = function() {
                    var e = this.GetEndLocationsFromHole(this.currentHole);
                    return e && e.length > 0 ? e[0].worldPosition.clone() : d.ZERO
                }, o.GetStartLocationFromHole = function(e, t) {
                    return this._currentLevel ? this._currentLevel.getSpawnPoint(e, this.GetCurrentCourseDefinition(), t) : new d
                }, o.GetEndLocationsFromHole = function(e) {
                    return this._currentLevel ? this._currentLevel.getEndLocationsFromHole(e) : []
                }, o.GetEndLocationFromHoleName = function(e) {
                    return this._currentLevel ? this._currentLevel.GetEndLocationFromHoleName(e) : null
                }, o.GetStartLocationsFromHole = function(e) {
                    return this._currentLevel ? this._currentLevel.getStartLocationsFromHole(e) : []
                }, o.UpdateScoreTotals = function() {
                    var e = this;
                    this._scoreTotals.clear(), this._tournamentScoreTotals.clear(), this._netGame && this._netGame.players && (this._netGame.players.forEach((function(t, a) {
                        var l = 0,
                            i = !0;
                        if (t.state.score && t.state.score.length > 0 ? l = t.state.score.reduce((function(e, t) {
                                return e + t
                            }), 0) : i = !1, e._scoreTotals.set(t.uid, l), i && e._gameplayMode == ve.Tournament) {
                            var r = t.state.tourney_score || [];
                            r[e._levelsComplete] = l, t.state.tourney_score = r, l = t.state.tourney_score.reduce((function(e, t) {
                                return e + t
                            }), 0), e._tournamentScoreTotals.set(t.uid, l)
                        }
                    })), this.node.emit(be, this._golfPlayers, this._scoreTotals, this._tournamentScoreTotals))
                }, o.UpdateParAndHole = function(e) {
                    this.node.emit(Ce, this.GetParValue(e)), this.node.emit(Pe, e)
                }, o.UpdateLocalPlayerState = function() {
                    this._localGolfPlayer && this.node.emit(Ge, this._localGolfPlayer.netPlayer, this._netGame.players)
                }, o.resetHoles = function() {
                    if (void 0 === this._level) throw new Error("UNDEFINED: level idx when restting holes.");
                    if (this._level < 0 || this._level >= this._courseDefinitions.length) throw new Error("Invalid level idx when restting holes: " + this._level);
                    if (!this._courseDefinitions[this._level]) {
                        var e = JSON.stringify(this._courseDefinitions, ["displayName", "sceneName", "numHoles"]);
                        throw new Error("Missing course definition for level " + this._level + ". Courses " + e)
                    }
                }, o.resetGame = function() {
                    this._currentState = ye.Init, this._currentHole = 1, this._levelStart = 0, this._level = 0, this._levelSeed = 0, this._holeTime = 0
                }, o.loadScene = function(e) {
                    if (!(this._level < 0 || this._level > this._courseDefinitions.length) || this.debugAutoLoadCurrentSceneAsCourseLevel) {
                        this.turnOffBackground && (this.turnOffBackground.active = !1);
                        var t = "";
                        t = this.debugAutoLoadCurrentSceneAsCourseLevel ? f.getScene().name : this._courseDefinitions[this._level].sceneName, this._loadScenes.findIndex((function(e) {
                            var a = e[0];
                            e[1];
                            return a === t
                        })) < 0 && (this._loadScenes.push([t, e]), this._loadScenes.push(["transition", function() {}]))
                    } else console.error("invalid level set " + this._level + ", setting back to 0. This should just be until we get course select in")
                }, o.OutOfBounds = function(e) {
                    if (e.owner && e.owner.local) {
                        var t = this.GetGolfPlayer(e.owner.uid);
                        t && t.ResetBallLocation(this.GetSpawnPoint(), this.currentHole)
                    }
                }, o.CheckCurrentHole = function(e, t) {
                    if (this.performHoleCheck && e.owner && e.owner.local && this.currentHole != t) {
                        var a = this.GetGolfPlayer(e.owner.uid);
                        a && a.ResetBallLocation(this.GetSpawnPoint(), this.currentHole)
                    }
                }, o.HasReachedMaxStrokes = function(e) {
                    return !1
                }, o.UpdateState = function() {
                    this.SendCurrentState(this._currentState)
                }, o.SendCurrentState = function(e) {
                    var t = {
                        gameplay_mode: this._gameplayMode,
                        round_state: e,
                        current_hole: this._currentHole,
                        hole_time: this._holeTime,
                        level_start: this._levelStart,
                        level: this._level,
                        level_seed: this._levelSeed,
                        active_status_effects: this._activeStatusEffects,
                        destroyed_placeables: this._destroyedPlaceables
                    };
                    this._gameplayMode == ve.Tournament ? (t.tournament_levels = this._tournamentLevels, t.levels_complete = this._levelsComplete) : (t.tournament_levels = null, t.levels_complete = null), this.golfModeStates.forEach((function(e) {
                        e && e.setGameProperties(t)
                    })), this._netGame.UpdateGameProperties(t)
                }, o.Initialize = function(t, a) {
                    e.prototype.Initialize.call(this, t, a), this.resetGame(), this.resetColors()
                }, o.GetInitialGameProperties = function() {
                    return {
                        gameplay_mode: ve.Invalid,
                        round_state: ye.Init,
                        current_hole: this._currentHole,
                        level: this._level,
                        level_start: this._levelStart,
                        votes: {}
                    }
                }, o.userJoined = function(e, t) {
                    var a = this;
                    t && (this.node.emit(Te, !0), this.debugAutoLoadCurrentSceneAsCourseLevel && this.scheduleOnce((function() {
                        a.tryToJoinGame()
                    }), .1)), this.node.emit(ke, e)
                }, o.UserLeft = function(e) {
                    this.node.emit(Ae, e)
                }, o.createSpectatorCamera = function() {
                    var e, t = m(this.cameraPrefab);
                    t && (_.addPersistRootNode(t), this.node.scene.addChild(t), this._playerCamera = t.getComponent(P), null == (e = this._playerCamera) || e.setTarget(null), this.node.emit(Me, null), this.PositionCameraForHole(1), this._playerCamera && this._playerCamera.startLevel(this._currentLevel))
                }, o.AddPlayer = function(e) {
                    var t = new p,
                        a = new M(t);
                    return t.initialize(e, this, a), this._golfPlayers.set(e.uid, t), this._statusEffectsMap.set(e.uid, t.statusEffects), e.localState.golfPlayer = t, e.local && (this._localGolfPlayer = t), this._currentState == ye.Play && this._currentLevel && this.internalAddPlayer(e), this.node.emit(pe, this._netGame.players), L.updateRichPresense(this._netGame.players.size, this.maxPlayers), this.golfModeStates[this._currentState] && this.golfModeStates[this._currentState].onAddPlayer(e), this._currentState == ye.Play && this.IsPrimaryUser() && 1 == this._golfPlayers.size && (this._currentHole = 1, this.resetHoleStartTime()), !0
                }, o.RemovePlayer = function(e) {
                    var t;
                    (this._golfPlayers.has(e.uid) && (this._golfPlayers.get(e.uid).onPlayerRemoved(), this._golfPlayers.delete(e.uid)), this._statusEffectsMap.has(e.uid) && this._statusEffectsMap.delete(e.uid), e.local) && (this._localGolfPlayer = null, this._currentLevel && (null == (t = this._playerCamera) || t.setTarget(null), this.node.emit(Me, null)));
                    this.removeVisualForPlayer(e), this.node.emit(pe, this._netGame.players), L.updateRichPresense(this._netGame.players.size, this.maxPlayers), this.golfModeStates.forEach((function(t) {
                        t && t.onRemovePlayer(e)
                    })), this._currentState == ye.Play && this.checkIfGameStateNeedsToChange()
                }, o.QueueLocalPlayerMove = function(e) {
                    this._localGolfPlayer && (this._localGolfPlayer.QueueLocalPlayerMove(e, !0), this._netGame.SendQueueMove(e))
                }, o.ApplyQueuedMove = function(e, t) {
                    var a = this._golfPlayers.get(e.uid);
                    a ? a.ApplyQueuedMove(t) : console.error("didn't find golf player " + e.uid)
                }, o.SendBallAnimate = function(e) {
                    this._localGolfPlayer && this._netGame.SendBallAnimate(e)
                }, o.SendCorrection = function(e, t) {
                    this._localGolfPlayer && this._netGame.SendCorrection(e, t)
                }, o.SendBallStopped = function(e) {
                    this.localGolfPlayer && this._netGame.SendBallStopped(e)
                }, o.ApplyCorrection = function(e, t, a, l, i) {
                    var r = this._golfPlayers.get(e.uid);
                    r ? r.ApplyCorrection(t, a, l, i) : console.error("didn't find golf player " + e.uid)
                }, o.BallAnimateTo = function(e, t) {
                    var a = this._golfPlayers.get(e.uid);
                    a ? a.BallAnimateTo(t) : console.error("didn't find golf player " + e.uid)
                }, o.BallStopped = function(e, t) {
                    var a = this._golfPlayers.get(e.uid);
                    a ? a.BallStopped(t) : console.error("didn't find golf player " + e.uid)
                }, o.ForcePlayerToSpectator = function(e) {
                    e.local && this.SpectateGame()
                }, o.AllPlayersFinishedHole = function() {
                    return this.countPlayersInState(_e.HoleDone) + this.countPlayersInState(_e.GameOver) + this.countPlayersInState(_e.CourseSelect) >= this._netGame.players.size
                }, o.AllPlayersFinishedGame = function() {
                    return this.countPlayersInState(_e.GameOver) >= this._netGame.players.size
                }, o.countPlayersInState = function(e) {
                    var t = 0;
                    return this._netGame.players.forEach((function(a) {
                        a.state.phase == e && t++
                    })), t
                }, o.allPlayersInState = function(e) {
                    return this._netGame.players.size == this.countPlayersInState(e)
                }, o.AllPlayersGameOverOrWaitingOnCourseSelect = function() {
                    return this._netGame.players.size == this.countPlayersInState(_e.GameOver) + this.countPlayersInState(_e.CourseSelect)
                }, o.PlayerStateUpdated = function(e) {
                    var t = this._golfPlayers.get(e.uid);
                    t && t.PlayerStateUpdated(), this._currentState != ye.CourseSelect && this.checkIfGameStateNeedsToChange(), this.node.emit(pe, this._netGame.players)
                }, o.HandleHoleTimeout = function(e) {
                    this.localGolfPlayer && this.currentHole === e && this.localGolfPlayer.CheckTimedout()
                }, o.StartNewHole = function(e) {
                    e != this._currentHole && console.warn("local player being told to start hole " + e + " but the mode current hole is " + this._currentHole), this.localGolfPlayer && this.localGolfPlayer.StartNewHole()
                }, o.clearTimeoutInterval = function() {
                    this.IsPrimaryUser() && this._timeoutIntervalHandle >= 0 && (clearInterval(this._timeoutIntervalHandle), this._timeoutIntervalHandle = -1)
                }, o.resetTimeoutInterval = function() {
                    var e = this;
                    this.IsPrimaryUser() && (this.clearTimeoutInterval(), this._timeoutIntervalHandle = setInterval((function() {
                        e.holeTimeout && e.checkIfGameStateNeedsToChange()
                    }), 500))
                }, o.resetHoleStartTime = function(e) {
                    this._holeTime = this._netGame.getServerTime(), e && (this._holeTime += e), this.UpdateState(), this.resetTimeoutInterval()
                }, o.advanceToCourseSelect = function() {
                    if (this._holeTime = 0, this._gameplayMode == ve.Tournament) return this.PlayerCount() > 0 && this._levelsComplete + 1 < this._tournamentLevels.length && (this._levelsComplete++, this.getNextTournamentLevel()) ? (this.SetGameState(ye.TournamentWait), this.resetHoles(), void this.clearTimeoutInterval()) : (this.UpdateScoreTotals(), void(this.GetTournamentScoreTotals().size > 0 ? (this._holeTime = this._netGame.getServerTime() - 75e3, this.SetGameState(ye.TournamentOver), this.resetTimeoutInterval()) : (this._gameplayMode = ve.Invalid, this.SetGameState(ye.GameplayModeSelect), this.kickPlayersToSpectator(), this.clearTimeoutInterval())));
                    this._gameplayMode = ve.Invalid, this.SetGameState(ye.GameplayModeSelect), this.kickPlayersToSpectator(), this.clearTimeoutInterval()
                }, o.advanceToNextHole = function() {
                    var e = this;
                    this._advancingHole < 0 && (this._advancingHole = setTimeout((function() {
                        e._currentHole++, e._currentHole > e.maxHoles && console.error("all players aren't in course select or hole done, so we think we're playing but current hole is over max holes"), e.UpdateState(), e._netGame.SendStartNewHole(e._currentHole), e.StartNewHole(e._currentHole), e.statusEffects.startNewHole(e._currentHole), e.resetHoleStartTime(), e.node.emit(Ie), e._handledTimeout = !1, e._advancingHole = -1
                    }), 1500))
                }, o.checkIfGameStateNeedsToChange = function() {
                    if (this._netGame.isPrimaryUser())
                        if (this._currentState == ye.Play)
                            if (this.holeTimeout) {
                                if (!this._handledTimeout) this._handledTimeout = !0, 0 === this._netGame.players.size || this._handledEndCourseTimerReset && this._currentHole == this.maxHoles ? this.advanceToCourseSelect() : this._handledEndCourseTimerReset || this._currentHole != this.maxHoles ? (this._netGame.SendHoleTimeout(this.currentHole), this.HandleHoleTimeout(this.currentHole), this.advanceToNextHole()) : (this._handledEndCourseTimerReset = !0, this._handledTimeout = !1, this.resetHoleStartTime(-9e4), this._netGame.SendHoleTimeout(this.currentHole), this.HandleHoleTimeout(this.currentHole))
                            } else {
                                var e = 0 === this._netGame.players.size,
                                    t = this.allPlayersInState(_e.HoleDone),
                                    a = this.allPlayersInState(_e.CourseSelect),
                                    l = this.AllPlayersGameOverOrWaitingOnCourseSelect();
                                e || a || t && this.currentHole + 1 > this.maxHoles ? this.advanceToCourseSelect() : t ? this.advanceToNextHole() : l && !this._handledEndCourseTimerReset && (this._handledEndCourseTimerReset = !0, this.resetHoleStartTime(-9e4))
                            }
                    else if (this._currentState == ye.TournamentOver) {
                        var i = !1;
                        this.holeTimeout && (this._handledTimeout || (this._handledTimeout = !0, i = !0));
                        var r = 0 === this._netGame.players.size,
                            n = this.allPlayersInState(_e.CourseSelect);
                        (r || n || i) && (this._holeTime = 0, this._gameplayMode = ve.Invalid, this.SetGameState(ye.GameplayModeSelect))
                    }
                }, o.getSafeValue = function(e, t) {
                    return null == e ? t : e
                }, o.SetPrimaryUser = function(e) {
                    this._netGame.isPrimaryUser() && (this._gameplayMode = this.getSafeValue(e.gameplay_mode, this._gameplayMode), this._gameplayMode == ve.Tournament && (this._tournamentLevels = this.getSafeValue(e.tournament_levels, this._tournamentLevels), this._levelsComplete = this.getSafeValue(e.levels_complete, this._levelsComplete)), this._currentState = this.getSafeValue(e.round_state, this._currentState), this._currentHole = this.getSafeValue(e.current_hole, this._currentHole), this._holeTime = this.getSafeValue(e.hole_time, this._holeTime), this._levelStart = this.getSafeValue(e.level_start, this._levelStart), this._level = this.getSafeValue(e.level, this._level), this._levelSeed = this.getSafeValue(e.level_seed, this._levelSeed), this._activeStatusEffects = this.getSafeValue(e.active_status_effects, this._activeStatusEffects), this._destroyedPlaceables = this.getSafeValue(e.destroyed_placeables, this._destroyedPlaceables), !this._activeGolfModeState && this.golfModeStates[this._currentState] && (this._activeGolfModeState = this.golfModeStates[this._currentState], this._activeGolfModeState.onEnter(this._netGame.properties)), this._activeGolfModeState && this._activeGolfModeState.onSetPrimaryUser(e), this._currentState == ye.Init ? (this.resetGame(), this._gameplayMode = ve.Invalid, this.SetGameState(ye.GameplayModeSelect)) : (this.checkIfGameStateNeedsToChange(), this.resetTimeoutInterval()), this.node.emit(Se))
                }, o.GetControlsEnabled = function() {
                    var e, t;
                    if (!this._localGolfPlayer) return !1;
                    var a = this._localGolfPlayer.netPlayer.localState.visual;
                    return !!a && ((null == (e = this._playerCamera) ? void 0 : e.target) == a.node || null == (null == (t = this._playerCamera) ? void 0 : t.target))
                }, o.ResetTournamentState = function() {
                    this._levelsComplete = 0, this._tournamentLevels = []
                }, o.GameStateUpdated = function(e) {
                    var t = this;
                    if (e) {
                        this._startingNewGame = !1, this._currentState = e.round_state;
                        var a = !1;
                        if (!this._netGame.isPrimaryUser()) {
                            this._gameplayMode = this.getSafeValue(e.gameplay_mode, this._gameplayMode), this._gameplayMode == ve.Tournament && (this._tournamentLevels = this.getSafeValue(e.tournament_levels, this._tournamentLevels), this._levelsComplete = this.getSafeValue(e.levels_complete, this._levelsComplete)), this._holeTime = this.getSafeValue(e.hole_time, this._holeTime), this._levelStart = this.getSafeValue(e.level_start, this._levelStart);
                            var l = this._level;
                            this._level = this.getSafeValue(e.level, this._level), a = l != this._level, this._levelSeed = this.getSafeValue(e.level_seed, this._levelSeed), this._activeStatusEffects = this.getSafeValue(e.active_status_effects, this._activeStatusEffects), this._destroyedPlaceables = this.getSafeValue(e.destroyed_placeables, this._destroyedPlaceables), null != this._activeGolfModeState && this._activeGolfModeState != this.golfModeStates[this._currentState] && (this._activeGolfModeState.onExit(e), this._activeGolfModeState = null), !this._activeGolfModeState && this.golfModeStates[this._currentState] && (this._activeGolfModeState = this.golfModeStates[this._currentState], this._activeGolfModeState.onEnter(e))
                        }
                        this._activeGolfModeState && this._activeGolfModeState.onGameStateUpdated(e);
                        var i = this._currentHole;
                        switch (this._currentHole = e.current_hole, i != this._currentHole && (this.UpdateLocalPlayerState(), this.UpdateParAndHole(this.currentHole)), this.node.emit(ge, this._currentState), this._currentState) {
                            case ye.CourseSelect:
                                this._selectingCourse || (this._selectingCourse = !0, this._currentLevel = null, this._loading = !1, this._handledTimeout = !1, this._handledEndCourseTimerReset = !1, this._statusEffects.clearActiveStatusEffects(), this._activeStatusEffects = [], this._destroyedPlaceables = {}, this.playerCamera && (this.playerCamera.target = null), this.node.emit(Me, null));
                                break;
                            case ye.TournamentOver:
                            case ye.TournamentWait:
                                this._currentLevel = null, this._currentHole = 1, this._loading = !1, this._handledTimeout = !1, this._handledEndCourseTimerReset = !1, this._statusEffects.clearActiveStatusEffects(), this._activeStatusEffects = [], this._destroyedPlaceables = {}, this._localGolfPlayer && this._localGolfPlayer.resetPlayer(), this._netGame.players.forEach((function(e) {
                                    t.removeVisualForPlayer(e)
                                })), this.playerCamera && (this.playerCamera.target = null), this.node.emit(Me, null), this.IsPrimaryUser() && this._currentState == ye.TournamentWait && this.startNewGame();
                                break;
                            case ye.Play:
                                this._selectingCourse = !1, this._loading || this._currentLevel && !a || (this.node.emit(Ee), setTimeout((function() {
                                    t.loadScene((function(e) {
                                        var a;
                                        e || t.debugAutoLoadCurrentSceneAsCourseLevel ? (null == (a = t._playerCamera) || a.setTarget(null), t.resetColors(), t._netGame.players.forEach((function(e) {
                                            e.localState.visual && e.localState.visual.node ? console.error("player " + e.uid + " still has a visual?") : t.internalAddPlayer(e)
                                        }))) : (t._golfPlayers.forEach((function(e) {
                                            e.netPlayer.localState.visual || t.internalAddPlayer(e.netPlayer)
                                        })), t._localGolfPlayer && (t.SelectedPlayerId(t._localGolfPlayer.netPlayer.uid), t.PositionCameraForHole(t.currentHole)));
                                        t.IsPrimaryUser() && t.resetHoleStartTime(), t._statusEffects.initStatusEffects(), t._localGolfPlayer ? t._localGolfPlayer.StartNewHole() : t._playerCamera || t.createSpectatorCamera(), t.node.emit(pe, t._netGame.players), t.node.emit(we)
                                    }))
                                }), 500))
                        }
                    }
                }, o.tryToJoinGame = function() {
                    return !(this._netGame.localPlayerInGame() || !this._netGame.canJoinGame()) && (this._netGame.joinGame({
                        phase: _e.StartHole,
                        strokes: 0,
                        score: [],
                        hole: 1
                    }), !0)
                }, o.getNextTournamentLevel = function() {
                    return this._levelsComplete < this._tournamentLevels.length && (this._level = this._tournamentLevels[this._levelsComplete], this._levelSeed = v(0, 99999999), console.log("getNextTournamentLevel picked " + this._level), !0)
                }, o.startNewGame = function() {
                    this._netGame.isPrimaryUser() && (this._startingNewGame = !0, this._golfPlayers.forEach((function(e) {
                        e.restartPlayer()
                    })), this._gameplayMode == ve.Tournament && this._level < 0 && this._tournamentLevels.length > 0 && (this.getNextTournamentLevel() ? this.resetHoles() : console.error("failed to get next tournament level. levels " + this._tournamentLevels + " complete " + this._levelsComplete)), this.node.emit(Ee), this._currentLevel = null, this._currentHole = 1, this.SetGameState(ye.Play))
                }, o.update = function(e) {
                    this.handleSceneLoading(), this._localGolfPlayer && this._localGolfPlayer.update(e), this._golfPlayers.forEach((function(e) {
                        e.statusEffects.updateStatusEffects()
                    })), this.statusEffects.updateStatusEffects()
                }, o.setTournamentLevels = function(e) {
                    this._tournamentLevels = Object.assign([], e), this._level = -1, this._levelSeed = -1
                }, o.setLevelAndSeed = function(e, t) {
                    this._level = e, this._levelSeed = t
                }, o.kickPlayersToSpectator = function(e) {
                    var t = this;
                    void 0 === e && (e = !1), this.IsPrimaryUser() && (e || this._gameplayMode != ve.Tournament) && this._golfPlayers.forEach((function(e) {
                        e.netPlayer.local ? t.SpectateGame() : t._netGame.SendForceLeaveGame(e.netPlayer)
                    }))
                }, o.handleSceneLoading = function() {
                    var e = this;
                    if (!this._loading && this._loadScenes.length > 0) {
                        var t = this._loadScenes.pop(),
                            a = t[0],
                            l = t[1];
                        if (f.getScene().name != a) return y.stopAll(), this._loading = f.loadScene(a, (function(t, i) {
                            if (e._loading = !1, e._aimWidget = null, !t) {
                                var r = i.getChildByName("Level");
                                if (r) {
                                    var n = r.getComponent(T);
                                    n && (e._currentLevel = n, E.instance.enable = n.usesBloom, e.setCurrentLevel(e._currentLevel), n.holePrefab = e.holePrefab, n.initialize(e._levelSeed, e.holePrefab, e.flagPrefab), e.maxHoles = n.holeCount, e.holesPerGame = n.holeCount, e._netGame.JoinGroup(a))
                                }
                                l && l(!0)
                            }
                        })), void(this._loading || this._loadScenes.push([a, l]));
                        var i = f.getScene().getChildByName("Level");
                        if (i) {
                            var r = i.getComponent(T);
                            r && (this._currentLevel = r, this.setCurrentLevel(this._currentLevel))
                        }
                        l && l(!1)
                    }
                }, o.getPlayerColor = function(e) {
                    var t = null;
                    if (e.state.index >= 0 && e.state.index < this.colors.length) {
                        t = this.colors[e.state.index];
                        var a = this._availablColors.findIndex((function(e) {
                            return e == t
                        }));
                        a >= 0 ? this._availablColors.splice(a, 1) : console.error("addVisualForPlayer - color " + t + " not found for index " + [e.state.index])
                    }
                    if (!t)
                        if (this._availablColors.length > 0) {
                            t = this._availablColors.pop();
                            var l = this.colors.findIndex((function(e) {
                                return e == t
                            }));
                            l >= 0 && (e.state.index = l)
                        } else console.error("out of colors for a player"), t = new h(255, 255, 255, 255);
                    return t
                }, o.getPlayerUIColor = function(e) {
                    return e.state.index >= 0 && e.state.index < this.uiColors.length ? this.uiColors[e.state.index] : h.BLACK
                }, o.internalAddPlayer = function(e, t) {
                    void 0 === t && (t = !1);
                    var a = e.state.index,
                        l = this.getPlayerColor(e);
                    t = t || a != e.state.index;
                    var i = m(this.ballPrefab);
                    if (i) {
                        var r = this.node.scene;
                        r.addChild(i);
                        var n = i.getComponent(G);
                        if (n.startLevel(this._currentLevel), e.localState.visual = n, (t = n.setOwner(e, !0, l) || t) && this._netGame.isPrimaryUser() && e.stateUpdated(), e.local) {
                            if (!this._aimWidget) {
                                var o = m(this.aimWidgetPrefab);
                                o && (r.addChild(o), this._aimWidget = o.getComponent(C))
                            }
                            this._aimWidget && (n.aimWidget = this._aimWidget), this.UpdateLocalPlayerState(), this.UpdateParAndHole(this.currentHole), this._playerCamera || this.createSpectatorCamera(), this.SelectedPlayerId(e.uid), this.PositionCameraForHole(this.currentHole)
                        } else this.IsLocalPlayerInGame() || this.UpdateParAndHole(this.currentHole);
                        this._golfPlayers.get(e.uid).onPlayerVisualsAdded(n), this.node.emit(Le, e, i)
                    } else console.error("addVisualForPlayer - no ball instance")
                }, o.removeVisualForPlayer = function(e) {
                    var t, a = e.localState.visual;
                    a && (null == (t = a.node) || t.destroy());
                    e.localState.visual = null, e.state.index && this._availablColors.push(this.colors[e.state.index]), this.node.emit(He, e)
                }, o.PositionCameraForHole = function(e) {
                    if (this.playerCamera)
                        if (0 != e) {
                            if (this._currentLevel) {
                                var t = this._currentLevel.getHoleCameraSetup(e - 1);
                                this.playerCamera.setCameraFromHoleConfig(t)
                            }
                        } else console.error("An assumption is made that hole is 1 based, not 0 so um... ")
                }, o.SendMarkPlaceableDestroyed = function(e) {
                    this._netGame.SendMarkPlaceableDestroyed(e)
                }, o.MarkPlaceableDestroyed = function(e) {
                    this.IsPrimaryUser() && (this._destroyedPlaceables[e] = !0, this.UpdateState())
                }, o.isPlaceableDestroyed = function(e) {
                    return this._destroyedPlaceables[e]
                }, o.sendApplyStatusEffectToTarget = function(e, t, a) {
                    this._netGame.SendApplyStatusEffectToTarget(e, t, a)
                }, o.sendConsumeStatusEffectCharge = function(e, t) {
                    this._netGame.SendConsumeStatusEffectCharge(e, t)
                }, o.getStatusEffectTargetById = function(e) {
                    return this._statusEffectsMap.get(e)
                }, o.ApplyStatusEffectToTarget = function(e, t, a) {
                    var l = r({
                            target: this.getStatusEffectTargetById(e.targetId)
                        }, e),
                        i = this.getStatusEffectTargetById(t);
                    this.statusEffectManager.applyStatusEffectToTarget(l, i, a)
                }, o.ConsumeStatusEffectCharge = function(e, t) {
                    var a = r({
                        target: this.getStatusEffectTargetById(e.targetId)
                    }, e);
                    a.target ? this.statusEffectManager.consumeStatusEffectCharge(a, t) : console.error("failed to find target for " + e.targetId)
                }, o.canUpdateServerState = function() {
                    return this.IsPrimaryUser()
                }, o.getActiveStatusEffectStates = function() {
                    return this._activeStatusEffects || []
                }, o.setActiveStatusEffectStates = function(e) {
                    this._activeStatusEffects = e, this.UpdateState()
                }, o.HandleStatusEffectEvent = function(e, t) {
                    var a, l = null == (a = e.localState) ? void 0 : a.visual;
                    l && l.HandleStatusEffectEvent(t)
                }, o.SendStatusEffectEvent = function(e, t) {
                    this._netGame.SendStatusEffectEvent(e, t)
                }, n(t, [{
                    key: "gameplayMode",
                    get: function() {
                        return this._gameplayMode
                    }
                }, {
                    key: "tournamentLevelCount",
                    get: function() {
                        return this._tournamentLevels.length
                    }
                }, {
                    key: "levelsComplete",
                    get: function() {
                        return this._levelsComplete
                    }
                }, {
                    key: "levelIndex",
                    get: function() {
                        return this._level
                    }
                }, {
                    key: "levelStart",
                    get: function() {
                        return this._levelStart
                    }
                }, {
                    key: "playerCamera",
                    get: function() {
                        return this._playerCamera
                    }
                }, {
                    key: "currentHole",
                    get: function() {
                        return this._currentHole
                    }
                }, {
                    key: "currentLevel",
                    get: function() {
                        return this._currentLevel
                    }
                }, {
                    key: "performHoleCheck",
                    get: function() {
                        return !this._currentLevel || this._currentLevel.performHoleCheck
                    }
                }, {
                    key: "statusEffects",
                    get: function() {
                        return this._statusEffects
                    }
                }, {
                    key: "gameState",
                    get: function() {
                        return this._currentState
                    }
                }, {
                    key: "holeTime",
                    get: function() {
                        return this._holeTime
                    }
                }, {
                    key: "holeTimeLeft",
                    get: function() {
                        var e = this._holeTime > 0 ? this._netGame.getServerTime() - this._holeTime : 0;
                        return Math.max(Ue - e, 0)
                    }
                }, {
                    key: "holeTimeout",
                    get: function() {
                        return (this._holeTime > 0 ? this._netGame.getServerTime() - this._holeTime : 0) >= Ue
                    }
                }, {
                    key: "holeTimeoutWarning",
                    get: function() {
                        return (this._holeTime > 0 ? this._netGame.getServerTime() - this._holeTime : 0) >= 9e4
                    }
                }, {
                    key: "localGolfPlayer",
                    get: function() {
                        return this._localGolfPlayer
                    }
                }, {
                    key: "uid",
                    get: function() {
                        return "GolfMode"
                    }
                }]), t
            }(g)).prototype, "golfModeStates", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), Q = t(J.prototype, "baseLevelName", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "level"
                }
            }), K = t(J.prototype, "ballPrefab", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), X = t(J.prototype, "holePrefab", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Y = t(J.prototype, "cameraPrefab", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Z = t(J.prototype, "aimWidgetPrefab", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), q = t(J.prototype, "flagPrefab", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), $ = t(J.prototype, "msgDialogPrefab", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), ee = t(J.prototype, "turnOffBackground", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), te = t(J.prototype, "minToStartGame", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), ae = t(J.prototype, "maxHoles", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 6
                }
            }), le = t(J.prototype, "holesPerGame", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 6
                }
            }), ie = t(J.prototype, "joinGameCooldownTime", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), re = t(J.prototype, "startingPoints", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 30
                }
            }), ne = t(J.prototype, "useSingleLevel", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), oe = t(J.prototype, "forceLoadLevel", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), se = t(J.prototype, "autoJoinGame", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), ue = t(J.prototype, "colors", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), ce = t(J.prototype, "uiColors", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), he = t(J.prototype, "debugAutoLoadCurrentSceneAsCourseLevel", [me], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), de = t(J.prototype, "allCourses", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), W = J)) || W));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GolfModeGameState.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, o, n, r;
    return {
        setters: [function(e) {
            t = e.inheritsLoose
        }, function(e) {
            o = e.cclegacy, n = e._decorator, r = e.Component
        }],
        execute: function() {
            var a;
            o._RF.push({}, "1b148yXCVFBiKv5C7U5b6mg", "GolfModeGameState", void 0);
            var c = n.ccclass;
            n.property, e("GolfModeGameState", c("GolfModeGameState")(a = function(e) {
                function o() {
                    for (var t, o = arguments.length, n = new Array(o), r = 0; r < o; r++) n[r] = arguments[r];
                    return (t = e.call.apply(e, [this].concat(n)) || this).golfMode = null, t
                }
                t(o, e);
                var n = o.prototype;
                return n.onEnter = function(e) {}, n.onExit = function(e) {}, n.onUpdate = function(e) {}, n.onAddPlayer = function(e) {}, n.onRemovePlayer = function(e) {}, n.onSetPrimaryUser = function(e) {}, n.onGameStateUpdated = function(e) {}, n.setGameProperties = function(e) {}, o
            }(r)) || a);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GolfPlayer.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./GolfMode.ts", "./gameManager.ts", "./StatusEffects.ts", "./utils.ts", "./GameLogManager.ts", "./GolfScoringComponent.ts"], (function(e) {
    var t, s, a, i, o, n, r, l, c, h, u, d, _, f, m;
    return {
        setters: [function(e) {
            t = e.createClass
        }, function(e) {
            s = e.cclegacy, a = e._decorator, i = e.Vec3, o = e.Color
        }, function(e) {
            n = e.DisableControlsReason, r = e.BallState
        }, function(e) {
            l = e.GameState, c = e.GameplayMode, h = e.PlayerPhase
        }, function(e) {
            u = e.GameManager
        }, function(e) {
            d = e.StatusEffects
        }, function(e) {
            _ = e.inIFrame
        }, function(e) {
            f = e.GameLogManager
        }, function(e) {
            m = e.GolfScoringComponent
        }],
        execute: function() {
            var y;
            s._RF.push({}, "383c2JFoTRFMKBwio4mLNcz", "GolfPlayer", void 0);
            var v = a.ccclass,
                P = (a.property, .33),
                p = function(e, t, s) {
                    this.pos = void 0, this.vel = void 0, this.time = void 0, this.pos = e, this.vel = t, this.time = s
                };
            e("GolfPlayer", v("GolfPlayer")(y = function() {
                function e() {
                    this._nextUpdate = 0, this._acumTime = 0, this._timedout = !1, this._uid = void 0, this._userName = void 0, this._netPlayer = void 0, this._gameMode = void 0, this._scoring = void 0, this._corrections = [], this._canStartNextHole = !1, this._currentHoleTimeout = !1, this._statusEffects = void 0
                }
                var s = e.prototype;
                return s.initialize = function(e, t, s) {
                    var a;
                    switch (this._statusEffects = new d, this._statusEffects.init(this), this._netPlayer = e, this._gameMode = t, this._scoring = s, this._userName = (null == (a = e.getUser()) ? void 0 : a.username) || "<Missing>", this._uid = e.uid, (this._gameMode.gameState == l.Play && this._gameMode.currentHole > 1 || this._gameMode.gameplayMode == c.Tournament && this._gameMode.levelsComplete > 0) && this._netPlayer.state.score.length < this._gameMode.currentHole - 1 && this._scoring.catchupScores(), this._netPlayer.state.phase) {
                        case h.HoleDone:
                            this.statusEffects.suspendActiveStatusEffects();
                            break;
                        case h.GameOver:
                            this.statusEffects.enableImmunity()
                    }
                }, s.onPlayerVisualsAdded = function(e) {
                    var t = this;
                    e.owner == this.netPlayer && e.scheduleOnce((function() {
                        t._statusEffects.initStatusEffects()
                    }), .1)
                }, s.levelVote = function() {
                    return null != this._netPlayer.state.vote_lvl ? this._netPlayer.state.vote_lvl : -1
                }, s.setLevelVote = function(e) {
                    this._netPlayer.state.vote_lvl = e, this._netPlayer.stateUpdated()
                }, s.previousScore = function() {
                    return this._netPlayer.state.prev_score
                }, s.restartPlayer = function() {
                    var e = this;
                    setTimeout((function() {
                        e.resetPlayer()
                    }), 500)
                }, s.onPlayerRemoved = function() {
                    this._netPlayer && this._netPlayer.state && (this._netPlayer.state.active_status_effects = []), this._statusEffects.clearActiveStatusEffects()
                }, s.resetPlayer = function() {
                    this._netPlayer.state.strokes = 0;
                    var e = -9999;
                    this._netPlayer.state.score && this._netPlayer.state.score.length > 0 && (e = this._netPlayer.state.score.reduce((function(e, t) {
                        return e + t
                    }), 0)), this._netPlayer.state.prev_score = -9999 != e ? e : void 0, this._netPlayer.state.score = [], this._netPlayer.state.stroke_total = [], this._netPlayer.state.active_status_effects = [], this._netPlayer.state.timeouts = 0, this.StartNewHole()
                }, s.StartNewHole = function() {
                    this._netPlayer.local && ((this._gameMode.gameState == l.Play && this._gameMode.currentHole > 1 || this._gameMode.gameplayMode == c.Tournament && this._gameMode.levelsComplete > 0) && this._netPlayer.state.score.length < this._gameMode.currentHole - 1 && this._scoring.catchupScores(), this._gameMode.currentHole > this._gameMode.holesPerGame ? (this._netPlayer.state.phase = h.GameOver, this._netPlayer.state.pos = new i, this._netPlayer.stateUpdated()) : (this._netPlayer.state.hole == this._gameMode.currentHole || (this._netPlayer.state.strokes = 0, this._netPlayer.state.hole = this._gameMode.currentHole, this._netPlayer.state.pos = this._gameMode.GetSpawnPoint(), this._netPlayer.state.phase = h.StartHole), this._netPlayer.stateUpdated()), this._gameMode.UpdateLocalPlayerState())
                }, s.DebugSetHole = function(e) {
                    if (!_()) {
                        var t = this._netPlayer;
                        t.state.strokes = 0, t.state.pos = this._gameMode.GetSpawnPoint();
                        var s = t.localState.visual;
                        s && (s.resetHole(), s.setWorldPosition(t.state.pos))
                    }
                }, s.ReadyForCourseSelect = function() {
                    this._netPlayer.state.phase = h.CourseSelect, this._netPlayer.stateUpdated()
                }, s.QueueLocalPlayerMove = function(e, t) {
                    var s;
                    if (this._netPlayer && this._netPlayer.local) {
                        t && this._netPlayer.state.phase != h.WaitingOnInput && console.error("local player queuing input but not waiting on input. isStroke " + t + " and state " + this._netPlayer.state.phase);
                        var a = this.ballVisual,
                            o = a.node.worldPosition;
                        a.shootBall(e), a.disableControls(n.StartedMoving), t && (this._netPlayer.state.strokes = this._netPlayer.state.strokes ? this._netPlayer.state.strokes + 1 : 1);
                        var r = new i;
                        null == (s = a.rigidbody) || s.getLinearVelocity(r), this._netPlayer.state.phase = h.Simulating, this._netPlayer.state.pos = o, this._netPlayer.state.vel = r, this._netPlayer.stateUpdated(), this._gameMode.UpdateLocalPlayerState()
                    }
                }, s.ApplyQueuedMove = function(e) {
                    this.ballVisual || console.error("didn't find visual")
                }, s.recordCorrection = function(e, t, s) {
                    4 == this._corrections.length && this._corrections.shift();
                    var a = new p(e, t, s);
                    if (this._corrections.push(a), 1 == window.debugNetwork) {
                        var i = 0,
                            o = 0;
                        if (this._corrections.length > 1) {
                            for (var n = 1; n < this._corrections.length; n++) {
                                var r = this._corrections[n - 1],
                                    l = this._corrections[n],
                                    c = l.time.serverTime - r.time.serverTime;
                                c < 280 ? (console.log("recv delta " + c + " expect " + "330\n a " + JSON.stringify(r) + "\n b " + JSON.stringify(l)), i++) : c > 380 && (o++, console.log("over freq. delta " + c + " vs  freq " + "330 plus 50"))
                            }
                            i > 0 && console.warn("found " + i + " packets that were closer together than the expected send interval. Are we getting a burst from the backend?"), o > 0 && console.warn("found " + o + " packets came in slower than we expected.")
                        }
                    }
                    return a.time.senderToUs > 380 ? (console.warn("recordCorrection too old. sender -> server " + s.senderToServer + " server -> us " + s.serverToUs + " sender -> us " + s.senderToUs), null) : a
                }, s.ApplyCorrection = function(e, t, s, a) {
                    if (this._netPlayer && !this._netPlayer.local) {
                        var i = this.recordCorrection(t, s, a);
                        if (i) {
                            var o = this.ballVisual;
                            o && o.ApplyCorrection(i.pos, i.vel)
                        }
                    }
                }, s.BallAnimateTo = function(e) {
                    var t = this,
                        s = this.ballVisual;
                    s && s.animateTo(e, 2, (function() {
                        t.statusEffects.unsuspendActiveStatusEffects()
                    }))
                }, s.BallStopped = function(e) {
                    this._netPlayer && !this._netPlayer.local && this.ballVisual && this.ballVisual.node && (this._corrections = [], this.ballVisual.node.worldPosition = e)
                }, s.BallTeleported = function() {
                    var e = this._netPlayer.localState.visual;
                    if (e) {
                        var t = e.getCurrentState(),
                            s = t.pos,
                            a = t.vel;
                        this.SendCorrection(s, a)
                    }
                    this._netPlayer.state.phase = h.Simulating
                }, s.SendCorrection = function(e, t) {
                    this._gameMode.SendCorrection(e, t)
                }, s.SendBallStopped = function(e) {
                    this._gameMode.SendBallStopped(e)
                }, s.ResetBallLocation = function(e, t) {
                    var s = this._netPlayer.localState.visual;
                    if (s) {
                        s.resetPosition(e, t), s.haltMotion();
                        var a = s.getCurrentState(),
                            i = a.pos,
                            o = a.vel;
                        this.SendCorrection(i, o)
                    }
                }, s.PlayerStateUpdated = function() {
                    var e = this;
                    if (this._netPlayer)
                        if (this._netPlayer.local) {
                            var t = this._netPlayer;
                            switch (t.state.phase) {
                                case h.CourseSelect:
                                    break;
                                case h.StartHole:
                                    var s = this._gameMode.currentHole;
                                    this._gameMode.UpdateScoreTotals(), this._gameMode.UpdateParAndHole(s), this._gameMode.UpdateLocalPlayerState(), this.statusEffects.disableImmunity(), this._timedout = !1, this._currentHoleTimeout = !1, t.state.phase = h.WaitingOnInput, t.stateUpdated(), this._gameMode.GetSelectedPlayerId() != this.netPlayer.uid && this._gameMode.SelectedPlayerId(this.netPlayer.uid);
                                    var a = t.localState.visual;
                                    if (a) {
                                        var i = a.inHoleName;
                                        a.resetHole();
                                        var o = this._gameMode.GetStartLocationFromHole(s, i);
                                        if (o)
                                            if (1 == s) {
                                                a.enableControls(), a.setWorldPosition(o), this._gameMode.PositionCameraForHole(s);
                                                var n = a.getCurrentState(),
                                                    r = n.pos,
                                                    l = n.vel;
                                                this.SendCorrection(r, l), this.statusEffects.unsuspendActiveStatusEffects()
                                            } else this._gameMode.SendBallAnimate(o), a.animateTo(o, 2, (function() {
                                                e._gameMode.PositionCameraForHole(s);
                                                var t = a.getCurrentState(),
                                                    i = t.pos,
                                                    o = t.vel;
                                                e.SendCorrection(i, o), a.enableControls(), e.statusEffects.unsuspendActiveStatusEffects()
                                            }))
                                    }
                                    break;
                                case h.HoleDone:
                                    this._gameMode.UpdateScoreTotals(), this.statusEffects.suspendActiveStatusEffects();
                                    break;
                                case h.GameOver:
                                    this._gameMode.UpdateScoreTotals(), this.RemoveStatusEffects(), this._statusEffects.enableImmunity(), this.statusEffects.unsuspendActiveStatusEffects()
                            }
                        } else {
                            this._gameMode.UpdateScoreTotals();
                            var c = this._gameMode.currentHole;
                            switch (this._netPlayer.state.phase) {
                                case h.StartHole:
                                    this.statusEffects.disableImmunity(), this._gameMode.IsLocalPlayerInGame() || this._gameMode.UpdateParAndHole(c), 1 == c && this.statusEffects.unsuspendActiveStatusEffects();
                                    var u = this._netPlayer.localState.visual;
                                    u && u.resetHole();
                                    break;
                                case h.HoleDone:
                                    this.statusEffects.suspendActiveStatusEffects();
                                    break;
                                case h.GameOver:
                                    this.RemoveStatusEffects(), this._statusEffects.enableImmunity(), this.statusEffects.unsuspendActiveStatusEffects()
                            }
                        }
                    else console.error("PlayerStateUpdated - no net player")
                }, s.FinishHole = function(e) {
                    var t, s = this._netPlayer.state;
                    if (this._gameMode.currentHole + 1 > this._gameMode.maxHoles ? s.phase = h.GameOver : s.phase = h.HoleDone, this.ballVisual) {
                        var a = this._gameMode.GetEndLocationFromHoleName(this.ballVisual.inHoleName);
                        if (a) {
                            var i = a.getComponent(m);
                            i && (s.strokes = i.modifyStrokes(s.strokes))
                        }
                        var o = this._scoring.calculateScoreForHole(s.strokes, e, !this._gameMode.HasReachedMaxStrokes(s.strokes)),
                            r = s.score || [];
                        r[this._gameMode.currentHole - 1] = o, s.score = r;
                        var l = s.stroke_total || [];
                        l.push(s.strokes), s.stroke_total = l, this.ballVisual.disableControls(n.FinishedHole), this.statusEffects.finishHole(this.ballVisual, e)
                    }(this.statusEffects.suspendActiveStatusEffects(), this._gameMode.UpdateLocalPlayerState(), this._netPlayer.stateUpdated(), !e && s.strokes <= 1) && u.Instance.node.emit(f.evtPostGameLogEvent, {
                        hole: this._gameMode.currentHole,
                        holeInOnePlayerId: this._netPlayer.uid,
                        holeInOnePlayerName: null == (t = this._netPlayer.getUser()) ? void 0 : t.username
                    })
                }, s.CheckTimedout = function() {
                    var e = this;
                    if (this.ballVisual && !this.ballVisual.inHole) {
                        this.ballVisual.haltMotion(), this.SendBallStopped(this.ballVisual.node.worldPosition);
                        var t = this._netPlayer.state;
                        Number.isNaN(t.timeouts) ? t.timeouts = 1 : t.timeouts++, this._currentHoleTimeout = !0, this.FinishHole(!0), t.timeouts >= 2 && (console.warn("reached timeout limit"), this._timedout = !0, setTimeout((function() {
                            e._gameMode.SpectateGame()
                        }), 3e3))
                    }
                }, s.update = function(e) {
                    if (this._netPlayer && this._netPlayer.local)
                        if (this._netPlayer.state.phase == h.Simulating) {
                            if (this._acumTime += e, this._acumTime >= this._nextUpdate) {
                                var t = this.ballVisual;
                                if (t) {
                                    var s = this._netPlayer.state;
                                    if (t.state == r.Idle) {
                                        t.inHole || this._gameMode.HasReachedMaxStrokes(s.strokes) ? (this.FinishHole(!1), t.inHole && (this._netPlayer.state.timeouts = 0)) : (this._nextUpdate = this._acumTime = 0, this._netPlayer.state.phase = h.WaitingOnInput, t.enableControls()), this.SendBallStopped(this.ballVisual.node.worldPosition)
                                    } else {
                                        var a = t.getCurrentState(),
                                            i = a.pos,
                                            o = a.vel;
                                        o.length() > .01 && this.SendCorrection(i, o)
                                    }
                                }
                                this._nextUpdate = this._acumTime + P
                            }
                        } else if (this._netPlayer && this._netPlayer.state.phase == h.WaitingOnInput) {
                        var n = this.ballVisual;
                        n && n.state == r.InMotion && !this._currentHoleTimeout && (this._netPlayer.state.phase = h.Simulating, this._netPlayer.stateUpdated(), this._gameMode.UpdateLocalPlayerState())
                    }
                }, s.getColor = function() {
                    return new o(255, 255, 255, 255)
                }, s.consumeStatusEffectCharge = function(e) {
                    this._gameMode.sendConsumeStatusEffectCharge({
                        target: this._statusEffects
                    }, e.statusEffectId)
                }, s.canUpdateServerState = function() {
                    return this._netPlayer.local || u.Instance.currentMode.IsPrimaryUser()
                }, s.getActiveStatusEffectStates = function() {
                    return this._netPlayer.state.active_status_effects || []
                }, s.setActiveStatusEffectStates = function(e) {
                    this._netPlayer.state.active_status_effects = e, this._netPlayer.partialStateUpdate({
                        active_status_effects: this._netPlayer.state.active_status_effects
                    })
                }, s.RemoveStroke = function() {
                    this._netPlayer.state.strokes = Math.max(0, this._netPlayer.state.strokes - 1), this._netPlayer.stateUpdated(), this._gameMode.UpdateLocalPlayerState()
                }, s.RemoveStatusEffects = function() {
                    this._netPlayer && this._netPlayer.state && (this._netPlayer.state.active_status_effects = []), this._statusEffects.clearActiveStatusEffects()
                }, s.GetBallHitAudio = function() {
                    var e;
                    return null == (e = this._statusEffects) ? void 0 : e.getBallHitAudio()
                }, t(e, [{
                    key: "timedOut",
                    get: function() {
                        return this._timedout
                    }
                }, {
                    key: "netPlayer",
                    get: function() {
                        return this._netPlayer
                    }
                }, {
                    key: "cardsInHand",
                    get: function() {
                        return this._netPlayer.state.cards_in_hand || []
                    }
                }, {
                    key: "userName",
                    get: function() {
                        return this._userName
                    }
                }, {
                    key: "uid",
                    get: function() {
                        return this._uid
                    }
                }, {
                    key: "statusEffects",
                    get: function() {
                        return this._statusEffects
                    }
                }, {
                    key: "ballVisual",
                    get: function() {
                        var e, t;
                        return null == (e = this._netPlayer) || null == (t = e.localState) ? void 0 : t.visual
                    }
                }, {
                    key: "playerCamera",
                    get: function() {
                        var e;
                        return null == (e = this._gameMode) ? void 0 : e.playerCamera
                    }
                }, {
                    key: "holeComplete",
                    get: function() {
                        return this._netPlayer.state.phase == h.HoleDone || this._netPlayer.state.phase == h.GameOver
                    }
                }]), e
            }()) || y);
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GolfScoring.ts", ["cc", "./gameManager.ts", "./GolfMode.ts"], (function(e) {
    var t, r, a;
    return {
        setters: [function(e) {
            t = e.cclegacy
        }, function(e) {
            r = e.GameManager
        }, function(e) {
            a = e.GameplayMode
        }],
        execute: function() {
            t._RF.push({}, "0c68bJQ72hN759MwKmDYUci", "GolfScoring", void 0);
            e("GolfScoring", function() {
                function e(e) {
                    this._player = void 0, this._player = e
                }
                var t = e.prototype;
                return t.calculateScoreForHole = function(e, t, a) {
                    var o = r.Instance.currentMode,
                        n = o.GetParValue(o.currentHole);
                    return t && (e = n + 2, n = 0), Math.min(e - n, n + 2)
                }, t.catchupScores = function() {
                    var e = r.Instance.currentMode;
                    if (e.gameplayMode == a.Tournament && e.levelsComplete > 0) {
                        for (var t = this._player.netPlayer.state.tourney_score || [], o = 0; o < e.levelsComplete; o++) t.push(12);
                        this._player.netPlayer.state.tourney_score = t
                    }
                    for (var n = this._player.netPlayer.state.stroke_total || [], l = this._player.netPlayer.state.score || [], s = this._player.netPlayer.state.hole || 1; s < e.currentHole; s++) {
                        var c = e.GetParValue(s);
                        l.push(2), n.push(c + 2)
                    }
                    this._player.netPlayer.state.score = l, this._player.netPlayer.state.stroke_total = n
                }, e
            }());
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GolfScoringComponent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(o) {
    var t, n, e, r, i, c, p, s;
    return {
        setters: [function(o) {
            t = o.applyDecoratedDescriptor, n = o.inheritsLoose, e = o.initializerDefineProperty, r = o.assertThisInitialized
        }, function(o) {
            i = o.cclegacy, c = o._decorator, p = o.CCInteger, s = o.Component
        }],
        execute: function() {
            var u, a, l, f, y;
            i._RF.push({}, "d2af4y7E95Avp5hyMnPGTnW", "GolfScoringComponent", void 0);
            var g = c.ccclass,
                C = c.property;
            o("GolfScoringComponent", (u = g("GolfScoringComponent"), a = C({
                type: p
            }), u((y = t((f = function(o) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), c = 0; c < n; c++) i[c] = arguments[c];
                    return t = o.call.apply(o, [this].concat(i)) || this, e(t, "strokeCount", y, r(t)), t
                }
                return n(t, o), t.prototype.modifyStrokes = function(o) {
                    return o + this.strokeCount
                }, t
            }(s)).prototype, "strokeCount", [a], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -2
                }
            }), l = f)) || l));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/golfUI.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./utils.ts", "./ScoreDisplay.ts", "./PlayerNameplateManager.ts", "./UILeaderboard.ts", "./GameMode.ts", "./Client.ts", "./LevelCameraManager.ts", "./TournamentScoreDisplay.ts", "./TournamentVictoryScreen.ts"], (function(e) {
    var t, n, a, i, o, r, c, s, l, u, d, p, h, m, b, f, g, y, I, v, S, U, P, G, N, w, M, C, E, T, z, D, O, B, x, k, A, _, L;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, a = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, r = e._decorator, c = e.Node, s = e.EditBox, l = e.RichText, u = e.Label, d = e.Button, p = e.KeyCode, h = e.input, m = e.Input, b = e.SafeArea, f = e.Component
        }, function(e) {
            g = e.GameManager, y = e.cActivityReadyEvent, I = e.cConnectionStatus
        }, function(e) {
            v = e.cGameStateUpdate, S = e.cGameModeReady, U = e.GameState, P = e.cLocalPlayerStateUpdate, G = e.cPlayersUpdate, N = e.cGameScoreUpdate, w = e.cJoinGameCooldownEnded, M = e.cSelectedPlayerChanged, C = e.PlayerPhase
        }, function(e) {
            E = e.DGEvent, T = e.isMobile, z = e.inIFrame
        }, function(e) {
            D = e.ScoreDisplay
        }, function(e) {
            O = e.PlayerNameplateManager
        }, function(e) {
            B = e.UILeaderboard
        }, function(e) {
            x = e.CannotJoinGameReason
        }, function(e) {
            k = e.ConnectionStatus
        }, function(e) {
            A = e.cOverrideActiveCamera
        }, function(e) {
            _ = e.TournamentScoreDisplay
        }, function(e) {
            L = e.TournamentVictoryScreen
        }],
        execute: function() {
            var R, F, J, j, V, K, Y, H, W, Z, q, Q, X, $, ee, te, ne, ae, ie, oe, re, ce, se, le, ue, de, pe, he, me, be, fe, ge, ye, Ie, ve, Se, Ue, Pe, Ge, Ne, we, Me, Ce, Ee, Te, ze, De, Oe, Be, xe;
            o._RF.push({}, "d3a8djO85ZITYD28Et1b36e", "golfUI", void 0);
            var ke = r.ccclass,
                Ae = r.property;
            e("GolfUI", (R = ke("GolfUI"), F = Ae(c), J = Ae(c), j = Ae(s), V = Ae(s), K = Ae(s), Y = Ae(l), H = Ae(c), W = Ae(c), Z = Ae(u), q = Ae(c), Q = Ae(c), X = Ae(c), $ = Ae(c), ee = Ae(c), te = Ae(c), ne = Ae(D), ae = Ae(_), ie = Ae(L), oe = Ae(d), re = Ae(d), ce = Ae(O), se = Ae(B), R(((xe = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                    return t = e.call.apply(e, [this].concat(o)) || this, a(t, "backdrop", pe, i(t)), a(t, "mobileOverlay", he, i(t)), a(t, "guildName", me, i(t)), a(t, "roomName", be, i(t)), a(t, "userName", fe, i(t)), a(t, "connectingText", ge, i(t)), a(t, "connectScreen", ye, i(t)), a(t, "disconnectScreen", Ie, i(t)), a(t, "disconnectText", ve, i(t)), a(t, "timerUI", Se, i(t)), a(t, "headerBar", Ue, i(t)), a(t, "manageNodes", Pe, i(t)), a(t, "settingsBtn", Ge, i(t)), a(t, "positionPlay", Ne, i(t)), a(t, "positionLobby", we, i(t)), a(t, "scoreUI", Me, i(t)), a(t, "tournamentScoreUI", Ce, i(t)), a(t, "tournamentVictoryUI", Ee, i(t)), a(t, "playBtn", Te, i(t)), a(t, "spectateBtn", ze, i(t)), a(t, "nameplateManager", De, i(t)), a(t, "scorecard", Oe, i(t)), a(t, "isScorecardOpen", Be, i(t)), t._prevGameState = null, t._hasShownGameOverScreen = !1, t
                }
                n(t, e);
                var o = t.prototype;
                return o.releaseFocus = function(e) {
                    e.keyCode === p.TAB && "CANVAS" === document.activeElement.tagName && document.activeElement.blur()
                }, o.start = function() {
                    var e = this;
                    if (h.on(m.EventType.KEY_DOWN, this.releaseFocus, this), h.on(m.EventType.KEY_PRESSING, this.releaseFocus, this), g.Instance.currentMode.node.on(v, (function(t) {
                            e.updateUIState(t)
                        })), g.Instance.currentMode.node.on(S, (function(t) {
                            t ? e.registerUIEvents() : e.unregisterUIEvents()
                        })), !T()) {
                        var t = this.getComponent(b);
                        t && (t.enabled = !1)
                    }
                    z() ? (g.Instance.activityReady ? this.connectingText && (this.connectingText.node.active = !1) : (g.Instance.node.on(y, (function() {
                        e.connectingText && (e.connectingText.node.active = !1)
                    })), this.connectingText && (this.connectingText.node.active = !0)), this.guildName && (this.roomName.node.active = !1, this.guildName.node.active = !1, this.userName.node.active = !1)) : this.guildName && (this.roomName.string = g.Instance.roomID, this.guildName.string = g.Instance.guildID, this.userName.string = g.Instance.userID)
                }, o.guildUpdated = function() {
                    g.Instance.guildID = this.guildName.string || g.Instance.guildID, this.guildName.string = g.Instance.guildID
                }, o.roomNameUpdated = function() {
                    g.Instance.roomID = this.roomName.string || g.Instance.roomID, this.roomName.string = g.Instance.roomID
                }, o.userNameUpdated = function() {
                    g.Instance.userID = this.userName.string || g.Instance.userID, this.userName.string = g.Instance.userID
                }, o.joinGame = function() {
                    g.Instance.joinGame(), this.connectScreen.active = !1, this.guildName && (this.roomName.node.active = !1, this.guildName.node.active = !1, this.userName.node.active = !1)
                }, o.playGameBtnEvent = function() {
                    g.Instance.currentMode.JoinGame()
                }, o.updateUIState = function(e) {
                    var n = this;
                    switch (e) {
                        case U.Init:
                            this.node.emit(t.evtEnableGameUI, !1), this.backdrop && (this.backdrop.active = !0), this.updatePlaySpectate();
                            break;
                        case U.GameplayModeSelect:
                            this.scoreUI.close(), this.playBtn.node.active = !1, this.spectateBtn.node.active = !1, this.updatePlaySpectate(), this.node.emit(t.evtEnableGameUI, !1), this.manageNodes.forEach((function(e) {
                                return e.active = !1
                            })), this.backdrop && (this.backdrop.active = !0);
                            break;
                        case U.CourseSelect:
                            this.node.emit(t.evtEnableGameUI, !1), this.scoreUI.close(), this.tournamentScoreUI.close(), this.playBtn.node.active = !1, this.spectateBtn.node.active = !1, this.updatePlaySpectate(), this.manageNodes.forEach((function(e) {
                                return e.active = !1
                            }));
                            break;
                        case U.Play:
                            this._hasShownGameOverScreen = !1, this.updatePlaySpectate(), this._prevGameState != e && (this.node.emit(t.evtEnableGameUI, !0), setTimeout((function() {
                                n.scoreUI.node.active = !1, n.backdrop && (n.backdrop.active = !1)
                            }), 2e3)), this.manageNodes.forEach((function(e) {
                                return e.active = !0
                            }))
                    }
                    this._prevGameState = e
                }, o.registerUIEvents = function() {
                    g.Instance.currentMode.node.on(P, this.onPlayerStateUpdate.bind(this)), g.Instance.currentMode.node.on(G, this.onPlayersUpdate.bind(this)), g.Instance.currentMode.node.on(N, this.onScoresUpdate.bind(this)), g.Instance.currentMode.node.on(w, this.onJoinGameCooldownEnded.bind(this)), g.Instance.node.on(I, this.onConnectionStatus.bind(this)), g.Instance.currentMode.node.on(A, this.onOverrideActiveCameraChanged.bind(this)), g.Instance.currentMode.node.on(M, this.onSelectedPlayerChanged.bind(this))
                }, o.unregisterUIEvents = function() {
                    g.Instance.currentMode.node.off(P, this.onPlayerStateUpdate.bind(this)), g.Instance.currentMode.node.off(G, this.onPlayersUpdate.bind(this)), g.Instance.currentMode.node.off(N, this.onScoresUpdate.bind(this)), g.Instance.currentMode.node.off(w, this.onJoinGameCooldownEnded.bind(this)), g.Instance.node.off(I, this.onConnectionStatus.bind(this)), g.Instance.currentMode.node.off(A, this.onOverrideActiveCameraChanged.bind(this)), g.Instance.currentMode.node.off(M, this.onSelectedPlayerChanged.bind(this))
                }, o.onScoresUpdate = function(e, t) {
                    var n = this;
                    this.updatePlaySpectate();
                    var a = g.Instance.currentMode;
                    !this._hasShownGameOverScreen && a.AllPlayersFinishedGame() && (setTimeout((function() {
                        a.gameState == U.Play && n.scoreUI.displayPlayers(a.GetPlayers(), !0)
                    }), 1500), this._hasShownGameOverScreen = !0)
                }, o.onConnectionStatus = function(e) {
                    switch (e) {
                        case k.Connected:
                            this.disconnectScreen && (this.disconnectScreen.active = !1);
                            break;
                        case k.Disconnected:
                            this.disconnectScreen && (this.disconnectScreen.active = !0), this.disconnectText && (this.disconnectText.string = "Disconnected");
                            break;
                        case k.Reconnect:
                            this.disconnectText && (this.disconnectText.string = "Attempting reconnect...");
                            break;
                        case k.Failed:
                            this.disconnectText && (this.disconnectText.string = "Reconnect attempt failed. Check your network connection and restart the activity.")
                    }
                }, o.onOverrideActiveCameraChanged = function(e) {}, o.onSelectedPlayerChanged = function() {
                    this.updatePlaySpectate()
                }, o.onJoinGameCooldownEnded = function() {
                    this.updatePlaySpectate()
                }, o.onPlayerStateUpdate = function(e, t) {
                    e.local && (e.state.phase == C.GameOver || e.state.phase == C.StartHole && this.scoreUI.close())
                }, o.displayScoreboard = function() {
                    var e, t = g.Instance.currentMode;
                    this.scoreUI.displayPlayers(t.GetPlayers(), t.IsLocalPlayerInGame() && t.AllPlayersFinishedGame()), null == (e = this.scorecard) || e.close()
                }, o.onPlayersUpdate = function(e) {
                    this.updatePlaySpectate()
                }, o.updatePlaySpectate = function() {
                    if (g.Instance.currentMode.IsLocalPlayerInGame()) {
                        this.playBtn.node.active = !1;
                        var e = g.Instance.currentMode,
                            t = e.localGolfPlayer.netPlayer.state.phase;
                        e.gameState == U.Play && t != C.GameOver && t != C.CourseSelect && e.currentLevel ? this.spectateBtn.node.active = !0 : this.spectateBtn.node.active = !1
                    } else this.playBtn.node.active = g.Instance.currentMode.CanJoinGame() == x.None && g.Instance.currentMode.gameState == U.Play, this.spectateBtn.node.active = !1
                }, o.toggleScorecard = function() {
                    this.isScorecardOpen ? this.onCloseScorecard() : this.onOpenScorecard()
                }, o.onCloseScorecard = function() {
                    this.isScorecardOpen = !1
                }, o.onOpenScorecard = function() {
                    this.isScorecardOpen = !0
                }, o.togglePlayerNameplates = function() {
                    this.nameplateManager.toggleNameplates()
                }, o.isShowingNameplates = function() {
                    return this.nameplateManager.IsShowingAllNameplates
                }, t
            }(f)).evtEnableGameUI = void 0, t(ue = xe, "evtEnableGameUI", [E], (de = (de = Object.getOwnPropertyDescriptor(ue, "evtEnableGameUI")) ? de.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return de
                }
            }), ue), pe = t(ue.prototype, "backdrop", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), he = t(ue.prototype, "mobileOverlay", [J], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), me = t(ue.prototype, "guildName", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), be = t(ue.prototype, "roomName", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), fe = t(ue.prototype, "userName", [K], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), ge = t(ue.prototype, "connectingText", [Y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), ye = t(ue.prototype, "connectScreen", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ie = t(ue.prototype, "disconnectScreen", [W], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), ve = t(ue.prototype, "disconnectText", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Se = t(ue.prototype, "timerUI", [q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Ue = t(ue.prototype, "headerBar", [Q], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Pe = t(ue.prototype, "manageNodes", [X], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), Ge = t(ue.prototype, "settingsBtn", [$], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Ne = t(ue.prototype, "positionPlay", [ee], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), we = t(ue.prototype, "positionLobby", [te], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Me = t(ue.prototype, "scoreUI", [ne], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Ce = t(ue.prototype, "tournamentScoreUI", [ae], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Ee = t(ue.prototype, "tournamentVictoryUI", [ie], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Te = t(ue.prototype, "playBtn", [oe], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), ze = t(ue.prototype, "spectateBtn", [re], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), De = t(ue.prototype, "nameplateManager", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Oe = t(ue.prototype, "scorecard", [se], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Be = t(ue.prototype, "isScorecardOpen", [Ae], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), le = ue)) || le));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GrantPowerupPlaceable.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./gameManager.ts", "./Placeable.ts"], (function(e) {
    var n, t, r, a, o, c, u, i, l;
    return {
        setters: [function(e) {
            n = e.inheritsLoose
        }, function(e) {
            t = e.cclegacy, r = e._decorator, a = e.tween, o = e.Vec3
        }, function(e) {
            c = e.AudioController, u = e.AudioEventType
        }, function(e) {
            i = e.GameManager
        }, function(e) {
            l = e.Placeable
        }],
        execute: function() {
            var s;
            t._RF.push({}, "2fbf6cmwcNDFY5gyg5acL/i", "GrantPowerupPlaceable", void 0);
            var p = r.ccclass;
            r.property, e("GrantPowerupPlaceable", p("GrantPowerupPlaceable")(s = function(e) {
                function t() {
                    return e.apply(this, arguments) || this
                }
                n(t, e);
                var r = t.prototype;
                return r.onEnable = function() {
                    a(this.node).repeatForever(a(this.node).set({
                        eulerAngles: new o
                    }).to(3, {
                        eulerAngles: new o(0, 360, 0)
                    }, {
                        easing: "linear"
                    })).start()
                }, r.activate = function(e) {
                    c.Instance.triggerAudio(u.evtPickupAcquire), e.owner.local && i.Instance.currentMode.powerupManager.putRandomCardInHand()
                }, r.canActivate = function(e) {
                    return !0
                }, t
            }(l)) || s);
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GroundLights.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GroundLightsCanvas.ts"], (function(e) {
    var t, r, n, i, a, o, l, s, u, c, f, h, g, p, d;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, o = e._decorator, l = e.Vec2, s = e.CCInteger, u = e.Color, c = e.RenderTexture, f = e.Prefab, h = e.instantiate, g = e.MeshRenderer, p = e.Component
        }, function(e) {
            d = e.GroundLightsCanvas
        }],
        execute: function() {
            var b, m, v, w, y, C, x, z, D, L, P, T, _, R, M, O, G, A, E, F, B, I;
            a._RF.push({}, "82e68MVo1ZOt6oSifr0XnqI", "GroundLights", void 0);
            var V = o.ccclass,
                S = o.property;
            e("GroundLights", (b = V("GroundLights"), m = S(l), v = S(l), w = S(s), y = S(s), C = S(s), x = S(u), z = S(l), D = S(c), L = S(f), b((_ = t((T = function(e) {
                function t() {
                    for (var t, r = arguments.length, a = new Array(r), o = 0; o < r; o++) a[o] = arguments[o];
                    return (t = e.call.apply(e, [this].concat(a)) || this).materials = [], n(t, "texDims", _, i(t)), n(t, "worldDims", R, i(t)), n(t, "startingAlpha", M, i(t)), n(t, "fadeAlpha", O, i(t)), n(t, "colorFactor", G, i(t)), n(t, "useBallColor", A, i(t)), n(t, "color", E, i(t)), n(t, "worldOffset", F, i(t)), n(t, "customRenderTexture", B, i(t)), n(t, "groundLightsCanvasPrefab", I, i(t)), t._glCanvas = null, t
                }
                r(t, e);
                var a = t.prototype;
                return a.getCanvas = function() {
                    return this._glCanvas
                }, a.start = function() {
                    var e = this;
                    if (this.customRenderTexture && this.groundLightsCanvasPrefab) {
                        var t = h(this.groundLightsCanvasPrefab);
                        null != t && t.isValid && (this.node.scene.addChild(t), this._glCanvas = t.getComponent(d), this._glCanvas.camera.targetTexture = this.customRenderTexture, this._glCanvas.worldOffset = this.worldOffset.clone(), this._glCanvas.texDims = this.texDims.clone())
                    }
                    var r = this.worldOffset.negative();
                    this.materials = this.getMaterials(this.node), this.materials.forEach((function(t) {
                        t.getProperty("tileTex") && (t.setProperty("tileTex", e.customRenderTexture), t.setProperty("worldOff", r)), t.getProperty("worldDim") && t.setProperty("worldDim", e.worldDims)
                    }))
                }, a.getMaterials = function(e) {
                    var t = this,
                        r = [];
                    return e.children.forEach((function(e) {
                        var n = t.getMaterials(e);
                        n && n.length && (r = r.concat(n))
                    })), e.getComponents(g).forEach((function(e) {
                        e.sharedMaterials.forEach((function(e) {
                            e.effectName.endsWith("ground-lights") && r.push(e)
                        }))
                    })), r
                }, t
            }(p)).prototype, "texDims", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l(512, 512)
                }
            }), R = t(T.prototype, "worldDims", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l(256, 256)
                }
            }), M = t(T.prototype, "startingAlpha", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 255
                }
            }), O = t(T.prototype, "fadeAlpha", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 64
                }
            }), G = t(T.prototype, "colorFactor", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), A = t(T.prototype, "useBallColor", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), E = t(T.prototype, "color", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u
                }
            }), F = t(T.prototype, "worldOffset", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l(0, 0)
                }
            }), B = t(T.prototype, "customRenderTexture", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = t(T.prototype, "groundLightsCanvasPrefab", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = T)) || P));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/GroundLightsCanvas.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./gameManager.ts", "./GolfMode.ts", "./PlayerPixelParticle.ts"], (function(e) {
    var t, a, r, i, n, o, l, s, u, d, f, c, h, p, y, v, P;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, a = e.inheritsLoose, r = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, o = e._decorator, l = e.Prefab, s = e.CameraComponent, u = e.Vec2, d = e.instantiate, f = e.Vec3, c = e.Component
        }, function(e) {
            h = e.BallHandler
        }, function(e) {
            p = e.GameManager
        }, function(e) {
            y = e.cPlayerVisualAdded, v = e.cPlayerVisualRemoved
        }, function(e) {
            P = e.PlayerPixelParticle
        }],
        execute: function() {
            var g, m, b, w, C, F, V;
            n._RF.push({}, "54598Qp5hBEw6GKt9OlUfzp", "GroundLightsCanvas", void 0);
            var X = o.ccclass,
                _ = o.property;
            e("GroundLightsCanvas", (g = X("GroundLightsCanvas"), m = _(l), b = _(s), g((F = t((C = function(e) {
                function t() {
                    for (var t, a = arguments.length, n = new Array(a), o = 0; o < a; o++) n[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(n)) || this, r(t, "FXPrefab", F, i(t)), r(t, "camera", V, i(t)), t.worldOffset = new u(0, 0), t.texDims = new u(512, 512), t._playerToFX = new Map, t
                }
                a(t, e);
                var n = t.prototype;
                return n.start = function() {
                    var e = this,
                        t = p.Instance.currentMode;
                    t.GetGolfPlayers().forEach((function(t) {
                        var a;
                        if (null != (a = t.ballVisual) && a.isValid) {
                            var r = d(e.FXPrefab);
                            if (r) {
                                e.node.addChild(r);
                                var i = r.getComponent(P);
                                i.SetTarget(t.ballVisual), i.offset = e.worldOffset, e._playerToFX.set(t.uid, r)
                            }
                        }
                    })), t.node.on(y, this.onPlayerVisualAdded, this), t.node.on(v, this.onPlayerVisualRemoved, this)
                }, n.onPlayerVisualAdded = function(e, t) {
                    var a = t.getComponent(h);
                    if (null != a && a.isValid && !this._playerToFX.has(e.uid)) {
                        var r = d(this.FXPrefab);
                        if (r) {
                            this.node.addChild(r);
                            var i = r.getComponent(P);
                            i.SetTarget(a), i.offset = this.worldOffset, this._playerToFX.set(e.uid, r)
                        }
                    }
                }, n.onPlayerVisualRemoved = function(e) {
                    var t = this._playerToFX.get(e.uid);
                    t && (t.destroy(), this._playerToFX.delete(e.uid))
                }, n.getCanvasPositionFromWorld = function(e) {
                    return new f(-.5 * this.texDims.x - 2 * this.worldOffset.x + 2 * e.x, .5 * this.texDims.y - 2 * this.worldOffset.y + 2 * e.z, 0).add(this.node.worldPosition)
                }, t
            }(c)).prototype, "FXPrefab", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), V = t(C.prototype, "camera", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), w = C)) || w));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Hole.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts"], (function(e) {
    var r, o, n, t, l, i;
    return {
        setters: [function(e) {
            r = e.inheritsLoose
        }, function(e) {
            o = e.cclegacy, n = e._decorator, t = e.SphereCollider, l = e.Component
        }, function(e) {
            i = e.BallHandler
        }],
        execute: function() {
            var s;
            o._RF.push({}, "cab1e9WQHNMeJnkAuy4MBVR", "Hole", void 0);
            var c = n.ccclass,
                h = (n.property, e("cEnteredHole", "entered-hole"));
            e("Hole", c("Hole")(s = function(e) {
                function o() {
                    for (var r, o = arguments.length, n = new Array(o), t = 0; t < o; t++) n[t] = arguments[t];
                    return (r = e.call.apply(e, [this].concat(n)) || this)._sphereCollider = void 0, r
                }
                r(o, e);
                var n = o.prototype;
                return n.start = function() {
                    this._sphereCollider = this.node.getComponent(t), this._sphereCollider && this._sphereCollider.on("onTriggerEnter", this._onTriggerEnter, this)
                }, n._onTriggerEnter = function(e) {
                    if ("onTriggerEnter" == e.type && e.selfCollider == this._sphereCollider) {
                        var r = e.otherCollider.node.getComponent(i);
                        null != r && r.node.emit(h, r.owner, this.node)
                    }
                }, o
            }(l)) || s);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/HoleCap.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts"], (function(e) {
    var t, o, n, i, r, a, s, l, c, h, u, p, d, f, m, _;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, n = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, s = e.CCInteger, l = e.MeshCollider, c = e.MeshRenderer, h = e.tween, u = e.Vec3, p = e.Component
        }, function(e) {
            d = e.GameManager
        }, function(e) {
            f = e.cCurrentHoleUpdate, m = e.cGameStateUpdate, _ = e.GameState
        }],
        execute: function() {
            var g, C, H, b, y;
            r._RF.push({}, "17f14welPpIsayZF9w6H73e", "HoleCap", void 0);
            var v = a.ccclass,
                M = a.property;
            e("HoleCap", (g = v("HoleCap"), C = M(s), g((y = t((b = function(e) {
                function t() {
                    for (var t, o = arguments.length, r = new Array(o), a = 0; a < o; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "hole", y, i(t)), t._capRenderer = null, t._capCollider = null, t._mode = null, t
                }
                o(t, e);
                var r = t.prototype;
                return r.start = function() {
                    this._capCollider = this.node.getComponent(l), this._capRenderer = this.node.getComponent(c), this._mode = d.Instance.currentMode, this._mode.node.on(f, this.changeHole, this), this._mode.node.on(m, this.unsubscribe, this), this.changeHole(this._mode.currentHole)
                }, r.unsubscribe = function(e) {
                    e == _.CourseSelect && (this._mode.node.off(f, this.changeHole, this), this._mode.node.off(m, this.unsubscribe, this))
                }, r.changeHole = function(e) {
                    void 0 === e && (e = 1);
                    var t = e != this.hole,
                        o = t ? 1 : 1e-4;
                    this._capCollider.enabled = t, h(this.node).to(.2, {
                        scale: u.ONE.clone().multiplyScalar(o)
                    }).start()
                }, t
            }(p)).prototype, "hole", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), H = b)) || H));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/init.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts"], (function(e) {
    var t, i, n, o, r, s, a, c, l, u, h, p, f, R;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, s = e._decorator, a = e.CCString, c = e.Node, l = e.view, u = e.ResolutionPolicy, h = e.director, p = e.game, f = e.Component
        }, function(e) {
            R = e.isMobile
        }],
        execute: function() {
            var y, d, g, _, m, v, O;
            r._RF.push({}, "1cf1fJz4LNKm7TwspA9ZvKs", "init", void 0);
            var P = s.ccclass,
                S = s.property;
            e("init", (y = P("init"), d = S(a), g = S(c), y((v = t((m = function(e) {
                function t() {
                    for (var t, i = arguments.length, r = new Array(i), s = 0; s < i; s++) r[s] = arguments[s];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "mainScene", v, o(t)), n(t, "splash", O, o(t)), t
                }
                i(t, e);
                var r = t.prototype;
                return r.onResize = function() {
                    if (R()) {
                        (screen.width > screen.height ? screen.width / screen.height : screen.height / screen.width) < 1.6 ? l.setResolutionPolicy(new u(u.ContainerStrategy.PROPORTION_TO_FRAME, u.ContentStrategy.SHOW_ALL)) : l.setResolutionPolicy(u.NO_BORDER)
                    } else l.setResolutionPolicy(new u(u.ContainerStrategy.PROPORTION_TO_FRAME, u.ContentStrategy.EXACT_FIT))
                }, r.onLoad = function() {
                    h.addPersistRootNode(this.node), R() && (p.frameRate = 30), l.setResizeCallback(this.onResize.bind(this)), this.onResize()
                }, r.start = function() {
                    var e = this;
                    h.loadScene(this.mainScene, (function() {
                        e.splash.active = !1
                    }))
                }, t
            }(f)).prototype, "mainScene", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "main_scene"
                }
            }), O = t(m.prototype, "splash", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = m)) || _));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/killPlane.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./physics.ts", "./BallHandler.ts"], (function(n) {
    var e, t, o, r, i, l, s, c;
    return {
        setters: [function(n) {
            e = n.inheritsLoose
        }, function(n) {
            t = n.cclegacy, o = n._decorator, r = n.ColliderComponent, i = n.PhysicsSystem, l = n.Component
        }, function(n) {
            s = n.PhysicsGroups
        }, function(n) {
            c = n.BallHandler
        }],
        execute: function() {
            var a;
            t._RF.push({}, "cc5canCq8dNoIxQgH7c2iTH", "killPlane", void 0);
            var u = o.ccclass;
            o.property, n("KillPlane", u("KillPlane")(a = function(n) {
                function t() {
                    for (var e, t = arguments.length, o = new Array(t), r = 0; r < t; r++) o[r] = arguments[r];
                    return (e = n.call.apply(n, [this].concat(o)) || this).owner = void 0, e
                }
                e(t, n);
                var o = t.prototype;
                return o.start = function() {
                    var n = this;
                    this.node.getComponents(r).forEach((function(e) {
                        e.isTrigger = !0, e.on("onTriggerEnter", n.onTriggerEnter, n), e.setGroup(s.KillPlane), e.setMask(i.instance.collisionMatrix[s.KillPlane])
                    }))
                }, o.onTriggerEnter = function(n) {
                    var e, t = n.otherCollider.node.getComponent(c);
                    null != t && (null == (e = this.owner) || e.emit("outOfBounds", t))
                }, o.setOwner = function(n) {
                    this.owner = n
                }, t
            }(l)) || a);
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Layout.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var r, o, n, e, s;
    return {
        setters: [function(t) {
            r = t.inheritsLoose
        }, function(t) {
            o = t.cclegacy, n = t._decorator, e = t.UITransform, s = t.Component
        }],
        execute: function() {
            var a;
            o._RF.push({}, "a5f03dn79pIlaGZeSjb+2ys", "Layout", void 0);
            var i = n.ccclass;
            n.property, t("Layout", i("Layout")(a = function(t) {
                function o() {
                    for (var r, o = arguments.length, n = new Array(o), e = 0; e < o; e++) n[e] = arguments[e];
                    return (r = t.call.apply(t, [this].concat(n)) || this).uiTransform = null, r
                }
                r(o, t);
                var n = o.prototype;
                return n.start = function() {
                    this.uiTransform = this.node.getComponent(e), this.refreshLayout(), this.node.parent.on("RefreshLayout", this.refreshLayout, this)
                }, n.refreshLayout = function() {
                    var t = this.node.parent.getComponent(e);
                    this.uiTransform.width = t.width, this.uiTransform.height = t.height
                }, o
            }(s)) || a);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/LayoutFix.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, r, o, i, a, n, u, c, l;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, r = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, n = t._decorator, u = t.Layout, c = t.Node, l = t.Component
        }],
        execute: function() {
            var p, s, y, h, f, d, v;
            a._RF.push({}, "0bf93NYPO1Glp7THcZxujoV", "LayoutFix", void 0);
            var b = n.ccclass,
                g = n.property;
            t("LayoutFix", (p = b("LayoutFix"), s = g(u), y = g(c), p((d = e((f = function(t) {
                function e() {
                    for (var e, r = arguments.length, a = new Array(r), n = 0; n < r; n++) a[n] = arguments[n];
                    return e = t.call.apply(t, [this].concat(a)) || this, o(e, "layoutGroup", d, i(e)), o(e, "SpectatorsBar", v, i(e)), e
                }
                return r(e, t), e.prototype.update = function() {
                    this.layoutGroup.node.children.length <= 1 ? this.SpectatorsBar.active = !1 : this.layoutGroup.node.children.length > 1 && !this.SpectatorsBar.active && (this.SpectatorsBar.active = !0)
                }, e
            }(l)).prototype, "layoutGroup", [s], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = e(f.prototype, "SpectatorsBar", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), h = f)) || h));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/LeaderboardEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./utils.ts", "./audioController.ts"], (function(e) {
    var t, r, a, i, o, n, l, c, s, d, p, u, y, h, f;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, a = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, n = e._decorator, l = e.Label, c = e.Sprite, s = e.Node, d = e.Component
        }, function(e) {
            p = e.GameManager
        }, function(e) {
            u = e.PlayerPhase
        }, function(e) {
            y = e.DGEvent
        }, function(e) {
            h = e.AudioController, f = e.AudioEventType
        }],
        execute: function() {
            var I, v, b, g, m, S, U, H, P, w, z, C, D, G, L, O, E;
            o._RF.push({}, "e5160md1yRAsa1mO6m3UI6v", "LeaderboardEntry", void 0);
            var M = n.ccclass,
                k = n.property,
                A = e("cLeaderboardEntryClicked", "lb-entry-click");
            e("LeaderboardEntry", (I = M("LeaderboardEntry"), v = k(l), b = k(l), g = k(c), m = k(s), S = k(s), U = k(s), I(((E = function(e) {
                function t() {
                    for (var t, r = arguments.length, o = new Array(r), n = 0; n < r; n++) o[n] = arguments[n];
                    return t = e.call.apply(e, [this].concat(o)) || this, a(t, "playerScore", z, i(t)), a(t, "playerHole", C, i(t)), a(t, "playerColorIndicator", D, i(t)), a(t, "selectedIndicator", G, i(t)), a(t, "localPlayerIndicator", L, i(t)), a(t, "finishedHoleIndicator", O, i(t)), t.playerId = void 0, t.nameplate = void 0, t
                }
                r(t, e);
                var o = t.prototype;
                return o.onDestroy = function() {
                    this.node.dgOff(t.evtUIScoreUpdate, this.updateScore, this)
                }, o.start = function() {}, o.attachToPlayer = function(e) {
                    var r = e.getUser();
                    if (r) {
                        this.node.dgOn(t.evtUIScoreUpdate, this.updateScore, this), this.playerId = r.id;
                        var a = p.Instance.currentMode,
                            i = a.GetScoreTotals().get(r.id);
                        this.playerScore.string = " " + i + " ", this.playerHole.string = " " + a.currentHole + " ", this.finishedHoleIndicator.active = this.nameplate.player.state.phase == u.HoleDone || this.nameplate.player.state.phase == u.GameOver, this.playerColorIndicator.color = a.getPlayerUIColor(e), this.localPlayerIndicator.active = e.local, this.selectedIndicator.active = a.GetSelectedPlayerId() == this.playerId
                    }
                }, o.updateScore = function(e) {
                    var t = e[0],
                        r = e[1];
                    this.playerScore.string = " " + t + " ", this.playerHole.string = " " + r + " ", this.nameplate && this.nameplate.player && (this.finishedHoleIndicator.active = this.nameplate.player.state.phase == u.HoleDone || this.nameplate.player.state.phase == u.GameOver, this.refreshButtonState())
                }, o.clickedOnMe = function() {
                    h.Instance.triggerAudio(f.evtUIClick), this.node.emit(A, this.playerId)
                }, o.refreshButtonState = function() {
                    this.selectedIndicator.active = p.Instance.currentMode.GetSelectedPlayerId() == this.playerId
                }, t
            }(d)).evtUIScoreUpdate = void 0, t(P = E, "evtUIScoreUpdate", [y], (w = (w = Object.getOwnPropertyDescriptor(P, "evtUIScoreUpdate")) ? w.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return w
                }
            }), P), z = t(P.prototype, "playerScore", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), C = t(P.prototype, "playerHole", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = t(P.prototype, "playerColorIndicator", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), G = t(P.prototype, "selectedIndicator", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), L = t(P.prototype, "localPlayerIndicator", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), O = t(P.prototype, "finishedHoleIndicator", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = P)) || H));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/LeaveGame.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, n, a, o, c, s;
    return {
        setters: [function(e) {
            t = e.inheritsLoose
        }, function(e) {
            n = e.cclegacy, a = e._decorator, o = e.tween, c = e.Vec3, s = e.Component
        }],
        execute: function() {
            var i;
            n._RF.push({}, "ea3e2nfGUxAH5jA05BvdGK0", "LeaveGame", void 0);
            var r = a.ccclass;
            a.property, e("LeaveGame", r("LeaveGame")(i = function(e) {
                function n() {
                    return e.apply(this, arguments) || this
                }
                t(n, e);
                var a = n.prototype;
                return a.toggleMenu = function() {
                    var e = this;
                    this.node.active ? o(this.node).set({
                        scale: new c(1, 1, 1)
                    }).to(.1, {
                        scale: new c(1.03, 1.03, 1)
                    }).to(.1, {
                        scale: new c(1, 1, 1)
                    }).call((function() {
                        e.node.active = !1
                    })).start() : (this.node.active = !0, this.node.active && o(this.node).set({
                        scale: new c(1, 1, 1)
                    }).to(.1, {
                        scale: new c(1.03, 1.03, 1)
                    }).to(.1, {
                        scale: new c(1, 1, 1)
                    }).start())
                }, a.turnOffPanel = function() {
                    this.node.active = !1
                }, n
            }(s)) || i);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Level.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ColorManager.ts", "./flagController.ts", "./audioController.ts"], (function(t) {
    var e, o, i, r, n, a, l, s, u, h, c, p, f, d, g, m, b, C, w;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, i = t.initializerDefineProperty, r = t.assertThisInitialized
        }, function(t) {
            n = t.cclegacy, a = t._decorator, l = t.Material, s = t.CCInteger, u = t.CCString, h = t.Node, c = t.Prefab, p = t.CCObject, f = t.Vec3, d = t.DirectionalLight, g = t.instantiate, m = t.Component
        }, function(t) {
            b = t.ColorManager
        }, function(t) {
            C = t.flagController
        }, function(t) {
            w = t.AudioController
        }],
        execute: function() {
            var S, y, v, P, L, _, z, N, H, R, B, V, k, A, I, O, M, F, x, E, D, J, W, T, j, X, G, Y, Z, q, K, Q, U, $, tt, et, ot, it, rt, nt, at;
            n._RF.push({}, "3141eXVXyRPH7AA7EJpBYoT", "Level", void 0);
            var lt = a.ccclass,
                st = a.property,
                ut = (a.type, t("HoleSetup", function() {
                    function t() {
                        this.xzOrbitAngleRadians = 0, this.rigBlendPosition = 0, this.zoomBlendPosition = 0
                    }
                    return t.prototype.clone = function() {
                        var e = new t;
                        return e.xzOrbitAngleRadians = this.xzOrbitAngleRadians, e.rigBlendPosition = this.rigBlendPosition, e.zoomBlendPosition = this.zoomBlendPosition, e
                    }, t
                }())),
                ht = (S = lt("Theme"), y = st(l), v = st(l), P = st(l), L = st(l), _ = st(l), z = st(l), N = st(l), H = st({
                    type: l,
                    formerlySerializedAs: "fogMaterial"
                }), S((V = e((B = function(t) {
                    function e() {
                        for (var e, o = arguments.length, n = new Array(o), a = 0; a < o; a++) n[a] = arguments[a];
                        return e = t.call.apply(t, [this].concat(n)) || this, i(e, "propCubes", V, r(e)), i(e, "top", k, r(e)), i(e, "topHighlight", A, r(e)), i(e, "topShadow1", I, r(e)), i(e, "topShadow2", O, r(e)), i(e, "topShadow3", M, r(e)), i(e, "walls", F, r(e)), i(e, "skyMaterial", x, r(e)), e
                    }
                    return o(e, t), e
                }(p)).prototype, "propCubes", [y], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), k = e(B.prototype, "top", [v], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), A = e(B.prototype, "topHighlight", [P], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), I = e(B.prototype, "topShadow1", [L], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), O = e(B.prototype, "topShadow2", [_], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), M = e(B.prototype, "topShadow3", [z], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), F = e(B.prototype, "walls", [N], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), x = e(B.prototype, "skyMaterial", [H], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), R = B)) || R);
            t("Level", (E = lt("Level"), D = st(ht), J = st([s]), W = st(u), T = st(h), j = st(c), X = st(h), E((Z = e((Y = function(t) {
                function e() {
                    for (var e, o = arguments.length, n = new Array(o), a = 0; a < o; a++) n[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(n)) || this, i(e, "theme", Z, r(e)), i(e, "PaletteName", q, r(e)), i(e, "Soundtrack", K, r(e)), i(e, "parValue", Q, r(e)), i(e, "parValues", U, r(e)), i(e, "holeSetupJSON", $, r(e)), e._holeSetup = [], i(e, "locatorRoot", tt, r(e)), i(e, "holePrefab", et, r(e)), i(e, "defaultSpectatePoint", ot, r(e)), i(e, "maxBallForce", it, r(e)), i(e, "holeCount", rt, r(e)), i(e, "performHoleCheck", nt, r(e)), i(e, "usesBloom", at, r(e)), e.spawnLoc = new f, e.flagInstances = [], e._startLocations = [], e._endLocations = [], e
                }
                o(e, t);
                var n = e.prototype;
                return n.getSpawnPoint = function(t, e, o) {
                    var i = null;
                    if (null != o) {
                        var r = o.split("_");
                        if (3 === r.length) {
                            var n = parseInt(r[1], 10);
                            i = "Start_0" + (n + 1) + "_" + r[2]
                        }
                    }
                    var a = [];
                    if (e)
                        for (var l = 0; l < e.numHoles; l++) a.push(l);
                    if (!i && a.length > 0) {
                        var s = a[t - 1];
                        i = "Start_0" + (s + 1)
                    }
                    if (this._startLocations) {
                        var u = this._startLocations.find((function(t) {
                            return t.name.startsWith(i)
                        }));
                        if (u) return u.worldPosition.clone()
                    }
                    return this.spawnLoc
                }, n.getHoleCameraSetup = function(t) {
                    return t >= 0 && t < this._holeSetup.length ? this._holeSetup[t] : new ut
                }, n.getEndLocationsFromHole = function(t) {
                    if (!this._endLocations) return [];
                    if (t < 0) return this._endLocations;
                    var e = "End_0" + t;
                    return this._endLocations.filter((function(t) {
                        return t.name.startsWith(e)
                    }))
                }, n.GetEndLocationFromHoleName = function(t) {
                    return this._endLocations.find((function(e) {
                        return e.name.startsWith(t)
                    }))
                }, n.getStartLocationsFromHole = function(t) {
                    if (!this._startLocations) return [];
                    if (t < 0) return this._startLocations;
                    var e = "Start_0" + t;
                    return this._startLocations.filter((function(t) {
                        return t.name.startsWith(e)
                    }))
                }, n.getHoleLocations = function() {
                    var t = [];
                    return this._endLocations && this._endLocations.forEach((function(e) {
                        t.push(e.worldPosition.clone())
                    })), t
                }, n.getParValueTotal = function(t) {
                    if (!this.parValues) return 0;
                    for (var e = 0, o = 0; o < this.parValues.length; o++) e += this.parValues[o];
                    return e
                }, n.getParValue = function(t) {
                    if (!this.parValues) return 0;
                    var e = t - 1;
                    return e >= 0 && e < this.parValues.length ? this.parValues[e] : this.parValue
                }, n.onLoad = function() {
                    this.PaletteName.length > 0 && (b.Instance.SetCurrentPalette(this.PaletteName), this.setColors(this.PaletteName)), this.Soundtrack.length > 0 && w.Instance.playMusic(this.Soundtrack)
                }, n.setColors = function(t) {
                    var e = b.Instance.colors[t];
                    if (e) {
                        this.theme.propCubes && (this.theme.propCubes.setProperty("mainColor", e.propColor), this.theme.propCubes.setProperty("detailScale", e.propDetailScale)), this.theme.top && this.theme.top.setProperty("mainColor", e.topColor), this.theme.topHighlight && this.theme.topHighlight.setProperty("mainColor", e.topHighlightColor), this.theme.topShadow1 && this.theme.topShadow1.setProperty("mainColor", e.topShadow1Color), this.theme.topShadow2 && this.theme.topShadow2.setProperty("mainColor", e.topShadow2Color), this.theme.topShadow3 && this.theme.topShadow3.setProperty("mainColor", e.topShadow3Color), this.theme.walls && (this.theme.walls.setProperty("mainColor", e.wallColor), this.theme.walls.setProperty("detailScale", e.wallDetailScale)), this.theme.skyMaterial && this.theme.skyMaterial.setProperty("mainColor", e.skyColor);
                        var o = this.node.scene.globals.fog;
                        o.fogColor = e.fogColor, o.fogAtten = e.fogAtten, o.fogTop = e.fogTop, o.fogRange = e.fogRange;
                        var i = this.findNodes("Main Light", this.node);
                        if (i && i.length > 0) {
                            var r = i[0].getComponent(d);
                            r && (r.color = e.mainLight)
                        }
                    }
                }, n.initialize = function(t, e, o) {
                    if (void 0 === o && (o = null), this.holeSetupJSON && this.holeSetupJSON.length > 0) {
                        var i = JSON.parse(this.holeSetupJSON);
                        if (i) {
                            this._holeSetup = [];
                            for (var r = 0; r < 6; r++) {
                                var n = new ut;
                                n.xzOrbitAngleRadians = i[r].xzOrbitAngleRadians, n.rigBlendPosition = i[r].rigBlendPosition, n.zoomBlendPosition = i[r].zoomBlendPosition, this._holeSetup.push(n)
                            }
                        }
                    }
                    if (!this.locatorRoot) {
                        console.warn("Failed to find the locators root in the Level settings. Please hook this up.");
                        var a = this.findNodeInChildren("_Locators", this.node, !1);
                        a && (this.locatorRoot = a)
                    }
                    if (this.locatorRoot ? (this._startLocations = this.findNodes("Start_", this.locatorRoot), 0 == this._startLocations.length && console.error("Failed to find start locations"), this._startLocations.sort((function(t, e) {
                            return t.name.localeCompare(e.name)
                        })), this._endLocations = this.findNodes("End_", this.locatorRoot), this._endLocations.sort((function(t, e) {
                            return t.name.localeCompare(e.name)
                        })), this._endLocations.forEach((function(t) {
                            var o = g(e);
                            o.name = t.name, t.addChild(o), o.position = f.ZERO.clone()
                        }))) : console.error("Level is not correctly set up. Check the locator root settings in the Level."), o) {
                        for (var l = 0, s = 0; s < this.holeCount; s++) {
                            var u = this.getEndLocationsFromHole(s);
                            u.length > l && (l = u.length)
                        }
                        for (var h = 0; h < l; h++) {
                            var c = g(o);
                            if (c) c.getComponent(C).setHoleIndex(h), this.node.scene.addChild(c), this.flagInstances.push(c)
                        }
                    }
                    this.PaletteName.length > 0 ? (b.Instance.SetCurrentPalette(this.PaletteName), this.setColors(this.PaletteName)) : console.error("Level initialize - no palette")
                }, n.findNodeInChildren = function(t, e, o) {
                    for (var i = 0; i < e.children.length; i++) {
                        var r = e.children[i];
                        if (o && r.name.startsWith(t) || !o && r.name.endsWith(t)) return r;
                        var n = this.findNodeInChildren(t, r, o);
                        if (n) return n
                    }
                    return null
                }, n.findNodes = function(t, e) {
                    for (var o = [], i = 0; i < e.children.length; i++) {
                        var r = e.children[i];
                        r.name.startsWith(t) && o.push(r)
                    }
                    return o
                }, e
            }(m)).prototype, "theme", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new ht
                }
            }), q = e(Y.prototype, "PaletteName", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "Default"
                }
            }), K = e(Y.prototype, "Soundtrack", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "PP_Music"
                }
            }), Q = e(Y.prototype, "parValue", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), U = e(Y.prototype, "parValues", [J], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), $ = e(Y.prototype, "holeSetupJSON", [W], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), tt = e(Y.prototype, "locatorRoot", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), et = e(Y.prototype, "holePrefab", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), ot = e(Y.prototype, "defaultSpectatePoint", [X], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), it = e(Y.prototype, "maxBallForce", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1e3
                }
            }), rt = e(Y.prototype, "holeCount", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 6
                }
            }), nt = e(Y.prototype, "performHoleCheck", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), at = e(Y.prototype, "usesBloom", [st], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), G = Y)) || G));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/LevelCameraManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./Hole.ts", "./GolfMode.ts", "./VirtualCamera.ts"], (function(e) {
    var a, t, r, i, n, o, l, s, h, c, m, d, v, u;
    return {
        setters: [function(e) {
            a = e.applyDecoratedDescriptor, t = e.inheritsLoose, r = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, o = e._decorator, l = e.Component
        }, function(e) {
            s = e.GameManager
        }, function(e) {
            h = e.cEnteredHole
        }, function(e) {
            c = e.cCurrentHoleUpdate, m = e.cGameStateUpdate, d = e.cSelectedPlayerChanged, v = e.GameState
        }, function(e) {
            u = e.VirtualCamera
        }],
        execute: function() {
            var C, f, _, p, y, g, H;
            n._RF.push({}, "4529aRKJUZAP7YsDzLj3ncq", "LevelCameraManager", void 0);
            var A = o.ccclass,
                P = o.property,
                L = e("cOverrideActiveCamera", "override-active-camera"),
                S = e("ActiveCamera", function(e) {
                    return e[e.Player = 0] = "Player", e[e.Hole = 1] = "Hole", e[e.Level = 2] = "Level", e[e.Count = 3] = "Count", e
                }({}));
            e("LevelCameraManager", (C = A("LevelCameraManager"), f = P([u]), _ = P(u), C((g = a((y = function(e) {
                function a() {
                    for (var a, t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                    return a = e.call.apply(e, [this].concat(n)) || this, r(a, "holeCameras", g, i(a)), r(a, "levelCamera", H, i(a)), a._mode = null, a._isActive = !1, a.currentHole = -1, a._wantedCam = S.Player, a
                }
                t(a, e);
                var n = a.prototype;
                return n.start = function() {
                    var e;
                    this._mode = s.Instance.currentMode, (null == (e = this._mode.currentLevel) ? void 0 : e.node) == this.node && this.initialize(this._mode.currentHole);
                    for (var a = 0; a < this.holeCameras.length; a++) this.holeCameras || console.error("LevelCameraManager -- Missing hole camera " + a + " in " + this.node.scene.name)
                }, n.onDestroy = function() {
                    this.unregister()
                }, n.initialize = function(e) {
                    var a, t, r;
                    this._mode.node.on(c, this.onCurrentHoleUpdated, this), this._mode.node.on(m, this.onGameStateUpdate, this), this._mode.node.on(L, this.onOverrideActiveCamera, this), this._mode.node.on(d, this.onSelectedPlayerChanged, this), null == (a = this._mode.localGolfPlayer) || null == (t = a.ballVisual) || null == (r = t.node) || r.on(h, this.onPlayerEnteredHole, this), this._isActive = !0, this.holeCameras.forEach((function(e) {
                        e && (e.node.active = !1)
                    })), this.levelCamera && (this.levelCamera.node.active = !0), this.refreshLevelCamState(e), s.Instance.cameraBrain.ResetActiveCamera()
                }, n.unregister = function() {
                    var e, a, t;
                    (this._isActive = !1, this._mode && this._mode.node && this._mode.node.isValid) && (this._mode.node.off(c, this.onCurrentHoleUpdated, this), this._mode.node.off(m, this.onGameStateUpdate, this), this._mode.node.off(L, this.onOverrideActiveCamera, this), this._mode.node.off(d, this.onSelectedPlayerChanged, this), null == (e = this._mode.localGolfPlayer) || null == (a = e.ballVisual) || null == (t = a.node) || t.off(h, this.onPlayerEnteredHole, this))
                }, n.onSelectedPlayerChanged = function(e) {
                    null != e && this.onOverrideActiveCamera(S.Player)
                }, n.onPlayerEnteredHole = function(e, a) {
                    e.local && (this._wantedCam = this.getActiveCamera(), this._wantedCam == S.Player && this.onOverrideActiveCamera(S.Hole))
                }, n.onCurrentHoleUpdated = function(e) {
                    var a;
                    null != (a = this._mode) && a.localGolfPlayer && this.onOverrideActiveCamera(this._wantedCam), this.refreshLevelCamState(e)
                }, n.onGameStateUpdate = function(e) {
                    e == v.CourseSelect && (this.levelCamera && (this.levelCamera.reorientFromPrevCamera = !0), this.onOverrideActiveCamera(S.Level))
                }, n.onOverrideActiveCamera = function(e) {
                    var a;
                    switch (e) {
                        case S.Hole:
                            this.holeCameras[this.currentHole] ? s.Instance.cameraBrain.SetActiveCamera(this.holeCameras[this.currentHole]) : this.onOverrideActiveCamera(S.Level);
                            break;
                        case S.Level:
                            this.levelCamera && s.Instance.cameraBrain.SetActiveCamera(this.levelCamera);
                            break;
                        case S.Player:
                            null != (a = this._mode.playerCamera) && a.isValid && this._mode.playerCamera.node.active ? s.Instance.cameraBrain.SetActiveCamera(this._mode.playerCamera) : this.onOverrideActiveCamera(S.Hole)
                    }
                }, n.getActiveCamera = function() {
                    this._mode || (this._mode = s.Instance.currentMode);
                    var e = s.Instance.cameraBrain.getCurrentCamera();
                    return this.levelCamera && e === this.levelCamera ? S.Level : e === this.holeCameras[this.currentHole] ? S.Hole : S.Player
                }, n.getHoleCamera = function() {
                    return this.currentHole >= 0 ? this.holeCameras[this.currentHole] : null
                }, n.refreshLevelCamState = function(e) {
                    if (this._isActive && this.levelCamera) {
                        var a = this.getActiveCamera();
                        this.levelCamera.reorientFromPrevCamera = !1;
                        var t = e - 1;
                        if (t < 0) this.currentHole = t, this.holeCameras.forEach((function(e) {
                            e && (e.node.active = !1)
                        }));
                        else if (this.currentHole != t) {
                            this.holeCameras[t] && (this.holeCameras[t].reorientFromPrevCamera = !1, this.holeCameras[t].node.active = !0);
                            for (var r = 0; r < this.holeCameras.length; ++r) r != t && this.holeCameras[r] && (this.holeCameras[r].node.active = !1);
                            this.currentHole = t, this.onOverrideActiveCamera(a)
                        }
                    }
                }, a
            }(l)).prototype, "holeCameras", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), H = a(y.prototype, "levelCamera", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), p = y)) || p));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/LevelFadeScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts"], (function(e) {
    var t, n, i, r, o, a, l, s, u, c, p, d, f, h;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, a = e._decorator, l = e.LabelComponent, s = e.SpriteComponent, u = e.MaskComponent, c = e.animation, p = e.Component
        }, function(e) {
            d = e.GameManager
        }, function(e) {
            f = e.cOnLevelLoadStart, h = e.cOnLevelReady
        }],
        execute: function() {
            var m, v, b, y, _, C, g, L, F, S, z;
            o._RF.push({}, "575170v9LlG87cW7shU3shq", "LevelFadeScreen", void 0);
            var M = a.ccclass,
                w = a.property;
            e("LevelFadeScreen", (m = M("LevelFadeScreen"), v = w(l), b = w(s), y = w(s), _ = w(u), m((L = t((g = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), a = 0; a < n; a++) o[a] = arguments[a];
                    return (t = e.call.apply(e, [this].concat(o)) || this)._mode = null, t._isFaded = !1, t._animationController = null, i(t, "label", L, r(t)), i(t, "sprite", F, r(t)), i(t, "overlay", S, r(t)), i(t, "mask", z, r(t)), t
                }
                n(t, e);
                var o = t.prototype;
                return o.start = function() {
                    this._mode = d.Instance.currentMode, this._animationController = this.node.getComponent(c.AnimationController), this._mode.node.on(f, this.fadeIn, this), this._mode.node.on(h, this.fadeOut, this)
                }, o.fadeOut = function() {
                    this._animationController.setValue("fade-in", !1), this._isFaded = !1
                }, o.fadeIn = function() {
                    var e = this._mode.GetCurrentCourseDefinition();
                    if (e) {
                        var t = e.displayName.toUpperCase();
                        this.label && (this.label.string = t, this.label.color = e.textColor);
                        var n = e.bgColor;
                        n.a = 255, this.sprite && (this.sprite.color = n), this.overlay && (this.overlay.color = n)
                    }
                    this._animationController.setValue("fade-in", !0), this._isFaded = !0
                }, t
            }(p)).prototype, "label", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), F = t(g.prototype, "sprite", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), S = t(g.prototype, "overlay", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), z = t(g.prototype, "mask", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = g)) || C));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/LevelSelection.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./gameManager.ts", "./FirstClick.ts", "./PlayerNameplate.ts"], (function(e) {
    var t, n, i, o, r, l, a, u, s, c, p, m, d, h, v, y, f, g, b, S, C, z, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized, r = e.createForOfIteratorHelperLoose
        }, function(e) {
            l = e.cclegacy, a = e._decorator, u = e.Node, s = e.Label, c = e.Sprite, p = e.Button, m = e.Vec3, d = e.Tween, h = e.tween, v = e.color, y = e.math, f = e.Component, g = e.Vec2
        }, function(e) {
            b = e.AudioController, S = e.AudioEventType
        }, function(e) {
            C = e.GameManager
        }, function(e) {
            z = e.FirstClick
        }, function(e) {
            w = e.PlayerNameplate
        }],
        execute: function() {
            var P, A, H, E, R, T, _, I, L, V, B, N, O, x, k, F, M, D, G, q, U, Y, Z;
            l._RF.push({}, "64530TdsbdEHaIInb8GHPsU", "LevelSelection", void 0);
            var j = a.ccclass,
                J = a.property;
            e("LevelSelection", (P = j("LevelSelection"), A = J(u), H = J(u), E = J(u), R = J(u), T = J(u), _ = J(s), I = J(c), L = J(s), V = J(p), P((O = t((N = function(e) {
                function t() {
                    for (var t, n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(r)) || this, i(t, "levelSelect", O, o(t)), i(t, "levelHolder", x, o(t)), i(t, "PlayerParent", k, o(t)), i(t, "selected", F, o(t)), i(t, "scaleHolder", M, o(t)), i(t, "voterCount", D, o(t)), i(t, "courseThumbnail", G, o(t)), i(t, "courseName", q, o(t)), i(t, "button", U, o(t)), t.playerSlot = void 0, t.voteCount = 0, t.totalVotes = 0, t.scaleHoverAmmount = .2, t.scaleAmmount = .1, t.moveAmmount = 10, t.currentSize = null, t.startSpot = null, i(t, "minSizeRange", Y, o(t)), i(t, "maxSizeRange", Z, o(t)), t.pushDelay = 2, t.maxPlayers = 8, t._playerSlots = [], t._audioEvent = -1, t
                }
                n(t, e);
                var l = t.prototype;
                return l.onLoad = function() {
                    var e = this;
                    this.currentSize = new m(this.scaleHolder.scale), this.startSpot = new m(this.node.position), this.PlayerParent.children.forEach((function(t) {
                        e._playerSlots.push(t)
                    })), this.refreshVoteCountVisuals()
                }, l.start = function() {
                    var e = this;
                    new m(1, 1, 1);
                    this.levelHolder.on(u.EventType.MOUSE_ENTER, (function(t) {
                        e.button.interactable && (d.stopAllByTarget(e.scaleHolder), h(e.scaleHolder).to(.2, {
                            scale: new m(e.currentSize.x + e.scaleHoverAmmount, e.currentSize.y + e.scaleHoverAmmount, e.currentSize.z + e.scaleHoverAmmount)
                        }, {
                            easing: "backOut"
                        }).start(), e._audioEvent < 0 && (e._audioEvent = setTimeout((function() {
                            b.Instance.triggerAudio(S.evtLevelSelectHover), e._audioEvent = -1
                        }), 50)))
                    })), this.levelHolder.on(u.EventType.MOUSE_LEAVE, (function(t) {
                        e.button.interactable && (d.stopAllByTarget(e.scaleHolder), h(e.scaleHolder).to(.2, {
                            scale: new m(e.currentSize.x, e.currentSize.y, e.currentSize.z)
                        }, {
                            easing: "backOut"
                        }).start(), e._audioEvent >= 0 && (clearTimeout(e._audioEvent), e._audioEvent = -1))
                    }))
                }, l.init = function(e, t) {
                    this.courseName.string = e, this.courseThumbnail.spriteFrame = t
                }, l.setEnabled = function(e) {
                    this.courseThumbnail.grayscale = !e, this.button.interactable = e
                }, l.selectZone = function() {
                    b.Instance.triggerAudio(S.evtLevelSelectClick), this.selected.active = !0, this.courseName.color = v(255, 203, 83)
                }, l.deselectZone = function() {
                    this.selected.active && (this.selected.active = !1, this.courseName.color = v(255, 255, 255))
                }, l.getDesiredVoteScale = function() {
                    var e = this.totalVotes / 8,
                        t = y.lerp(this.minSizeRange.x, this.minSizeRange.y, e),
                        n = y.lerp(this.maxSizeRange.x, this.maxSizeRange.y, e);
                    return y.lerp(t, n, this.voteCount / 8)
                }, l.refreshVoteCountVisuals = function() {
                    this.voterCount.string = this.voteCount + " Votes"
                }, l.movePlayerHere = function(e, t) {
                    if (!this.isPlayerAlreadyHere(t)) {
                        e.getComponent(z).firstClick && (e.getChildByPath("AnimRoot").active = !1), d.stopAllByTarget(e);
                        var n = this.getEmptySlot(),
                            i = e.worldPosition.clone();
                        e.setParent(n, !0), e.worldPosition = i, e.setScale(m.ONE), t.local && (e.getChildByPath("AnimRoot/YouIndicator").active = !1), e.getComponent(z).firstClick ? (h(e).set({
                            position: new m(0, 0, 0)
                        }).call((function() {
                            t.local && (e.getChildByPath("AnimRoot/YouIndicator").active = !0), e.getChildByPath("AnimRoot").active = !0
                        })).to(.2, {
                            position: new m(0, 40, 0)
                        }, {
                            easing: "quadOut"
                        }).to(.4, {
                            position: new m(0, 0, 0)
                        }, {
                            easing: "bounceOut"
                        }).start(), e.getComponent(z).firstClick = !1) : (d.stopAllByTarget(e.getChildByName("AnimRoot")), h(e.getChildByName("AnimRoot")).to(.2, {
                            position: new m(0, 100, 0)
                        }, {
                            easing: "quadOut"
                        }).to(.4, {
                            position: new m(0, 0, 0)
                        }, {
                            easing: "bounceOut"
                        }).start(), h(e).to(.6, {
                            position: new m(0, 0, 0)
                        }, {
                            easing: "quartOut"
                        }).call((function() {
                            t.local && (e.getChildByPath("AnimRoot/YouIndicator").active = !0)
                        })).start())
                    }
                }, l.isPlayerAlreadyHere = function(e) {
                    return null != this._playerSlots.find((function(t) {
                        var n = t.getComponentInChildren(w);
                        if (n) return n.playerId == e.uid
                    }))
                }, l.updateVoteCount = function(e, t) {
                    this.voteCount = e, this.totalVotes = t, this.refreshVoteCountVisuals()
                }, l.getEmptySlot = function() {
                    for (var e, t = r(this._playerSlots); !(e = t()).done;) {
                        var n = e.value;
                        if (0 == n.children.length) return n
                    }
                    return null
                }, l.getLocalPlayer = function() {
                    var e = C.Instance.currentMode;
                    return e.IsLocalPlayerInGame() ? e.GetPlayer(e.GetLocalPlayerId()) : null
                }, t
            }(f)).prototype, "levelSelect", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = t(N.prototype, "levelHolder", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = t(N.prototype, "PlayerParent", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), F = t(N.prototype, "selected", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), M = t(N.prototype, "scaleHolder", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = t(N.prototype, "voterCount", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), G = t(N.prototype, "courseThumbnail", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), q = t(N.prototype, "courseName", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), U = t(N.prototype, "button", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Y = t(N.prototype, "minSizeRange", [J], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new g(.4, .3)
                }
            }), Z = t(N.prototype, "maxSizeRange", [J], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new g(.6, .7)
                }
            }), B = N)) || B));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/logging.ts", ["cc", "./utils.ts"], (function(o) {
    var n, e, c;
    return {
        setters: [function(o) {
            n = o.cclegacy
        }, function(o) {
            e = o.isLocalhost, c = o.isUsingProxy
        }],
        execute: function() {
            n._RF.push({}, "33bddQwkC9K9J/+Rr8q904h", "logging", void 0);
            var t = null,
                r = console.log.bind(console),
                l = console.warn.bind(console),
                i = console.error.bind(console),
                s = console.debug.bind(console);
            o("setLoggingUserId", (function(o) {
                t = o
            }));

            function a(o, n) {
                if (!window.CC_EDITOR && !window.Editor && !e()) {
                    var r = c() ? "/.proxy/logs" : "https://logs.discordactivities.com";
                    fetch(r + "/log/" + (t || "puttparty"), {
                        method: "POST",
                        mode: "no-cors",
                        body: JSON.stringify({
                            type: o.toLowerCase(),
                            message: n
                        })
                    }).catch((function(o) {
                        i("failed fetch on /logs with " + o)
                    }))
                }
            }
            console.log = function() {
                var o = Array.prototype.join.call(arguments, " ");
                a("Log", o), r.apply(console, arguments)
            }, console.error = function() {
                var o = Array.prototype.join.call(arguments, " ");
                a("Error", o), i.apply(console, arguments)
            }, console.warn = function() {
                var o = Array.prototype.join.call(arguments, " ");
                a("Warn", o), l.apply(console, arguments)
            }, console.debug = function() {
                var o = Array.prototype.join.call(arguments, " ");
                a("Debug", o), s.apply(console, arguments)
            }, console.exception = function() {
                var o = Array.prototype.join.call(arguments, " "),
                    n = t;
                t = "exception", a("Exception", o), t = n, i.apply(console, arguments)
            }, n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/main", ["./debug-view-runtime-control.ts", "./BlockHeadController.ts", "./BlockheadPlatform.ts", "./ConstantRotation.ts", "./DragonpedeChildController.ts", "./FaceCamera.ts", "./RotateTowards.ts", "./SheepController.ts", "./SimpleAnimation.ts", "./ToggleRotateTween.ts", "./ToggleTween.ts", "./GroundLights.ts", "./ThemeSwatch.ts", "./CameraBrain.ts", "./CameraNoise.ts", "./LevelCameraManager.ts", "./PlayerVirtualCamera.ts", "./VirtualCamera.ts", "./AudioEventInstance.ts", "./AudioListenerPosition.ts", "./DGState.ts", "./NodeExtensionMethods.ts", "./activity.ts", "./audioController.ts", "./audioElement.ts", "./audioElementRandom.ts", "./base64.ts", "./init.ts", "./logging.ts", "./nexusJwt.ts", "./physics.ts", "./prefabManager.ts", "./prefabPool.ts", "./BloomSettings.ts", "./CameraInfo.ts", "./CustomRenderPipeline.ts", "./PassUtils.ts", "./shared_constants.ts", "./utils.ts", "./ApplyForceOnCollision.ts", "./ApplyStatusEffectPlaceable.ts", "./AttackTrail.ts", "./BallBoundsCheck.ts", "./BallEffectAimZone.ts", "./BallEffectDirectionalForceZone.ts", "./BallEffectJumpPadZone.ts", "./BallEffectRadialForceZone.ts", "./BallEffectSlowZone.ts", "./BallEffectZone.ts", "./BallHandler.ts", "./BallHandlerStatusEffects.ts", "./BoostPadVisualBehavior.ts", "./ColorManager.ts", "./ColorSwapperModel.ts", "./CourseDefinition.ts", "./Cup.ts", "./DGMath.ts", "./DirectionWidget.ts", "./Ease.ts", "./Effect.ts", "./Flag.ts", "./GameLogManager.ts", "./GrantPowerupPlaceable.ts", "./Hole.ts", "./HoleCap.ts", "./Level.ts", "./Palette.ts", "./PathMover.ts", "./Placeable.ts", "./PlayAudioOnCollision.ts", "./PowerupCard.ts", "./PowerupManager.ts", "./TeleportZoneWidget.ts", "./Teleporter.ts", "./aimWidget.ts", "./aimWidget3D.ts", "./flagController.ts", "./gameManager.ts", "./golfUI.ts", "./killPlane.ts", "./mover.ts", "./moverManager.ts", "./PowerUpApplyStatusEffectToSingleTarget.ts", "./PowerUpApplyStatusEffectsToHole.ts", "./PowerUpApplyStatusEffectsToLocalPlayer.ts", "./PowerUpApplyStatusEffectsToOtherPlayers.ts", "./PowerUpBase.ts", "./PowerUpConstantForce.ts", "./PowerUpPrefabSpawner.ts", "./PowerUpPrefabSpawnerWithDirection.ts", "./PowerUpPrefabSpawnerWithRandomPath.ts", "./PowerUpTeleport.ts", "./rotator.ts", "./StatusEffectAttachPrefabToPlayer.ts", "./StatusEffectBallSize.ts", "./StatusEffectBase.ts", "./StatusEffectChangeHoleProperties.ts", "./StatusEffectChangePhysicsMaterial.ts", "./StatusEffectCleanSlate.ts", "./StatusEffectConstantForce.ts", "./StatusEffectFreezePlayers.ts", "./StatusEffectFunSize.ts", "./StatusEffectGhostBall.ts", "./StatusEffectGravityPullTowardsOtherBalls.ts", "./StatusEffectGuesswork.ts", "./StatusEffectHoleMagnet.ts", "./StatusEffectManager.ts", "./StatusEffectModifyAimWidget.ts", "./StatusEffectMultipleAimArrows.ts", "./StatusEffectPlayerTargetBase.ts", "./StatusEffectPrefabSpawner.ts", "./StatusEffectRandomForce.ts", "./StatusEffectReversiball.ts", "./StatusEffectRewind.ts", "./StatusEffectSpawnedInstance.ts", "./StatusEffectSpawnedInstanceWithDirection.ts", "./StatusEffectSpawnedInstanceWithPath.ts", "./StatusEffectStealPowerUp.ts", "./StatusEffectTwistedAim.ts", "./StatusEffectZanyBall.ts", "./StatusEffects.ts", "./AutoDestroyParticleSystem.ts", "./CameraOrientedParticleSystem.ts", "./GroundLightsCanvas.ts", "./ParticleGroundCheck.ts", "./PlayerPixelParticle.ts", "./SimpleBillboard.ts", "./GameMode.ts", "./GameStateCourseSelect.ts", "./GameStateGameplayModeSelect.ts", "./GameStateTournamentOver.ts", "./GameStateTournamentSelect.ts", "./GolfMode.ts", "./GolfModeGameState.ts", "./GolfPlayer.ts", "./GolfScoring.ts", "./GolfScoringComponent.ts", "./AvatarManager.ts", "./Client.ts", "./Connection.ts", "./NetGame.ts", "./NetUser.ts", "./ColorSetup.ts", "./ColorSwapperButton.ts", "./ColorSwapperSprites.ts", "./ColorSwapperUIText.ts", "./CourseCountResize.ts", "./CourseCountResizeEntry.ts", "./CourseCountUpdate.ts", "./DebuggerCameraSetup.ts", "./DebuggerColorSelect.ts", "./DebuggerMiscSettings.ts", "./DebuggerNetwork.ts", "./DebuggerPowerups.ts", "./DebuggerRichText.ts", "./DebuggerScenes.ts", "./DebuggerToolbox.ts", "./FirstClick.ts", "./GameplayModeScreen.ts", "./Layout.ts", "./LayoutFix.ts", "./LeaderboardEntry.ts", "./LeaveGame.ts", "./LevelFadeScreen.ts", "./LevelSelection.ts", "./ModalWindow.ts", "./ModalWindowManager.ts", "./OnClickTabSystem.ts", "./PlayerNameplate.ts", "./PlayerNameplateManager.ts", "./RandomScalePulse.ts", "./ResizinigTournamentCard.ts", "./ScoreDisplay.ts", "./ScoreEntry.ts", "./Settings%20Menu.ts", "./TournamentScoreDisplay.ts", "./TournamentScoreEntry.ts", "./TournamentVictoryScreen.ts", "./UIActionChangeCameraView.ts", "./UIActionComponent.ts", "./UIActionInvite.ts", "./UIActionOpenModalWindow.ts", "./UIActionScreenshot.ts", "./UIActionShowInviteDialog.ts", "./UIActionSpectateGame.ts", "./UIActiveStatusEffect.ts", "./UIActiveStatusEffectsPanel.ts", "./UICannotJoinGameReason.ts", "./UICourseSelectButton.ts", "./UICreditEntry.ts", "./UICreditsScreen.ts", "./UICurrentHole.ts", "./UICurrentHoleStrokes.ts", "./UIDialogModal.ts", "./UIDrawLine.ts", "./UIGameLogPanel.ts", "./UIHWAcceleration.ts", "./UIHoleTimer.ts", "./UILeaderboard.ts", "./UIPanelConnectScreen.ts", "./UIParLabel.ts", "./UIPatchNotes.ts", "./UIPlayerInfoBase.ts", "./UIPowerupTargetSelectListItem.ts", "./UIPowerupTargetSelectModalWindow.ts", "./UIPowerupTooltip.ts", "./UIPreviousScoreEntry.ts", "./UIPreviousScoresPanel.ts", "./UISFXClickEvent.ts", "./UISettingsMenuModalWindow.ts", "./UISpectatingOtherPlayerPanel.ts", "./UISpectatorsList.ts", "./UIThermalInfo.ts", "./UITimeRunningOutOnHole.ts", "./UITournamentButton.ts", "./UIWorldspaceNameplate.ts", "./UserNameplate.ts", "./VictoryScreen.ts", "./VictoryScreenHolder.ts", "./VisibilityController.ts", "./VotingScreen.ts"], (function() {
    return {
        setters: [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null],
        execute: function() {}
    }
}));

System.register("chunks:///_virtual/ModalWindow.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./VisibilityController.ts", "./utils.ts"], (function(o) {
    var i, n, t, s, h, r;
    return {
        setters: [function(o) {
            i = o.inheritsLoose
        }, function(o) {
            n = o.cclegacy, t = o._decorator, s = o.Component
        }, function(o) {
            h = o.VisibilityController
        }, function(o) {
            r = o.getInterfaceSupportComponents
        }],
        execute: function() {
            var e;
            n._RF.push({}, "6bc4fihPRhK54FAGr42WWN5", "ModalWindow", void 0);
            var d = t.ccclass;
            t.property, o("ModalWindow", d("ModalWindow")(e = function(o) {
                function n() {
                    for (var i, n = arguments.length, t = new Array(n), s = 0; s < n; s++) t[s] = arguments[s];
                    return (i = o.call.apply(o, [this].concat(t)) || this).windowManager = void 0, i.visController = void 0, i._hooks = void 0, i
                }
                i(n, o);
                var t = n.prototype;
                return t.onLoad = function() {
                    if (this.visController = this.node.getComponent(h), !this._hooks)
                        for (var o in this._hooks = r(this.node, "modal"), this._hooks) this._hooks[o].modal = this
                }, t.init = function(o) {
                    if (!this._hooks)
                        for (var i in this._hooks = r(this.node, "modal"), this._hooks) this._hooks[i].modal = this;
                    for (var n in this._hooks) this._hooks[n].init(this, o)
                }, t.onOpen = function() {
                    this.node.dgOn(h.evtShown, this.onShow.bind(this)), this.node.dgOn(h.evtHiding, this.onHide.bind(this)), this.node.dgOn(h.evtHidden, this.onHidden.bind(this))
                }, t.tryClose = function(o) {
                    this.windowManager && this.windowManager.tryClose(this, o)
                }, t.validateClose = function(o) {
                    for (var i in this._hooks)
                        if (!this._hooks[i].validateClose(o)) return !1;
                    return !0
                }, t.onSubmit = function() {
                    for (var o in this._hooks) this._hooks[o].onSubmit()
                }, t.onCancel = function() {
                    for (var o in this._hooks) this._hooks[o].onCancel()
                }, t.onShow = function() {
                    for (var o in this._hooks) this._hooks[o].onShow()
                }, t.onHide = function() {
                    for (var o in this._hooks) this._hooks[o].onHide()
                }, t.onHidden = function() {
                    for (var o in this._hooks) this._hooks[o].onHidden()
                }, n
            }(s)) || e);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ModalWindowManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ModalWindow.ts", "./utils.ts"], (function(o) {
    var n, t, i, e, r, a, d, s, l, u, h, c, p, g, w;
    return {
        setters: [function(o) {
            n = o.applyDecoratedDescriptor, t = o.inheritsLoose, i = o.initializerDefineProperty, e = o.assertThisInitialized
        }, function(o) {
            r = o.cclegacy, a = o._decorator, d = o.UITransform, s = o.Button, l = o.input, u = o.Input, h = o.KeyCode, c = o.instantiate, p = o.Component
        }, function(o) {
            g = o.ModalWindow
        }, function(o) {
            w = o.isMobile
        }],
        execute: function() {
            var f, m, B, v, b, M, W, k, _, y;
            r._RF.push({}, "c7c47fdIUBInq4iz5yBc9xA", "ModalWindowManager", void 0);
            var C = a.ccclass,
                A = a.property;
            o("ModalWindowManager", (f = C("ModalWindowManager"), m = A(d), B = A(d), v = A(s), f(((y = function(o) {
                function n() {
                    for (var n, t = arguments.length, r = new Array(t), a = 0; a < t; a++) r[a] = arguments[a];
                    return n = o.call.apply(o, [this].concat(r)) || this, i(n, "root", W, e(n)), i(n, "rootMobile", k, e(n)), i(n, "modalBackgroundButton", _, e(n)), n._modalWindows = [], n._useMobileRoot = !1, n
                }
                t(n, o);
                var r = n.prototype;
                return r.onLoad = function() {
                    n._instance = this, this._useMobileRoot = this._useMobileRoot || w(), this.modalBackgroundButton.node.on(s.EventType.CLICK, this.onBackgroundClicked.bind(this)), this.modalBackgroundButton.node.active = !1, (this._useMobileRoot ? this.rootMobile : this.root).node.addChild(this.modalBackgroundButton.node), w() || l.on(u.EventType.KEY_UP, this.onKeyUp.bind(this)), this.node.setSiblingIndex(this.node.parent.children.length)
                }, n.showModalWindow = function(o, n) {
                    return this._instance.showModal(o, n)
                }, n.hasActiveWindows = function() {
                    return this._instance.hasActiveWindow()
                }, r.showModal = function(o, n) {
                    var t = this._useMobileRoot ? this.rootMobile : this.root,
                        i = this.instantiateWindow(o, t, n);
                    return i.visController.setStateToHidden(), i.onOpen(), i.visController.showWithAnim(), this._modalWindows.push(i), this.refreshBackground(), i
                }, r.tryClose = function(o, n) {
                    if (o.validateClose(n)) {
                        n ? o.onSubmit() : o.onCancel();
                        var t = this._modalWindows.indexOf(o);
                        t >= 0 && this._modalWindows.splice(t, 1), o.visController.hideWithAnim(), o.node.removeFromParent(), o.node.destroy(), this.refreshBackground()
                    }
                }, r.hasActiveWindow = function() {
                    return this._modalWindows.length > 0
                }, r.onKeyUp = function(o) {
                    if (this.node.active) switch (o.keyCode) {
                        case h.ESCAPE:
                            this.hasActiveWindow() && (o.propagationStopped = !0), this.onBackgroundClicked()
                    }
                }, r.onBackgroundClicked = function() {
                    var o = this.peekWindow();
                    o && this.tryClose(o, !1)
                }, r.peekWindow = function() {
                    return 0 == this._modalWindows.length ? null : this._modalWindows[this._modalWindows.length - 1]
                }, r.refreshBackground = function() {
                    if (this._modalWindows.length > 0) {
                        this.modalBackgroundButton.node.active = !0;
                        for (var o = this.peekWindow(), n = -1, t = -1, i = this._useMobileRoot ? this.rootMobile : this.root, e = i.node.children.length, r = 0; r < e; ++r) {
                            var a = i.node.children[r];
                            a == o.node ? t = r : a == this.modalBackgroundButton.node && (n = r)
                        }
                        n > t ? this.modalBackgroundButton.node.setSiblingIndex(t) : this.modalBackgroundButton.node.setSiblingIndex(t - 1)
                    } else this.modalBackgroundButton.node.active = !1
                }, r.instantiateWindow = function(o, n, t) {
                    var i = c(o),
                        e = i.getComponent(g);
                    return e.windowManager = this, e.init(t), n.node.addChild(i), e
                }, n
            }(p))._instance = void 0, W = n((M = y).prototype, "root", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = n(M.prototype, "rootMobile", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = n(M.prototype, "modalBackgroundButton", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), b = M)) || b));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/mover.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./moverManager.ts"], (function(e) {
    var t, i, o, r, n, a, s, l, u, c;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, a = e._decorator, s = e.Node, l = e.Vec3, u = e.Component
        }, function(e) {
            c = e.MoverManager
        }],
        execute: function() {
            var p, f, b, h, m, v, g, y, d, P, w, z, M, _, D, I;
            n._RF.push({}, "f077cKgWi5P14baO9QCMN+T", "mover", void 0);
            var S = a.ccclass,
                C = a.property;
            e("Mover", (p = S("Mover"), f = C(s), b = C(s), h = C(s), m = C(l), v = C(l), p((d = t((y = function(e) {
                function t() {
                    for (var t, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(n)) || this, o(t, "from", d, r(t)), o(t, "to", P, r(t)), o(t, "mover", w, r(t)), o(t, "fromPos", z, r(t)), o(t, "toPos", M, r(t)), o(t, "speed", _, r(t)), o(t, "delay", D, r(t)), o(t, "pingpong", I, r(t)), t._forward = !0, t._position = 0, t._distance = 0, t
                }
                i(t, e);
                var n = t.prototype;
                return n.id = function() {
                    return this._id
                }, n.start = function() {}, n.onDestroy = function() {
                    c.Instance.removeMover(this)
                }, n.onEnable = function() {
                    c.Instance.addMover(this), this.to && (this.toPos = this.to.position), this.from && (this.fromPos = this.from.position), this._distance = this.toPos.subtract(this.fromPos).length()
                }, n.onDisable = function() {
                    c.Instance.removeMover(this)
                }, n.move = function(e, t, i) {
                    var o = t - e - this.delay;
                    if (!(o < 0)) {
                        var r = this._distance / this.speed,
                            n = o / r,
                            a = o % r,
                            s = new l(this.fromPos),
                            u = new l(this.toPos),
                            c = this.mover ? this.mover : this.node;
                        if (this.pingpong) {
                            var p = a / r;
                            1 & n && (p = 1 - p), c.setPosition(u.subtract(s).multiplyScalar(p))
                        } else if (n > 0) c.setPosition(this.toPos);
                        else {
                            var f = u.subtract(s).multiplyScalar(a / r);
                            c.setPosition(f)
                        }
                    }
                }, t
            }(u)).prototype, "from", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = t(y.prototype, "to", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), w = t(y.prototype, "mover", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), z = t(y.prototype, "fromPos", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l
                }
            }), M = t(y.prototype, "toPos", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l
                }
            }), _ = t(y.prototype, "speed", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), D = t(y.prototype, "delay", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), I = t(y.prototype, "pingpong", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), g = y)) || g));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/moverManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var t, r, n, a, i, o, s, c, g;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, a = e.assertThisInitialized, i = e.createClass
        }, function(e) {
            o = e.cclegacy, s = e._decorator, c = e.Component
        }, function(e) {
            g = e.GameManager
        }],
        execute: function() {
            var u, l, v, m, f, p;
            o._RF.push({}, "3948cELYFZILZDPsS7Zcudk", "moverManager", void 0);
            var h = s.ccclass,
                M = s.property;
            e("MoverManager", (u = h("MoverManager"), l = M(g), u(((p = function(e) {
                function t() {
                    for (var t, r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];
                    return (t = e.call.apply(e, [this].concat(i)) || this)._movers = [], t._lastUpdate = 0, n(t, "gameManager", f, a(t)), t
                }
                r(t, e);
                var o = t.prototype;
                return o.start = function() {
                    t._instance = this, this.gameManager || console.error("Missing GameManager link")
                }, o.addMover = function(e) {
                    this._movers.find((function(e) {})) || this._movers.push(e)
                }, o.removeMover = function(e) {
                    var t = this._movers.findIndex((function(t) {
                        return t.id() == e.id()
                    }));
                    t >= 0 && this._movers.splice(t, 1)
                }, o.update = function() {
                    var e = this;
                    if (this.gameManager.isConnected()) {
                        var t = this.gameManager.getServerTime() / 1e3,
                            r = this.gameManager.getLevelStartTime() / 1e3;
                        this._movers.forEach((function(n) {
                            n.move(r, t, t - e._lastUpdate)
                        })), this._lastUpdate = t
                    }
                }, i(t, [{
                    key: "serverTime",
                    get: function() {
                        return this.gameManager.getServerTime()
                    }
                }, {
                    key: "levelStartTime",
                    get: function() {
                        return this.gameManager.getLevelStartTime()
                    }
                }], [{
                    key: "Instance",
                    get: function() {
                        return t._instance
                    }
                }]), t
            }(c))._instance = void 0, f = t((m = p).prototype, "gameManager", [l], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = m)) || v));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/NetGame.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./shared_constants.ts", "./Client.ts", "./NetUser.ts"], (function(e) {
    var t, a, r, s, i, n, o, d;
    return {
        setters: [function(e) {
            t = e.extends, a = e.createClass
        }, function(e) {
            r = e.cclegacy, s = e.Vec3
        }, function(e) {
            i = e.Opcodes
        }, function(e) {
            n = e.ConnectionStatus, o = e.default
        }, function(e) {
            d = e.default
        }],
        execute: function() {
            r._RF.push({}, "0919dmTIu1PQZnG+PYKRimY", "NetGame", void 0);
            var l = 65,
                c = 66,
                u = 67,
                h = 68,
                m = 96,
                p = 97,
                f = 98,
                g = 99,
                v = 100,
                y = e("GameCmd", {
                    QueuedMove: 0,
                    VoteOnCourse: 1,
                    ApplyStatusEffectToPlayer: 2,
                    ConsumeStatusEffectCharge: 3,
                    BallAnimate: 4,
                    BallCorrection: 5,
                    BallStopped: 6,
                    ForcePlayerToSpectator: 7,
                    MarkPlaceableDestroyed: 8,
                    GameLogEvent: 9,
                    HoleTimeout: 10,
                    StatusEffectEvent: 11,
                    StartNewHole: 12
                }),
                S = e("NetPlayer", function() {
                    function e(e, t, a) {
                        this.uid = void 0, this.local = void 0, this.state = void 0, this.localState = void 0, this.netGame = void 0, this.uid = t.id, this.local = a, this.state = t.state, this.netGame = e, this.localState = {}
                    }
                    var t = e.prototype;
                    return t.stateUpdated = function() {
                        this.state.hrtt = this.netGame.RTT / 2, this.netGame.UpdatePlayerState(this)
                    }, t.partialStateUpdate = function(e) {
                        this.netGame.PartialPlayerStateUpdate(this, e)
                    }, t.getUser = function() {
                        return this.netGame.getUser(this.uid)
                    }, t.isConnected = function() {
                        var e = this.getUser();
                        return e && e.connected
                    }, t.getLocalRTT = function() {
                        return this.netGame.RTT
                    }, e
                }());
            e("NetGame", function() {
                function e(e, t) {
                    this._client = new o, this.primaryUser = !1, this.maxPlayers = 4, this.game = null, this.gameHandler = null, this._server = "", this._appID = "", this._guildID = "", this._roomID = "", this._userID = "", this._groups = [], this.users = void 0, this.localUser = void 0, this._lastUserRequest = 0, this._outstandingUserRequest = !1, this._userGetFailures = new Map, this._gameCmdHandlers = new Map, this.players = void 0, this.localPlayer = void 0, this.maxPlayers = e, this.players = new Map, this.users = new Map, this.gameHandler = t, this._client.onMessage = this.onMessage.bind(this), this._client.onConnectionStatus = this.onConnectionStatus.bind(this), this._client.onOpcodeError = this.onOpcodeError.bind(this)
                }
                var r = e.prototype;
                return r.connect = function(e, t, a, r, s) {
                    return !!this._client && (this._client.connect("wss://" + e + "/game/" + t + "/" + a + "/" + r, s), this._server = e, this._appID = t, this._guildID = a, this._roomID = r, this._userID = s, !0)
                }, r.getNetworkDebug = function() {
                    return {
                        Rtt: this.RTT,
                        TimeOffset: this.getServerTimeOffset(),
                        PrimaryUser: this.primaryUser,
                        Server: this._server,
                        RoomID: this._roomID,
                        UserID: this._userID,
                        Game: this.game
                    }
                }, r.getUser = function(e) {
                    var t = this.users.get(e);
                    if (!t) {
                        var a = this._userGetFailures.get(e) || 0;
                        !this._outstandingUserRequest && Date.now() - this._lastUserRequest > 1e3 && a < 5 && (this._outstandingUserRequest = !0, this._lastUserRequest = Date.now(), this._client.send({
                            opcode: i.CmdUserList,
                            data: {}
                        }), this._userGetFailures.set(e, a + 1))
                    }
                    return t
                }, r.isPrimaryUser = function() {
                    return this.primaryUser
                }, r.getLocalUserID = function() {
                    return this._client.localUID
                }, r.getServerTimeOffset = function() {
                    return this._client.getServerTimeOffset()
                }, r.getServerTime = function() {
                    var e = this.getServerTimeOffset();
                    return Date.now() - e
                }, r.isConnected = function() {
                    return this._client.isConnected()
                }, r.createGame = function(e) {
                    e ? this._client.send({
                        opcode: i.CmdGameCreate,
                        data: {
                            state: {
                                version: 1,
                                properties: e,
                                max_players: this.maxPlayers
                            }
                        }
                    }) : console.error("invalid properties to create game.")
                }, r.localPlayerInGame = function() {
                    var e = this;
                    return !!this.game && this.game.state.participants.find((function(t) {
                        return t.id == e.getLocalUserID()
                    }))
                }, r.canJoinGame = function() {
                    if (!this.game) return !1;
                    var e = this.game.state;
                    return e.primary_user && e.primary_user.length > 0 && e.participants.length < this.maxPlayers && !this.localPlayerInGame()
                }, r.joinGame = function(e) {
                    if (!this.canJoinGame()) return !1;
                    this._client.joinGame(e)
                }, r.leaveGame = function() {
                    if (!this.localPlayerInGame()) return !1;
                    this._client.leaveGame()
                }, r.onConnectionStatus = function(e) {
                    var t = this;
                    this.gameHandler.OnConnectionStatus(e), e == n.Reconnect && this._groups.forEach((function(e) {
                        t.JoinGroup(e)
                    }))
                }, r.onOpcodeError = function(e) {
                    this.isPrimaryUser() && e == i.CmdGameSetState && this._client.disconnect()
                }, r.onMessage = function(e) {
                    var t = this;
                    switch (e.opcode) {
                        case i.EvtUserList:
                            e.data.users.forEach((function(e) {
                                if (!t.users.has(e.id)) {
                                    var a = new d(e);
                                    a.connected = !0, t.users.set(e.id, a), t._userGetFailures.delete(e.id)
                                }
                            })), this._outstandingUserRequest = !1;
                            break;
                        case i.EvtUserJoined:
                            var a = e.data.user,
                                r = this.users.get(a.id);
                            r || (r = new d(a)), this._userGetFailures.delete(a.id), r.connected = !0, this.users.set(r.id, r);
                            var n = r.id == this.getLocalUserID();
                            n && (this.localUser = r), this.gameHandler.userJoined(r, n);
                            break;
                        case i.EvtUserLeft:
                            var o = e.data.user.id;
                            if (!this.users.has(o)) return;
                            var l = this.users.get(o);
                            l && (l.connected = !1), setTimeout((function() {
                                t.users.get(o) && !t.users.get(o).connected && (t.users.delete(o), t._userGetFailures.set(o, 5))
                            }), 2e4), this.gameHandler.UserLeft(l);
                            break;
                        case i.EvtGameState:
                            if (this.game) {
                                this.game.state = e.data.state;
                                var c = this.game.state;
                                c && this.gameHandler.GameStateUpdated(c.properties)
                            }
                            break;
                        case i.EvtGameUpdated:
                            if (null == e.data.game) {
                                var u = this.gameHandler.GetInitialGameProperties();
                                this.createGame(u)
                            } else {
                                this.game = e.data.game;
                                var h = this.game.state;
                                if (h) {
                                    this.primaryUser = h.primary_user == this.getLocalUserID();
                                    for (var S = 0; S < h.participants.length; S++) this.AddPlayer(h.participants[S]);
                                    this.primaryUser && this.gameHandler.SetPrimaryUser(h.properties), this.gameHandler.GameStateUpdated(h.properties)
                                }
                            }
                            break;
                        case i.EvtGameCreated:
                            var _ = e.data.game;
                            if (_) {
                                this.game = _;
                                var P = this.game.state;
                                P && this.gameHandler.GameStateUpdated(P.properties)
                            }
                            break;
                        case i.EvtGameJoined:
                            if (this.players.size < this.maxPlayers) {
                                var U = e.data.game;
                                if (this.game && U) {
                                    var H = e.data.user_id,
                                        G = U.state;
                                    if (G) {
                                        this.game.state = G;
                                        var T = G.participants.find((function(e) {
                                            return e.id == H
                                        }));
                                        T && this.AddPlayer(T)
                                    }
                                }
                            }
                            break;
                        case i.EvtGameLeft:
                            if (this.players.size > 0) {
                                var E = e.data.game;
                                if (E) {
                                    var C = e.data.user_id,
                                        k = E.state;
                                    if (k) {
                                        this.game.state = k;
                                        var b = this.players.get(C);
                                        b && this.RemovePlayer(b)
                                    }
                                }
                            }
                            break;
                        case m:
                            var D = e.data,
                                I = this._gameCmdHandlers.get(D.cmd);
                            if (I) return void I(e.data.data);
                            switch (D.cmd) {
                                case y.QueuedMove:
                                    var w = e.data.data,
                                        R = w.id,
                                        M = w.move,
                                        L = this.players.get(R);
                                    L ? this.gameHandler.ApplyQueuedMove(L, new s(M.x, M.y, M.z)) : console.error("player " + R + " not found");
                                    break;
                                case y.GameLogEvent:
                                    var A = e.data.data.logEvtData;
                                    this.gameHandler.GameLogEvent(A);
                                    break;
                                case y.ApplyStatusEffectToPlayer:
                                    var F = e.data.data,
                                        B = F.id,
                                        O = F.effectId,
                                        x = F.targetData;
                                    this.HandleApplyStatusEffectToTarget(B, x, O);
                                    break;
                                case y.ConsumeStatusEffectCharge:
                                    var N = e.data.data,
                                        Q = (N.id, N.effectId),
                                        q = N.targetData;
                                    this.HandleConsumeStatusEffectCharge(q, Q);
                                    break;
                                case y.BallAnimate:
                                    var J = e.data.data,
                                        j = J.id,
                                        z = J.pos,
                                        V = this.players.get(j);
                                    V ? this.gameHandler.BallAnimateTo(V, new s(z.x, z.y, z.z)) : console.error("player " + j + " not found");
                                    break;
                                case y.BallCorrection:
                                    var Y = e.data.data,
                                        K = Y.id,
                                        Z = Y.pos,
                                        W = Y.vel,
                                        X = e.data._time,
                                        $ = this.players.get(K);
                                    $ ? this.gameHandler.ApplyCorrection($, this.RTT / 2, new s(Z.x, Z.y, Z.z), new s(W.x, W.y, W.z), X) : console.error("player " + K + " not found");
                                    break;
                                case y.BallStopped:
                                    var ee = e.data.data,
                                        te = ee.id,
                                        ae = ee.pos,
                                        re = this.players.get(te);
                                    re && this.gameHandler.BallStopped(re, new s(ae.x, ae.y, ae.z));
                                    break;
                                case y.ForcePlayerToSpectator:
                                    var se = e.data.data.id,
                                        ie = this.players.get(se);
                                    ie && this.gameHandler.ForcePlayerToSpectator(ie);
                                    break;
                                case y.MarkPlaceableDestroyed:
                                    var ne = e.data.data.key;
                                    this.gameHandler.MarkPlaceableDestroyed(ne);
                                    break;
                                case y.HoleTimeout:
                                    var oe = e.data.data.hole;
                                    this.HandleHoleTimeout(oe);
                                    break;
                                case y.StartNewHole:
                                    var de = e.data.data.hole;
                                    this.gameHandler.StartNewHole(de);
                                    break;
                                case y.StatusEffectEvent:
                                    var le = e.data.data,
                                        ce = le.targetId,
                                        ue = le.targetData,
                                        he = this.players.get(ce);
                                    he && this.gameHandler.HandleStatusEffectEvent(he, ue);
                                    break;
                                default:
                                    console.error("cmd not found " + D.cmd)
                            }
                            break;
                        case p:
                            if (this.game) {
                                this.game.state = e.data.state;
                                var me = this.game.state;
                                this.primaryUser = me.primary_user == this.getLocalUserID(), this.primaryUser && this.gameHandler.SetPrimaryUser(me.properties)
                            }
                            break;
                        case f:
                            this.SetPlayerState(e.data.id, e.data.state);
                            break;
                        case g:
                            var pe = e.data._from;
                            if (!pe || !this.players.has(pe)) return;
                            var fe = this.players.get(pe);
                            this.gameHandler.MessageReceived(fe, e.data);
                            break;
                        case v:
                            var ge = e.data.players;
                            this.RecvPlayerBulkSetState(ge)
                    }
                }, r.AddPlayer = function(e) {
                    if (!this.players.has(e.id)) {
                        var t = e.id == this.getLocalUserID(),
                            a = new S(this, e, t);
                        t && (this.localPlayer = a), this.players.set(e.id, a), this.gameHandler.AddVisualForPlayer(a)
                    }
                }, r.RemovePlayer = function(e) {
                    this.players.delete(e.uid), this.gameHandler.RemoveVisualForPlayer(e)
                }, r.PartialPlayerStateUpdate = function(e, t) {
                    if (!e.local) {
                        var a = this.localPlayer ? this.localPlayer.uid : -1;
                        if (!this.isPrimaryUser()) return void console.error("trying to call UpdatePlayerState for a non-local player " + e.uid + " and not primary. local id " + a + ". From: " + (new Error).stack);
                        console.warn("PartialPlayerStateUpdate as the primary user " + a + " for player " + e.uid + " state " + JSON.stringify(t))
                    }
                    this._client.send({
                        opcode: c,
                        data: {
                            id: e.uid,
                            state: t
                        }
                    }, !0), e.state = Object.assign(e.state || {}, t), this.SetPlayerState(e.uid, e.state)
                }, r.UpdatePlayerState = function(e) {
                    if (!e.local) {
                        var t = this.localPlayer ? this.localPlayer.uid : -1;
                        if (!this.isPrimaryUser()) return void console.error("trying to call UpdatePlayerState for a non-local player " + e.uid + " and not primary. local id " + t + ". From: " + (new Error).stack)
                    }
                    this._client.send({
                        opcode: c,
                        data: {
                            id: e.uid,
                            state: e.state
                        }
                    }, !0), this.SetPlayerState(e.uid, e.state)
                }, r.SendPlayerBulkSetState = function() {
                    var e = {};
                    this.players.forEach((function(t) {
                        e[t.uid] = t.state
                    })), this._client.send({
                        opcode: h,
                        data: {
                            players: e
                        }
                    }, !0)
                }, r.RecvPlayerBulkSetState = function(e) {
                    var t = this,
                        a = this.game.state;
                    Object.keys(e).forEach((function(r) {
                        var s = e[r],
                            i = a.participants.find((function(e) {
                                return e.id == r
                            }));
                        i && (i.state = s, t.SetPlayerState(r, s))
                    }))
                }, r.UpdateGameProperties = function(e) {
                    if (!this.primaryUser) return !1;
                    this.game.state.properties = e, this._client.send({
                        opcode: i.CmdGameSetState,
                        data: {
                            state: {
                                properties: e
                            }
                        }
                    })
                }, r.SetPlayerState = function(e, t) {
                    if (this.players.has(e)) {
                        var a = this.players.get(e);
                        a.state = t, this.gameHandler.PlayerStateUpdated(a);
                        var r = this.game.state;
                        if (r) {
                            var s = r.participants.find((function(t) {
                                return t.id == e
                            }));
                            s && (s.state = t)
                        }
                    }
                }, r.QueueLocalPlayerMove = function(e) {
                    var t = this.QueuePlayerMove(this.getLocalUserID(), e);
                    t && this.UpdatePlayerState(t), this.gameHandler.PlayerStateUpdated(t)
                }, r.QueuePlayerMove = function(e, t) {
                    if (!this.players.has(e)) return console.error("received a move for player [" + e + "] we don't have."), null;
                    var a = this.players.get(e);
                    return a.state.qmove = t, a
                }, r.SendTo = function(e, t) {
                    this._client.send({
                        opcode: u,
                        data: Object.assign({
                            _to: e.uid
                        }, t)
                    })
                }, r.JoinGroup = function(e) {
                    this._client.joinGroup(e), this._groups.push(e)
                }, r.SendToMyGroup = function(e) {
                    this._client.send({
                        opcode: u,
                        data: e
                    }, !0)
                }, r.SendQueueMove = function(e) {
                    var t = {
                        cmd: y.QueuedMove,
                        data: {
                            id: this.localPlayer.uid,
                            move: e
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    }, !0)
                }, r.SendBallAnimate = function(e) {
                    var t = {
                        cmd: y.BallAnimate,
                        data: {
                            id: this.localPlayer.uid,
                            pos: e,
                            time: this.getServerTime()
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    }, !0)
                }, r.SendCorrection = function(e, t) {
                    var a = {
                        cmd: y.BallCorrection,
                        data: {
                            id: this.localPlayer.uid,
                            pos: e,
                            vel: t,
                            time: this.getServerTime()
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: a
                    }, !0)
                }, r.SendBallStopped = function(e) {
                    var t = {
                        cmd: y.BallStopped,
                        data: {
                            id: this.localPlayer.uid,
                            pos: e
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    }, !0)
                }, r.SendForceLeaveGame = function(e) {
                    this.isPrimaryUser() && this._client.send({
                        opcode: i.CmdGameLeave,
                        data: {
                            override_user: e.uid
                        }
                    })
                }, r.SendForcePlayerToSpectator = function(e) {
                    var t = {
                        cmd: y.ForcePlayerToSpectator,
                        data: {
                            id: e.uid
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    }, !0)
                }, r.RegisterGameCommandHandler = function(e, t) {
                    this._gameCmdHandlers.set(e, t)
                }, r.UnregisterGameCommandHandler = function(e, t) {
                    this._gameCmdHandlers.get(e) == t && this._gameCmdHandlers.delete(e)
                }, r.SendGameCommand = function(e, t) {
                    var a = {
                        cmd: e,
                        data: t
                    };
                    this._client.send({
                        opcode: l,
                        data: a
                    }, !0)
                }, r.SendGameLogEvent = function(e) {
                    var t = {
                        cmd: y.GameLogEvent,
                        data: {
                            logEvtData: e
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    }, !0), this.gameHandler.GameLogEvent(e)
                }, r.SendConsumeStatusEffectCharge = function(e, a) {
                    var r = t({
                        targetId: e.target.owner.uid
                    }, e);
                    delete r.target;
                    var s = {
                        cmd: y.ConsumeStatusEffectCharge,
                        data: {
                            id: this.localUser.id,
                            effectId: a,
                            targetData: r
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: s
                    }, !0), this.HandleConsumeStatusEffectCharge(r, a)
                }, r.HandleConsumeStatusEffectCharge = function(e, t) {
                    this.gameHandler.ConsumeStatusEffectCharge(e, t)
                }, r.SendApplyStatusEffectToTarget = function(e, a, r) {
                    var s = t({
                        targetId: e.target.owner.uid
                    }, e);
                    delete s.target;
                    var i = {
                        cmd: y.ApplyStatusEffectToPlayer,
                        data: {
                            id: r || this.localPlayer.uid,
                            effectId: a,
                            targetData: s
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: i
                    }, !0), this.HandleApplyStatusEffectToTarget(i.data.id, s, a)
                }, r.HandleApplyStatusEffectToTarget = function(e, t, a) {
                    this.gameHandler.ApplyStatusEffectToTarget(t, e, a)
                }, r.SendStatusEffectEvent = function(e, t) {
                    var a = {
                        cmd: y.StatusEffectEvent,
                        data: {
                            targetId: e,
                            targetData: t
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: a
                    }, !0)
                }, r.SendMarkPlaceableDestroyed = function(e) {
                    var t = {
                        cmd: y.MarkPlaceableDestroyed,
                        data: {
                            key: e
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    }, !0), this.gameHandler.MarkPlaceableDestroyed(e)
                }, r.SendHoleTimeout = function(e) {
                    var t = {
                        cmd: y.HoleTimeout,
                        data: {
                            hole: e
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    })
                }, r.HandleHoleTimeout = function(e) {
                    this.gameHandler.HandleHoleTimeout(e)
                }, r.SendStartNewHole = function(e) {
                    var t = {
                        cmd: y.StartNewHole,
                        data: {
                            hole: e
                        }
                    };
                    this._client.send({
                        opcode: l,
                        data: t
                    })
                }, a(e, [{
                    key: "client",
                    get: function() {
                        return this._client
                    }
                }, {
                    key: "RTT",
                    get: function() {
                        return this._client.RTT
                    }
                }, {
                    key: "properties",
                    get: function() {
                        return this.game.state.properties
                    }
                }]), e
            }());
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/NetUser.ts", ["cc"], (function(i) {
    var t;
    return {
        setters: [function(i) {
            t = i.cclegacy
        }],
        execute: function() {
            t._RF.push({}, "c6cebREgQlPA45TverWTiz7", "NetUser", void 0);
            i("default", function() {
                function i(i) {
                    this.id = void 0, this.username = void 0, this.discord_id = void 0, this.avatar_url = void 0, this.premium_type = void 0, this.discriminator = void 0, this.properties = void 0, this.connected = void 0, this.updateData(i)
                }
                return i.prototype.updateData = function(i) {
                    this.id = i.id, this.username = i.username, this.discord_id = i.discord_id, this.avatar_url = i.avatar_url && i.avatar_url.length > 0 ? "https://cdn.discordapp.com" + i.avatar_url + "?size=80" : "https://cdn.discordapp.com/avatars/" + i.discord_id + "/" + i.avatar + ".png?size=80", this.premium_type = i.premium_type, this.discriminator = i.discriminator, this.properties = i.properties
                }, i
            }());
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/nexusJwt.ts", ["cc", "./base64.ts"], (function(i) {
    var t, s;
    return {
        setters: [function(i) {
            t = i.cclegacy
        }, function(i) {
            s = i.fromBase64url
        }],
        execute: function() {
            t._RF.push({}, "f677aHmTCxDgLmieMLu4SHi", "nexusJwt", void 0);
            i("default", (function(i) {
                var t = this;
                this.original = void 0, this.id = void 0, this.uid = void 0, this.is_new = void 0, this.name = void 0, this.discriminator = void 0, this.avatar = void 0, this.avatar_url = void 0, this.nitro = void 0, this.channelId = void 0, this.iat = void 0, this.exp = void 0, this.toString = function() {
                    return t.original
                }, this.original = i;
                var a, n, r = ((a = i.split("."))[0], n = a[1], a[2], JSON.parse(s(n)));
                this.id = r.id, this.uid = r.uid, this.is_new = !!r.is_new, this.name = r.name, this.discriminator = r.discriminator, this.avatar = r.avatar, this.avatar_url = r.avatar_url, this.nitro = r.nitro, this.channelId = r.channelId, this.iat = r.iat, this.exp = r.exp
            }));
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/NodeExtensionMethods.ts", ["cc", "./utils.ts"], (function() {
    var t, e, n;
    return {
        setters: [function(n) {
            t = n.cclegacy, e = n.Node
        }, function(t) {
            n = t.getEventsDispatchedByNode
        }],
        execute: function() {
            t._RF.push({}, "395edaGY4hFDbOOY1RaM6/Z", "NodeExtensionMethods", void 0), e.prototype.dgOn = function(t, e, o, i) {
                n(this).findIndex((function(e) {
                    return e == t
                })) < 0 && console.error("Node<" + this.name + "> does not contain a component that will dispatch the registed event <" + t + ">"), this.on(t, e, o, i)
            }, e.prototype.dgOff = function(t, e, n, o) {
                this.off(t, e, n, o)
            }, t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/OnClickTabSystem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, i, n, r, o, l, a, c, u, s, b;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
        }, function(t) {
            o = t.cclegacy, l = t._decorator, a = t.Toggle, c = t.Node, u = t.Label, s = t.Color, b = t.Component
        }],
        execute: function() {
            var p, h, f, y, g, C, m, w, T, d, v, P, k;
            o._RF.push({}, "65f9dKqSu5NyYbmVPWgEmEZ", "OnClickTabSystem", void 0);
            var z = l.ccclass,
                S = l.property;
            t("OnClickTabSystem", (p = z("OnClickTabSystem"), h = S({
                type: a
            }), f = S({
                type: c
            }), y = S({
                type: u
            }), g = S(s), C = S(s), p((T = e((w = function(t) {
                function e() {
                    for (var e, i = arguments.length, o = new Array(i), l = 0; l < i; l++) o[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(o)) || this, n(e, "tabButton", T, r(e)), n(e, "tabPanel", d, r(e)), n(e, "tabText", v, r(e)), n(e, "highlightColor", P, r(e)), n(e, "whiteColor", k, r(e)), e
                }
                i(e, t);
                var o = e.prototype;
                return o.closePanels = function() {
                    this.tabButton.isChecked = !1, this.tabPanel.active = !1, this.tabText.color = this.whiteColor
                }, o.openPanel = function() {
                    this.tabButton.isChecked = !0, this.tabPanel.active = !0, this.tabText.color = this.highlightColor
                }, e
            }(b)).prototype, "tabButton", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), d = e(w.prototype, "tabPanel", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), v = e(w.prototype, "tabText", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = e(w.prototype, "highlightColor", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s(191, 204, 148)
                }
            }), k = e(w.prototype, "whiteColor", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s(255, 255, 255)
                }
            }), m = w)) || m));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Palette.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(r) {
    var e, o, i, t, n, a, l, u, c, p;
    return {
        setters: [function(r) {
            e = r.applyDecoratedDescriptor, o = r.inheritsLoose, i = r.initializerDefineProperty, t = r.assertThisInitialized
        }, function(r) {
            n = r.cclegacy, a = r._decorator, l = r.ccenum, u = r.Color, c = r.CCInteger, p = r.Component
        }],
        execute: function() {
            var s, b, y, f, g, w, m, h, C, d, S, P, T, z, I, x, k, U, F, M, H, D, v, O, A, L, B, R, _, N, W, E, G, j, q, J, K, Q, V, X, Y, Z, $, rr, er, or, ir, tr, nr, ar, lr, ur, cr, pr, sr, br, yr, fr, gr;
            n._RF.push({}, "c50c1WNxCNIL52cyd+97hED", "Palette", void 0);
            var wr = a.ccclass,
                mr = a.property,
                hr = (a.type, r("PaletteColorType", function(r) {
                    return r[r.PropPrimary = 0] = "PropPrimary", r[r.PropSecondary = 1] = "PropSecondary", r[r.TopColor = 2] = "TopColor", r[r.TopHighlight = 3] = "TopHighlight", r[r.TopShadow1 = 4] = "TopShadow1", r[r.TopShadow2 = 5] = "TopShadow2", r[r.TopShadow3 = 6] = "TopShadow3", r[r.WallColor = 7] = "WallColor", r[r.SkyColor = 8] = "SkyColor", r[r.FogColor = 9] = "FogColor", r[r.UIPrimaryColor = 10] = "UIPrimaryColor", r[r.UISecondaryColor = 11] = "UISecondaryColor", r[r.UITextColor1 = 12] = "UITextColor1", r[r.UITextColor2 = 13] = "UITextColor2", r[r.ObstaclePrimary = 14] = "ObstaclePrimary", r[r.ObstacleSecondary = 15] = "ObstacleSecondary", r[r.FlagPrimary = 16] = "FlagPrimary", r[r.FlagSecondary = 17] = "FlagSecondary", r[r.Blockheads = 18] = "Blockheads", r[r.Minions = 19] = "Minions", r[r.Minions2 = 20] = "Minions2", r[r.Minions3 = 21] = "Minions3", r
                }({})));
            l(hr);
            r("Palette", (s = wr("Palette"), b = mr(u), y = mr(u), f = mr({
                range: [0, 1],
                slide: !0,
                step: .05
            }), g = mr(u), w = mr(u), m = mr(u), h = mr(u), C = mr(u), d = mr(u), S = mr({
                range: [0, 1],
                slide: !0,
                step: .05
            }), P = mr(u), T = mr(u), z = mr(c), I = mr(c), x = mr(c), k = mr(u), U = mr(u), F = mr(u), M = mr(u), H = mr(u), D = mr(u), v = mr(u), O = mr(u), A = mr(u), L = mr(u), B = mr(u), R = mr(u), _ = mr(u), s((E = e((W = function(r) {
                function e() {
                    for (var e, o = arguments.length, n = new Array(o), a = 0; a < o; a++) n[a] = arguments[a];
                    return e = r.call.apply(r, [this].concat(n)) || this, i(e, "propPrimary", E, t(e)), i(e, "propSecondary", G, t(e)), i(e, "propDetailScale", j, t(e)), i(e, "topColor", q, t(e)), i(e, "topHighlightColor", J, t(e)), i(e, "topShadow1Color", K, t(e)), i(e, "topShadow2Color", Q, t(e)), i(e, "topShadow3Color", V, t(e)), i(e, "wallColor", X, t(e)), i(e, "wallDetailScale", Y, t(e)), i(e, "skyColor", Z, t(e)), i(e, "fogColor", $, t(e)), i(e, "fogTop", rr, t(e)), i(e, "fogRange", er, t(e)), i(e, "fogAtten", or, t(e)), i(e, "mainLight", ir, t(e)), i(e, "uiPrimaryColor", tr, t(e)), i(e, "uiSecondaryColor", nr, t(e)), i(e, "uiTextColor1", ar, t(e)), i(e, "uiTextColor2", lr, t(e)), i(e, "obstaclePrimary", ur, t(e)), i(e, "obstacleSecondary", cr, t(e)), i(e, "flagPrimary", pr, t(e)), i(e, "flagSecondary", sr, t(e)), i(e, "blockHeads", br, t(e)), i(e, "minions", yr, t(e)), i(e, "minions2", fr, t(e)), i(e, "minions3", gr, t(e)), e
                }
                return o(e, r), e.prototype.GetColor = function(r) {
                    switch (r) {
                        case hr.FogColor:
                            return this.fogColor;
                        case hr.PropPrimary:
                            return this.propPrimary;
                        case hr.PropSecondary:
                            return this.propSecondary;
                        case hr.SkyColor:
                            return this.skyColor;
                        case hr.TopColor:
                            return this.topColor;
                        case hr.TopHighlight:
                            return this.topHighlightColor;
                        case hr.TopShadow1:
                            return this.topShadow1Color;
                        case hr.TopShadow2:
                            return this.topShadow2Color;
                        case hr.TopShadow3:
                            return this.topShadow3Color;
                        case hr.UIPrimaryColor:
                            return this.uiPrimaryColor;
                        case hr.UISecondaryColor:
                            return this.uiSecondaryColor;
                        case hr.UITextColor1:
                            return this.uiTextColor1;
                        case hr.UITextColor2:
                            return this.uiTextColor2;
                        case hr.ObstaclePrimary:
                            return this.obstaclePrimary;
                        case hr.ObstacleSecondary:
                            return this.obstacleSecondary;
                        case hr.FlagPrimary:
                            return this.flagPrimary;
                        case hr.FlagSecondary:
                            return this.flagSecondary;
                        case hr.Blockheads:
                            return this.blockHeads;
                        case hr.Minions:
                            return this.minions;
                        case hr.Minions2:
                            return this.minions2;
                        case hr.Minions3:
                            return this.minions3
                    }
                    return u.MAGENTA
                }, e
            }(p)).prototype, "propPrimary", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u
                }
            }), G = e(W.prototype, "propSecondary", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u
                }
            }), j = e(W.prototype, "propDetailScale", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .316
                }
            }), q = e(W.prototype, "topColor", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(44, 67, 163, 255)
                }
            }), J = e(W.prototype, "topHighlightColor", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(45, 95, 201, 255)
                }
            }), K = e(W.prototype, "topShadow1Color", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(37, 56, 136, 255)
                }
            }), Q = e(W.prototype, "topShadow2Color", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(39, 62, 153, 255)
                }
            }), V = e(W.prototype, "topShadow3Color", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(38, 59, 146, 255)
                }
            }), X = e(W.prototype, "wallColor", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(117, 179, 76, 255)
                }
            }), Y = e(W.prototype, "wallDetailScale", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .5
                }
            }), Z = e(W.prototype, "skyColor", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(189, 189, 189, 255)
                }
            }), $ = e(W.prototype, "fogColor", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(189, 189, 189, 255)
                }
            }), rr = e(W.prototype, "fogTop", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -10
                }
            }), er = e(W.prototype, "fogRange", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 50
                }
            }), or = e(W.prototype, "fogAtten", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 500
                }
            }), ir = e(W.prototype, "mainLight", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(255, 221, 92, 255)
                }
            }), tr = e(W.prototype, "uiPrimaryColor", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(70, 98, 173, 255)
                }
            }), nr = e(W.prototype, "uiSecondaryColor", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(75, 106, 191, 255)
                }
            }), ar = e(W.prototype, "uiTextColor1", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(232, 205, 54, 255)
                }
            }), lr = e(W.prototype, "uiTextColor2", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(232, 205, 54, 255)
                }
            }), ur = e(W.prototype, "obstaclePrimary", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(224, 160, 54, 255)
                }
            }), cr = e(W.prototype, "obstacleSecondary", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(33, 90, 71, 255)
                }
            }), pr = e(W.prototype, "flagPrimary", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(251, 218, 1, 255)
                }
            }), sr = e(W.prototype, "flagSecondary", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(255, 255, 255, 255)
                }
            }), br = e(W.prototype, "blockHeads", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(59, 153, 255, 255)
                }
            }), yr = e(W.prototype, "minions", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(228, 96, 127, 255)
                }
            }), fr = e(W.prototype, "minions2", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(228, 96, 127, 255)
                }
            }), gr = e(W.prototype, "minions3", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(228, 96, 127, 255)
                }
            }), N = W)) || N));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ParticleGroundCheck.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts"], (function(t) {
    var e, r, a, n, i, l, c, s, o;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, r = t.inheritsLoose, a = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            i = t.cclegacy, l = t._decorator, c = t.ParticleSystemComponent, s = t.Component
        }, function(t) {
            o = t.BallHandler
        }],
        execute: function() {
            var u, p, h, d, y, f, v;
            i._RF.push({}, "eaeba6MnM9MkKT8L5TAlDDG", "ParticleGroundCheck", void 0);
            var b = l.ccclass,
                m = l.property;
            t("ParticleGroundCheck", (u = b("ParticleGroundCheck"), p = m(c), h = m(o), u((f = e((y = function(t) {
                function e() {
                    for (var e, r = arguments.length, i = new Array(r), l = 0; l < r; l++) i[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(i)) || this, a(e, "particleSystem", f, n(e)), a(e, "ballHandler", v, n(e)), e._startRate = 0, e
                }
                r(e, t);
                var i = e.prototype;
                return i.start = function() {
                    var t = this.particleSystem.rateOverDistance;
                    this._startRate = t.constant
                }, i.update = function() {
                    var t, e;
                    if (null != (t = this.ballHandler) && t.isValid && null != (e = this.particleSystem) && e.isValid) {
                        var r = this.particleSystem.rateOverDistance;
                        this.ballHandler.InAir ? (r.constant = 0, this.particleSystem.rateOverDistance = r) : r.constant = this._startRate
                    }
                }, e
            }(s)).prototype, "particleSystem", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), v = e(y.prototype, "ballHandler", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), d = y)) || d));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PassUtils.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BloomSettings.ts", "./CameraInfo.ts"], (function(e) {
    var a, r, t, i, n, d, o, s, l, R, E, c, w;
    return {
        setters: [function(e) {
            a = e.createForOfIteratorHelperLoose
        }, function(e) {
            r = e.cclegacy, t = e.gfx, i = e.renderer, n = e.pipeline, d = e.rendering, o = e.geometry, s = e.Vec4, l = e.toRadian, R = e.Material, E = e.macro
        }, function(e) {
            c = e.BloomSettings
        }, function(e) {
            w = e.CameraInfo
        }],
        execute: function() {
            e({
                IsMainCamera: function(e) {
                    var a = e.node.getComponent(w);
                    if (a) return a.IsMainCamera;
                    return !1
                },
                buildBloomPasses: function(e, a, r, t, i, n) {
                    var d = H(e),
                        o = "Camera" + d,
                        l = e.window.width,
                        R = e.window.height,
                        E = W(e, l, R);
                    l = E.width, R = E.height;
                    var w = new T(0, 0, 0, 1);
                    e.clearFlag & u.COLOR && (w.x = e.clearColor.x, w.y = e.clearColor.y, w.z = e.clearColor.z);
                    w.w = e.clearColor.w;
                    var C = "dsBloomPassPrefilterColor" + o,
                        m = "dsBloomPassPrefilterDS" + o;
                    l >>= 1, R >>= 1, a.containsResource(C) || (a.addRenderTarget(C, p.RGBA8, l, R, G.MANAGED), a.addDepthStencil(m, p.DEPTH_STENCIL, l, R, G.MANAGED));
                    a.updateRenderTarget(C, l, R), a.updateDepthStencil(m, l, R);
                    var N = a.addRasterPass(l, R, "bloom-prefilter");
                    if (N.name = "CameraBloomPrefilterPass" + d, N.setViewport(new S(E.x, E.y, l, R)), a.containsResource(r)) {
                        var g = new O;
                        g.name = "outputResultMap", N.addComputeView(r, g)
                    }
                    var D = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, w);
                    N.addRasterView(C, D), c.instance.material.setProperty("texSize", new s(0, 0, c.instance.threshold, 0), 0), N.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, c.instance.material, 0, F.NONE);
                    for (var f = 0; f < c.instance.iterations; ++f) {
                        var P = new s(l, R, 0, 0),
                            _ = "dsBloomPassDownSampleColor" + o + f,
                            I = "dsBloomPassDownSampleDS" + o + f;
                        l >>= 1, R >>= 1, a.containsResource(_) || (a.addRenderTarget(_, p.RGBA8, l, R, G.MANAGED), a.addDepthStencil(I, p.DEPTH_STENCIL, l, R, G.MANAGED)), a.updateRenderTarget(_, l, R), a.updateDepthStencil(I, l, R);
                        var V = a.addRasterPass(l, R, "bloom-downsample" + f);
                        V.name = "CameraBloomDownSamplePass" + d + f, V.setViewport(new S(E.x, E.y, l, R));
                        var y = new O;
                        y.name = "bloomTexture", 0 === f ? V.addComputeView(C, y) : V.addComputeView("dsBloomPassDownSampleColor" + o + (f - 1), y);
                        var B = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, w);
                        V.addRasterView(_, B), c.instance.material.setProperty("texSize", P, X + f), V.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, c.instance.material, X + f, F.NONE)
                    }
                    for (var b = 0; b < c.instance.iterations; ++b) {
                        var U = new s(l, R, 0, 0),
                            Q = "dsBloomPassUpSampleColor" + o + (c.instance.iterations - 1 - b),
                            z = "dsBloomPassUpSampleDS" + o + (c.instance.iterations - 1 - b);
                        l <<= 1, R <<= 1, a.containsResource(Q) || (a.addRenderTarget(Q, p.RGBA8, l, R, G.MANAGED), a.addDepthStencil(z, p.DEPTH_STENCIL, l, R, G.MANAGED)), a.updateRenderTarget(Q, l, R), a.updateDepthStencil(z, l, R);
                        var J = a.addRasterPass(l, R, "bloom-upsample" + b);
                        J.name = "CameraBloomUpSamplePass" + d + (c.instance.iterations - 1 - b), J.setViewport(new S(E.x, E.y, l, R));
                        var k = new O;
                        k.name = "bloomTexture", 0 === b ? J.addComputeView("dsBloomPassDownSampleColor" + o + (c.instance.iterations - 1), k) : J.addComputeView("dsBloomPassUpSampleColor" + o + (c.instance.iterations - b), k);
                        var q = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, w);
                        J.addRasterView(Q, q), c.instance.material.setProperty("texSize", U, j + b), J.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, c.instance.material, j + b, F.NONE)
                    }
                    var K = "dsBloomPassCombineColor" + o,
                        Z = "dsBloomPassCombineDS" + o;
                    l = E.width, R = E.height, a.containsResource(K) || (a.addRenderTarget(K, p.RGBA8, l, R, G.MANAGED), a.addDepthStencil(Z, p.DEPTH_STENCIL, l, R, G.MANAGED));
                    a.updateRenderTarget(K, l, R), a.updateDepthStencil(Z, l, R);
                    var $ = a.addRasterPass(l, R, "bloom-combine");
                    $.name = "CameraBloomCombinePass" + d, $.setViewport(new S(E.x, E.y, l, R));
                    var ee = new O;
                    ee.name = "outputResultMap", $.addComputeView(r, ee);
                    var ae = new O;
                    ae.name = "bloomTexture", $.addComputeView("dsBloomPassUpSampleColor" + o + 0, ae);
                    var re = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, w);
                    return $.addRasterView(K, re), c.instance.material.setProperty("texSize", new s(0, 0, 0, c.instance.intensity), Y), $.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, c.instance.material, Y, F.NONE), {
                        rtName: K,
                        dsName: Z
                    }
                },
                buildForwardPass: function(e, r, t) {
                    var i = H(e),
                        n = "Camera" + i,
                        d = ee(n, e, r),
                        o = W(e, e.window.width, e.window.height),
                        s = o.width * (t ? 1.5 : 1),
                        l = o.height * (t ? 1.5 : 1),
                        R = "dsForwardPassColor" + n,
                        E = "dsForwardPassDS" + n;
                    r.containsResource(R) || (t ? r.addRenderTarget(R, p.RGBA16F, s, l, G.MANAGED) : r.addRenderTexture(R, p.RGBA8, s, l, e.window), r.addDepthStencil(E, p.DEPTH_STENCIL, s, l, G.MANAGED));
                    t ? (r.updateRenderTarget(R, s, l), r.updateDepthStencil(E, s, l)) : (r.updateRenderWindow(R, e.window), r.updateDepthStencil(E, s, l));
                    var c = r.addRasterPass(s, l, "default");
                    c.name = "CameraForwardPass" + i, c.setViewport(new S(o.x, o.y, s, l));
                    for (var w, u = a(d.mainLightShadowNames); !(w = u()).done;) {
                        var C = w.value;
                        if (r.containsResource(C)) {
                            var m = new O("cc_shadowMap");
                            c.addComputeView(C, m)
                        }
                    }
                    for (var N, g = a(d.spotLightShadowNames); !(N = g()).done;) {
                        var D = N.value;
                        if (r.containsResource(D)) {
                            var f = new O("cc_spotShadowMap");
                            c.addComputeView(D, f)
                        }
                    }
                    var P = new x("_", v.WRITE, L.RENDER_TARGET, t ? h.CLEAR : U(e.clearFlag, L.RENDER_TARGET), A.STORE, e.clearFlag, new T(e.clearColor.x, e.clearColor.y, e.clearColor.z, e.clearColor.w)),
                        _ = new x("_", v.WRITE, L.DEPTH_STENCIL, t ? h.CLEAR : U(e.clearFlag, L.DEPTH_STENCIL), A.STORE, e.clearFlag, new T(e.clearDepth, e.clearStencil, 0, 0));
                    c.addRasterView(R, P), c.addRasterView(E, _), c.addQueue(M.RENDER_OPAQUE).addSceneOfCamera(e, new I, F.OPAQUE_OBJECT | F.PLANAR_SHADOW | F.CUTOUT_OBJECT | F.DEFAULT_LIGHTING | F.DRAW_INSTANCING);
                    var V = F.TRANSPARENT_OBJECT | F.GEOMETRY;
                    t || (V |= F.UI, c.showStatistics = !0);
                    return c.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, V), {
                        rtName: R,
                        dsName: E
                    }
                },
                buildFxaaPass: function(e, a, r) {
                    z || (z = new Q);
                    var t = H(e),
                        i = "Camera" + t,
                        n = e.window.width,
                        d = e.window.height,
                        o = W(e, n, d);
                    n = o.width, d = o.height;
                    var l = new T(0, 0, 0, 1);
                    e.clearFlag & u.COLOR && (l.x = e.clearColor.x, l.y = e.clearColor.y, l.z = e.clearColor.z);
                    l.w = e.clearColor.w;
                    var R = "dsFxaaPassColor" + i,
                        E = "dsFxaaPassDS" + i;
                    a.containsResource(R) || (a.addRenderTarget(R, p.RGBA8, n, d, G.MANAGED), a.addDepthStencil(E, p.DEPTH_STENCIL, n, d, G.MANAGED));
                    a.updateRenderTarget(R, n, d), a.updateDepthStencil(E, n, d);
                    var c = a.addRasterPass(n, d, "fxaa");
                    if (c.name = "CameraFxaaPass" + t, c.setViewport(new S(o.x, o.y, n, d)), a.containsResource(r)) {
                        var w = new O;
                        w.name = "sceneColorMap", c.addComputeView(r, w)
                    }
                    var C = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, l);
                    return c.addRasterView(R, C), z.fxaaMaterial.setProperty("texSize", new s(n, d, 1 / n, 1 / d), 0), c.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, z.fxaaMaterial, 0, F.NONE), {
                        rtName: R,
                        dsName: E
                    }
                },
                buildGBufferPass: function(e, a) {
                    var r = H(e),
                        t = W(e, e.window.width, e.window.height),
                        i = t.width,
                        n = t.height,
                        d = "gBufferPassColorCamera",
                        o = "gBufferPassNormal",
                        s = "gBufferPassEmissive",
                        l = "gBufferPassDSCamera";
                    if (!a.containsResource(d)) {
                        var R = p.RGBA16F;
                        a.addRenderTarget(d, R, i, n, G.MANAGED), a.addRenderTarget(o, R, i, n, G.MANAGED), a.addRenderTarget(s, R, i, n, G.MANAGED), a.addDepthStencil(l, p.DEPTH_STENCIL, i, n, G.MANAGED)
                    }
                    a.updateRenderTarget(d, i, n), a.updateRenderTarget(o, i, n), a.updateRenderTarget(s, i, n), a.updateDepthStencil(l, i, n);
                    var E = a.addRasterPass(i, n, "default");
                    E.name = "CameraGBufferPass" + r, E.setViewport(new S(t.x, t.y, t.width, t.height));
                    var c = new T(0, 0, 0, 0);
                    e.clearFlag & u.COLOR && (a.pipelineSceneData.isHDR ? (w = c, C = e.clearColor, w.x = C.x * C.x, w.y = C.y * C.y, w.z = C.z * C.z) : (c.x = e.clearColor.x, c.y = e.clearColor.y, c.z = e.clearColor.z));
                    var w, C;
                    var m = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, c),
                        N = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, new T(0, 0, 0, 0)),
                        g = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, new T(0, 0, 0, 0)),
                        D = new x("_", v.WRITE, L.DEPTH_STENCIL, h.CLEAR, A.STORE, e.clearFlag, new T(e.clearDepth, e.clearStencil, 0, 0));
                    E.addRasterView(d, m), E.addRasterView(o, N), E.addRasterView(s, g), E.addRasterView(l, D), E.addQueue(M.RENDER_OPAQUE).addSceneOfCamera(e, new I, F.OPAQUE_OBJECT | F.CUTOUT_OBJECT);
                    var f = new ae;
                    return f.color = d, f.normal = o, f.emissive = s, f.ds = l, f
                },
                buildLightingPass: function(e, r, t) {
                    te || (te = new re);
                    var i = H(e),
                        n = ee("Camera" + i, e, r),
                        d = W(e, e.window.width, e.window.height),
                        o = d.width,
                        s = d.height,
                        l = "deferredLightingPassRTName",
                        R = "deferredLightingPassDS";
                    r.containsResource(l) || (r.addRenderTarget(l, p.RGBA8, o, s, G.MANAGED), r.addDepthStencil(R, p.DEPTH_STENCIL, o, s, G.MANAGED));
                    r.updateRenderTarget(l, o, s), r.updateDepthStencil(R, o, s);
                    var E = r.addRasterPass(o, s, "deferred-lighting");
                    E.name = "CameraLightingPass" + i, E.setViewport(new S(d.x, d.y, o, s));
                    for (var c, w = a(n.mainLightShadowNames); !(c = w()).done;) {
                        var C = c.value;
                        if (r.containsResource(C)) {
                            var m = new O("cc_shadowMap");
                            E.addComputeView(C, m)
                        }
                    }
                    for (var N, g = a(n.spotLightShadowNames); !(N = g()).done;) {
                        var D = N.value;
                        if (r.containsResource(D)) {
                            var f = new O("cc_spotShadowMap");
                            E.addComputeView(D, f)
                        }
                    }
                    if (r.containsResource(t.color)) {
                        var P = new O;
                        P.name = "gbuffer_albedoMap", E.addComputeView(t.color, P);
                        var _ = new O;
                        _.name = "gbuffer_normalMap", E.addComputeView(t.normal, _);
                        var V = new O;
                        V.name = "gbuffer_emissiveMap", E.addComputeView(t.emissive, V);
                        var y = new O;
                        y.name = "depth_stencil", E.addComputeView(t.ds, y)
                    }
                    var B = new T(0, 0, 0, 0);
                    e.clearFlag & u.COLOR && (B.x = e.clearColor.x, B.y = e.clearColor.y, B.z = e.clearColor.z);
                    B.w = 0;
                    var b = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, B);
                    return E.addRasterView(l, b), E.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, te.deferredLightingMaterial, 0, F.VOLUMETRIC_LIGHTING), E.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, F.TRANSPARENT_OBJECT | F.PLANAR_SHADOW | F.GEOMETRY), {
                        rtName: l,
                        dsName: R
                    }
                },
                buildNativeDeferredPipeline: function(e, a) {
                    H(e);
                    var r = W(e, e.window.width, e.window.height),
                        t = r.width,
                        i = r.height;
                    a.containsResource("Albedo") || (a.addRenderTarget("Albedo", p.RGBA16F, t, i, G.MANAGED), a.addRenderTarget("Normal", p.RGBA16F, t, i, G.MANAGED), a.addRenderTarget("Emissive", p.RGBA16F, t, i, G.MANAGED), a.addDepthStencil("DepthStencil", p.DEPTH_STENCIL, t, i, G.MANAGED), a.addRenderTexture("Color", p.BGRA8, t, i, e.window));
                    te || (te = new re);
                    var n = a.addRasterPass(t, i, "default");
                    n.name = "GeometryPass", n.setViewport(new S(r.x, r.y, r.width, r.height)), n.addRasterView("Albedo", new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, u.COLOR)), n.addRasterView("Normal", new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, u.COLOR)), n.addRasterView("Emissive", new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, u.COLOR)), n.addRasterView("DepthStencil", new x("_", v.WRITE, L.DEPTH_STENCIL, h.CLEAR, A.STORE, u.DEPTH_STENCIL, new T(1, 0, 0, 0))), n.addQueue(M.RENDER_OPAQUE).addSceneOfCamera(e, new I, F.OPAQUE_OBJECT | F.CUTOUT_OBJECT);
                    var d = a.addRasterPass(t, i, "default");
                    d.name = "LightingPass", d.setViewport(new S(r.x, r.y, t, i));
                    var o = new T(0, 0, 0, 0);
                    e.clearFlag & u.COLOR && (o.x = e.clearColor.x, o.y = e.clearColor.y, o.z = e.clearColor.z);
                    o.w = 1, d.addRasterView("Color", new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, o)), d.addComputeView("Albedo", new O("gbuffer_albedoMap")), d.addComputeView("Normal", new O("gbuffer_normalMap")), d.addComputeView("Emissive", new O("gbuffer_emissiveMap")), d.addComputeView("DepthStencil", new O("depth_stencil")), d.addQueue(M.RENDER_TRANSPARENT).addCameraQuad(e, te.deferredLightingMaterial, 0, F.VOLUMETRIC_LIGHTING), d.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, F.TRANSPARENT_OBJECT | F.PLANAR_SHADOW | F.GEOMETRY)
                },
                buildNativeForwardPass: function(e, a) {
                    var r = H(e),
                        t = "Camera" + r,
                        i = W(e, e.window.width, e.window.height),
                        n = i.width,
                        d = i.height,
                        o = "dsForwardPassColor" + t,
                        s = "dsForwardPassDS" + t;
                    a.containsResource(o) || (a.addRenderTexture(o, p.BGRA8, n, d, e.window), a.addDepthStencil(s, p.DEPTH_STENCIL, n, d, G.MANAGED));
                    a.updateRenderWindow(o, e.window), a.updateDepthStencil(s, n, d);
                    var l = a.addRasterPass(n, d, "default");
                    l.name = "CameraForwardPass" + r, l.setViewport(new S(i.x, i.y, n, d));
                    var R = U(e.clearFlag, L.RENDER_TARGET),
                        E = U(e.clearFlag, L.DEPTH_STENCIL);
                    l.addRasterView(o, new x("_", v.WRITE, L.RENDER_TARGET, R, A.STORE, ie(L.RENDER_TARGET, e.clearFlag, R), new T(e.clearColor.x, e.clearColor.y, e.clearColor.z, e.clearColor.w))), l.addRasterView(s, new x("_", v.WRITE, L.DEPTH_STENCIL, E, A.STORE, ie(L.DEPTH_STENCIL, e.clearFlag, E), new T(e.clearDepth, e.clearStencil, 0, 0))), l.addQueue(M.RENDER_OPAQUE).addSceneOfCamera(e, new I, F.OPAQUE_OBJECT | F.PLANAR_SHADOW | F.CUTOUT_OBJECT | F.DEFAULT_LIGHTING | F.DRAW_INSTANCING), l.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, F.TRANSPARENT_OBJECT | F.GEOMETRY), l.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, F.UI), l.showStatistics = !0
                },
                buildOffscreenPassPass: function(e, a) {
                    var r = W(e, e.window.width, e.window.height),
                        t = r.width,
                        i = r.height,
                        n = "rtColor",
                        d = "rtDepth";
                    a.containsResource(n) || (a.addRenderTexture(n, p.RGBA8, t, i, e.window), a.addDepthStencil(d, p.DEPTH_STENCIL, t, i, G.MANAGED));
                    a.updateRenderWindow(n, e.window), a.updateDepthStencil(d, t, i);
                    var o = a.addRasterPass(t, i, "default");
                    o.name = "offscreen", o.setViewport(new S(r.x, r.y, t, i));
                    var s = new T(e.clearColor.x, e.clearColor.y, e.clearColor.z, e.clearColor.w),
                        l = new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, e.clearFlag, s),
                        R = new x("_", v.WRITE, L.DEPTH_STENCIL, h.CLEAR, A.STORE, e.clearFlag, new T(e.clearDepth, e.clearStencil, 0, 0));
                    o.addRasterView(n, l), o.addRasterView(d, R);
                    var E = F.UI;
                    return o.showStatistics = !1, o.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, E), {
                        rtName: n,
                        dsName: d
                    }
                },
                buildPostprocessPass: function(e, a, r, t) {
                    void 0 === t && (t = y.NONE);
                    (!q || q && q.antiAliasing !== t) && (q = new k(t));
                    var i = H(e),
                        n = W(e, e.window.width, e.window.height),
                        d = n.width,
                        o = n.height,
                        s = "postprocessPassRTName" + i,
                        l = "postprocessPassDS" + i;
                    a.containsResource(s) || (a.addRenderTexture(s, p.BGRA8, d, o, e.window), a.addDepthStencil(l, p.DEPTH_STENCIL, d, o, G.MANAGED));
                    a.updateRenderWindow(s, e.window), a.updateDepthStencil(l, d, o);
                    var R = a.addRasterPass(d, o, "post-process");
                    if (R.name = "CameraPostprocessPass" + i, R.setViewport(new S(n.x, n.y, n.width, n.height)), a.containsResource(r)) {
                        var E = new O;
                        E.name = "outputResultMap", R.addComputeView(r, E)
                    }
                    var c = new T(0, 0, 0, e.clearColor.w);
                    e.clearFlag & u.COLOR && (c.x = e.clearColor.x, c.y = e.clearColor.y, c.z = e.clearColor.z);
                    var w = new x("_", v.WRITE, L.RENDER_TARGET, U(e.clearFlag, L.RENDER_TARGET), A.STORE, e.clearFlag, c),
                        h = new x("_", v.WRITE, L.DEPTH_STENCIL, U(e.clearFlag, L.DEPTH_STENCIL), A.STORE, e.clearFlag, new T(e.clearDepth, e.clearStencil, 0, 0));
                    R.addRasterView(s, w), R.addRasterView(l, h), R.addQueue(M.NONE).addFullscreenQuad(q.postMaterial, 0, F.NONE), R.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, F.UI), V === e && (R.showStatistics = !0);
                    return {
                        rtName: s,
                        dsName: l
                    }
                },
                buildReflectionProbePass: Z,
                buildReflectionProbePasss: function(e, a, t) {
                    var i = r.internal.reflectionProbeManager.getProbes();
                    if (0 === i.length) return;
                    for (var n = 0; n < i.length; n++) {
                        var d = i[n];
                        if (d.needRender) {
                            for (var o = 0; o < d.bakedCubeTextures.length; o++) Z(e, a, d, d.bakedCubeTextures[o].window, o);
                            d.needRender = !1
                        }
                    }
                },
                buildShadowPass: K,
                buildShadowPasses: ee,
                buildUIPass: function(e, a) {
                    var r = H(e),
                        t = "Camera" + r,
                        i = W(e, e.window.width, e.window.height),
                        n = i.width,
                        d = i.height,
                        o = "dsUIAndProfilerPassColor" + t,
                        s = "dsUIAndProfilerPassDS" + t;
                    a.containsResource(o) || (a.addRenderTexture(o, p.BGRA8, n, d, e.window), a.addDepthStencil(s, p.DEPTH_STENCIL, n, d, G.MANAGED));
                    a.updateRenderWindow(o, e.window), a.updateDepthStencil(s, n, d);
                    var l = a.addRasterPass(n, d, "default");
                    l.name = "CameraUIAndProfilerPass" + r, l.setViewport(new S(i.x, i.y, n, d));
                    var R = new x("_", v.WRITE, L.RENDER_TARGET, U(e.clearFlag, L.RENDER_TARGET), A.STORE, e.clearFlag, new T(e.clearColor.x, e.clearColor.y, e.clearColor.z, e.clearColor.w)),
                        E = new x("_", v.WRITE, L.DEPTH_STENCIL, U(e.clearFlag, L.DEPTH_STENCIL), A.STORE, e.clearFlag, new T(e.clearDepth, e.clearStencil, 0, 0));
                    l.addRasterView(o, R), l.addRasterView(s, E);
                    var c = F.UI;
                    l.addQueue(M.RENDER_TRANSPARENT).addSceneOfCamera(e, new I, c), V === e && (l.showStatistics = !0)
                },
                decideProfilerCamera: function(e) {
                    for (var a = e.length - 1; a >= 0; --a) {
                        var r = e[a];
                        if (r.window.swapchain) return void(V = r)
                    }
                    V = null
                },
                getCameraUniqueID: H,
                getLoadOpOfClearFlag: U,
                getRenderArea: W,
                isOffscreen: function(e) {
                    var a = e.node.getComponent(w);
                    if (a) return a.IsOffscreen;
                    return !1
                },
                isUICamera: function(e) {
                    var a = e.node.getComponent(w);
                    if (a) return a.IsUICamera;
                    for (var r = e.scene.batches, t = 0; t < r.length; t++) {
                        var i = r[t];
                        if (e.visibility & i.visFlags) return !0
                    }
                    return !1
                },
                updateCameraUBO: ne,
                validPunctualLightsCulling: B
            }), r._RF.push({}, "7b152ZztNhNzaFEYj5NrZhK", "PassUtils", void 0);
            var u = t.ClearFlagBit,
                T = t.Color,
                h = t.LoadOp,
                p = t.Format,
                C = t.Rect,
                A = t.StoreOp,
                S = t.Viewport,
                m = i.scene,
                N = m.Camera,
                g = m.CSMLevel,
                D = m.LightType,
                f = m.ShadowType,
                P = m.SKYBOX_FLAG,
                _ = n.supportsR32FloatTexture,
                v = d.AccessType,
                L = d.AttachmentType,
                O = d.ComputeView,
                I = d.LightInfo,
                M = d.QueueHint,
                x = d.RasterView,
                G = d.ResourceResidency,
                F = d.SceneFlags;
            var V = null;
            var y = e("AntiAliasing", function(e) {
                return e[e.NONE = 0] = "NONE", e[e.FXAA = 1] = "FXAA", e[e.FXAAHQ = 2] = "FXAAHQ", e
            }({}));

            function B(e, a) {
                var r = e.pipelineSceneData.validPunctualLights;
                r.length = 0;
                for (var t = o.Sphere.create(0, 0, 0, 1), i = a.scene.spotLights, n = 0; n < i.length; n++) {
                    var d = i[n];
                    d.baked || (o.Sphere.set(t, d.position.x, d.position.y, d.position.z, d.range), o.intersect.sphereFrustum(t, a.frustum) && r.push(d))
                }
                for (var s = a.scene.sphereLights, l = 0; l < s.length; l++) {
                    var R = s[l];
                    R.baked || (o.Sphere.set(t, R.position.x, R.position.y, R.position.z, R.range), o.intersect.sphereFrustum(t, a.frustum) && r.push(R))
                }
            }
            var b = [];

            function H(e) {
                return -1 === b.indexOf(e) && b.push(e), b.indexOf(e)
            }

            function U(e, a) {
                var r = h.CLEAR;
                return e & u.COLOR || a !== L.RENDER_TARGET || (r = e & P ? h.CLEAR : h.LOAD), (e & u.DEPTH_STENCIL) !== u.DEPTH_STENCIL && a === L.DEPTH_STENCIL && (e & u.DEPTH || (r = h.LOAD), e & u.STENCIL || (r = h.LOAD)), r
            }

            function W(e, a, t, i, n) {
                void 0 === i && (i = null), void 0 === n && (n = 0);
                var d = new C,
                    o = e ? e.viewport : new C(0, 0, 1, 1),
                    s = a,
                    l = t;
                if (d.x = o.x * s, d.y = o.y * l, d.width = o.width * s, d.height = o.height * l, i) switch (i.type) {
                    case D.DIRECTIONAL:
                        var R = i;
                        if (R.shadowFixedArea || R.csmLevel === g.LEVEL_1) d.x = 0, d.y = 0, d.width = s, d.height = l;
                        else {
                            var E = r.director.root.device.capabilities.screenSpaceSignY;
                            d.x = n % 2 * .5 * s, d.y = E ? .5 * (1 - Math.floor(n / 2)) * l : .5 * Math.floor(n / 2) * l, d.width = .5 * s, d.height = .5 * l
                        }
                        break;
                    case D.SPOT:
                        d.x = 0, d.y = 0, d.width = s, d.height = l
                }
                return d
            }
            var Q = function() {
                    var e = a.prototype;

                    function a() {
                        this.fxaaMaterial = void 0, this._init()
                    }
                    return e._updateFxaaPass = function() {
                        if (this.fxaaMaterial) {
                            var e = this.fxaaMaterial.passes[0];
                            e.beginChangeStatesSilently(), e.tryCompile(), e.endChangeStatesSilently()
                        }
                    }, e._init = function() {
                        if (!this.fxaaMaterial) {
                            this.fxaaMaterial = new R, this.fxaaMaterial._uuid = "builtin-fxaa-material", this.fxaaMaterial.initialize({
                                effectName: "pipeline/fxaa-hq"
                            });
                            for (var e = 0; e < this.fxaaMaterial.passes.length; ++e) this.fxaaMaterial.passes[e].tryCompile();
                            this._updateFxaaPass()
                        }
                    }, a
                }(),
                z = null;
            var J = e("MAX_BLOOM_FILTER_PASS_NUM", 6),
                X = (e("BLOOM_PREFILTERPASS_INDEX", 0), e("BLOOM_DOWNSAMPLEPASS_INDEX", 1)),
                j = e("BLOOM_UPSAMPLEPASS_INDEX", X + J),
                Y = e("BLOOM_COMBINEPASS_INDEX", j + J);
            var k = function() {
                    function e(e) {
                        void 0 === e && (e = y.NONE), this.postMaterial = void 0, this.antiAliasing = y.NONE, this.antiAliasing = e, this._init()
                    }
                    return e.prototype._init = function() {
                        this.postMaterial = new R, this.postMaterial.name = "builtin-post-process-material", E.ENABLE_ANTIALIAS_FXAA && (this.antiAliasing = y.FXAA), this.postMaterial.initialize({
                            effectName: "pipeline/post-process",
                            defines: {
                                ANTIALIAS_TYPE: this.antiAliasing
                            }
                        });
                        for (var e = 0; e < this.postMaterial.passes.length; ++e) this.postMaterial.passes[e].tryCompile()
                    }, e
                }(),
                q = null;

            function K(e, a, r, t, i, n, d) {
                var o = n,
                    s = d,
                    l = W(r, n, d, t, i);
                n = l.width, d = l.height;
                var R = a.device,
                    E = e;
                if (!a.containsResource(E)) {
                    var c = _(R) ? p.R32F : p.RGBA8;
                    a.addRenderTarget(E, c, o, s, G.MANAGED), a.addDepthStencil(E + "Depth", p.DEPTH_STENCIL, o, s, G.MANAGED)
                }
                a.updateRenderTarget(E, o, s), a.updateDepthStencil(E + "Depth", o, s);
                var w = a.addRasterPass(n, d, "default");
                w.name = e, w.setViewport(new S(l.x, l.y, l.width, l.height)), w.addRasterView(E, new x("_", v.WRITE, L.RENDER_TARGET, h.CLEAR, A.STORE, u.COLOR, new T(1, 1, 1, r.clearColor.w))), w.addRasterView(E + "Depth", new x("_", v.WRITE, L.DEPTH_STENCIL, h.CLEAR, A.DISCARD, u.DEPTH_STENCIL, new T(r.clearDepth, r.clearStencil, 0, 0))), w.addQueue(M.RENDER_OPAQUE).addSceneOfCamera(r, new I(t, i), F.SHADOW_CASTER)
            }

            function Z(e, a, r, t, i) {
                var n = "Camera" + i,
                    d = r.renderArea(),
                    o = d.x,
                    s = d.y,
                    l = r.camera,
                    R = "reflectionProbePassColor" + n,
                    E = "reflectionProbePassDS" + n;
                r.updateCameraDir(i), a.containsResource(R) || (a.addRenderTexture(R, p.RGBA8, o, s, t), a.addDepthStencil(E, p.DEPTH_STENCIL, o, s, G.MANAGED)), a.updateRenderWindow(R, t), a.updateDepthStencil(E, o, s);
                var c = a.addRasterPass(o, s, "default");
                c.name = "ReflectionProbePass" + i, c.setViewport(new S(0, 0, o, s));
                var w = new x("_", v.WRITE, L.RENDER_TARGET, U(l.clearFlag, L.RENDER_TARGET), A.STORE, l.clearFlag, new T(l.clearColor.x, l.clearColor.y, l.clearColor.z, l.clearColor.w)),
                    u = new x("_", v.WRITE, L.DEPTH_STENCIL, U(l.clearFlag, L.DEPTH_STENCIL), A.STORE, l.clearFlag, new T(l.clearDepth, l.clearStencil, 0, 0));
                c.addRasterView(R, w), c.addRasterView(E, u);
                var h = c.addQueue(M.RENDER_OPAQUE);
                h.addSceneOfCamera(e, new I, F.REFLECTION_PROBE), ne(h, l, a)
            }
            var $ = function() {
                this.shadowEnabled = !1, this.mainLightShadowNames = new Array, this.spotLightShadowNames = new Array
            };

            function ee(e, a, r) {
                B(r, a);
                var t = r,
                    i = t.pipelineSceneData.shadows,
                    n = r.pipelineSceneData.validPunctualLights,
                    d = new $,
                    o = r.pipelineSceneData.shadows;
                if (!i.enabled || i.type !== f.ShadowMap) return d;
                d.shadowEnabled = !0;
                for (var s = [], l = 0, R = 0; l < i.maxReceived && R < n.length;) {
                    var E = n[R];
                    if (E.type === D.SPOT) E.shadowEnabled && (s.push(E), l++);
                    R++
                }
                var c = a.scene.mainLight,
                    w = o.size.x,
                    u = o.size.y;
                if (c && c.shadowEnabled)
                    if (d.mainLightShadowNames[0] = "MainLightShadow" + e, c.shadowFixedArea) K(d.mainLightShadowNames[0], r, a, c, 0, w, u);
                    else
                        for (var T = t.pipelineSceneData.csmSupported ? c.csmLevel : 1, h = 0; h < T; h++) d.mainLightShadowNames[h] = "MainLightShadow" + e, K(d.mainLightShadowNames[h], r, a, c, h, w, u);
                for (var p = 0; p < s.length; p++) {
                    var C = s[p],
                        A = "SpotLightShadow" + p.toString() + e;
                    d.spotLightShadowNames[p] = A, K(A, r, a, C, 0, w, u)
                }
                return d
            }
            var ae = e("GBufferInfo", (function() {
                this.color = void 0, this.normal = void 0, this.emissive = void 0, this.ds = void 0
            }));
            var re = function() {
                    function e() {
                        this.deferredLightingMaterial = void 0, this._init()
                    }
                    return e.prototype._init = function() {
                        this.deferredLightingMaterial = new R, this.deferredLightingMaterial.name = "builtin-deferred-material", this.deferredLightingMaterial.initialize({
                            effectName: "pipeline/deferred-lighting",
                            defines: {
                                CC_RECEIVE_SHADOW: 1
                            }
                        });
                        for (var e = 0; e < this.deferredLightingMaterial.passes.length; ++e) this.deferredLightingMaterial.passes[e].tryCompile()
                    }, e
                }(),
                te = null;

            function ie(e, a, r) {
                switch (e) {
                    case L.DEPTH_STENCIL:
                        return r === h.CLEAR ? a & u.DEPTH_STENCIL ? a : u.DEPTH_STENCIL : u.NONE;
                    case L.RENDER_TARGET:
                    default:
                        return r === h.CLEAR ? u.COLOR : u.NONE
                }
            }

            function ne(e, a, t) {
                var i = r.director.root.pipeline,
                    n = t.pipelineSceneData,
                    d = n.skybox;
                e.addConstant("CCCamera"), e.setMat4("cc_matView", a.matView), e.setMat4("cc_matViewInv", a.node.worldMatrix), e.setMat4("cc_matProj", a.matProj), e.setMat4("cc_matProjInv", a.matProjInv), e.setMat4("cc_matViewProj", a.matViewProj), e.setMat4("cc_matViewProjInv", a.matViewProjInv), e.setVec4("cc_cameraPos", new s(a.position.x, a.position.y, a.position.z, i.getCombineSignY())), e.setVec4("cc_surfaceTransform", new s(a.surfaceTransform, 0, Math.cos(l(d.getRotationAngle())), Math.sin(l(d.getRotationAngle())))), e.setVec4("cc_screenScale", new s(n.shadingScale, n.shadingScale, 1 / n.shadingScale, 1 / n.shadingScale)), e.setVec4("cc_exposure", new s(a.exposure, 1 / a.exposure, n.isHDR ? 1 : 0, 1 / N.standardExposureValue))
            }
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PathMover.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./moverManager.ts"], (function(t) {
    var e, i, a, s, r, h, n, o, c, p, l;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, a = t.initializerDefineProperty, s = t.assertThisInitialized, r = t.createClass
        }, function(t) {
            h = t.cclegacy, n = t._decorator, o = t.Node, c = t.Component
        }, function(t) {
            p = t.DGEvent
        }, function(t) {
            l = t.MoverManager
        }],
        execute: function() {
            var m, u, d, _, v, f, y, T;
            h._RF.push({}, "0d0d5ySE21A8ayfMAXaYmtv", "PathMover", void 0);
            var P = n.ccclass,
                g = n.property;
            t("PathMover", (m = P("PathMover"), u = g(o), m(((T = function(t) {
                function e() {
                    for (var e, i = arguments.length, r = new Array(i), h = 0; h < i; h++) r[h] = arguments[h];
                    return e = t.call.apply(t, [this].concat(r)) || this, a(e, "mover", f, s(e)), a(e, "speed", y, s(e)), e._distance = 0, e._path = [], e._pathStartTimes = [], e._pathStartTime = 0, e._dispatchedPathCompleted = !1, e._cycleTime = 0, e
                }
                i(e, t);
                var h = e.prototype;
                return h.id = function() {
                    return this._id
                }, h.start = function() {}, h.reset = function() {
                    this._path = [], this._distance = 0, this._pathStartTimes = [], this._pathStartTime = 0, this._dispatchedPathCompleted = !1, this._cycleTime = 0
                }, h.onSpawnedFromPool = function() {
                    this.reset()
                }, h.onReturnToPool = function() {
                    this.reset(), l.Instance.removeMover(this)
                }, h.startPath = function(t, e) {
                    if (l.Instance.addMover(this), t.length < 2) l.Instance.removeMover(this);
                    else {
                        this._path = t, this._dispatchedPathCompleted = !1, this._pathStartTime = e / 1e3, this._distance = 0;
                        for (var i = [], a = 0; a < this._path.length - 1; ++a) {
                            var s = this._path[a + 1].clone().subtract(this._path[a]).length();
                            this._distance += s, i.push(s)
                        }
                        this._cycleTime = this._distance / this.speed;
                        for (var r = 0, h = 0; h < i.length; ++h) {
                            this._pathStartTimes.push(r), r += i[h] / this._distance * this._cycleTime
                        }
                        this._pathStartTimes.push(r)
                    }
                }, h.move = function(t, i, a) {
                    if (!(this._path.length < 2)) {
                        var s = i - this._pathStartTime;
                        if (s < this._cycleTime) {
                            for (var r = s % this._cycleTime, h = 0, n = 0; n < this._pathStartTimes.length && this._pathStartTimes[n] < r; ++n) h = n;
                            var o = this._pathStartTimes[h + 1] - this._pathStartTimes[h],
                                c = r - this._pathStartTimes[h],
                                p = this._path[h].clone(),
                                l = this._path[h + 1].clone(),
                                m = this.mover ? this.mover : this.node,
                                u = l.subtract(p).multiplyScalar(c / o).add(p);
                            m.setPosition(u)
                        } else {
                            (this.mover ? this.mover : this.node).setPosition(this._path[this._path.length - 1]), this._dispatchedPathCompleted || (this._dispatchedPathCompleted = !0, this.node.emit(e.evtOnPathCompleted))
                        }
                    }
                }, r(e, [{
                    key: "cycleTime",
                    get: function() {
                        return this._cycleTime
                    }
                }]), e
            }(c)).evtOnPathCompleted = void 0, e(_ = T, "evtOnPathCompleted", [p], (v = (v = Object.getOwnPropertyDescriptor(_, "evtOnPathCompleted")) ? v.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return v
                }
            }), _), f = e(_.prototype, "mover", [u], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), y = e(_.prototype, "speed", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), d = _)) || d));
            h._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/physics.ts", ["cc"], (function(e) {
    var l;
    return {
        setters: [function(e) {
            l = e.cclegacy
        }],
        execute: function() {
            l._RF.push({}, "0d0f5iKHqtHlquYDuXAXzSs", "physics", void 0);
            e("PhysicsGroups", function(e) {
                return e[e.Default = 1] = "Default", e[e.Ball = 2] = "Ball", e[e.BallPick = 4] = "BallPick", e[e.CourseGround = 8] = "CourseGround", e[e.GhostBall = 16] = "GhostBall", e[e.KillPlane = 32] = "KillPlane", e[e.TeleportIgnore = 64] = "TeleportIgnore", e[e.SpawnablePrefab = 128] = "SpawnablePrefab", e
            }({}));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Placeable.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./prefabManager.ts", "./GolfMode.ts", "./BallHandler.ts", "./gameManager.ts"], (function(e) {
    var t, n, i, o, a, r, s, c, l, d, h, u, f;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, r = e._decorator, s = e.Prefab, c = e.Collider, l = e.Component
        }, function(e) {
            d = e.PrefabManager
        }, function(e) {
            h = e.cGameStateUpdate
        }, function(e) {
            u = e.BallHandler
        }, function(e) {
            f = e.GameManager
        }],
        execute: function() {
            var p, v, g, y, D;
            a._RF.push({}, "2b36eqDbr9BCorn6a9DpiKX", "Placeable", void 0);
            var _ = r.ccclass,
                b = r.property;
            e("Placeable", (p = _("Placeable"), v = b(s), p((D = t((y = function(e) {
                function t() {
                    for (var t, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    return t = e.call.apply(e, [this].concat(a)) || this, i(t, "fxToSpawnOnActivate", D, o(t)), t._collider = void 0, t._isDestroyed = !1, t
                }
                n(t, e);
                var a = t.prototype;
                return a.start = function() {
                    this._collider = this.node.getComponent(c), this._collider && this._collider.on("onTriggerEnter", this.onTriggerEnter, this), f.Instance.currentMode.node.on(h, this.onGameStateUpdate, this), f.Instance.currentMode.isPlaceableDestroyed(this.node.position.toString()) && (this._isDestroyed = !0, this.node.active = !1)
                }, a.onDestroy = function() {
                    var e, t;
                    null == (e = f.Instance.currentMode) || null == (t = e.node) || t.off(h, this.onGameStateUpdate, this)
                }, a.onTriggerEnter = function(e) {
                    if (!this._isDestroyed && e.selfCollider == this._collider) {
                        var t = e.otherCollider.node.getComponent(u);
                        if (null != t && t.owner.local && this.canActivate(t)) {
                            if (this.activate(t), this.fxToSpawnOnActivate) {
                                var n = d.Instance.getInstance(this.fxToSpawnOnActivate);
                                n.worldPosition = this.node.worldPosition, this.node.scene.addChild(n)
                            }
                            f.Instance.currentMode.SendMarkPlaceableDestroyed(this.node.position.toString()), this._isDestroyed = !0, this.node.active = !1
                        }
                    }
                }, a.onGameStateUpdate = function(e) {
                    if (f.Instance.currentMode.isPlaceableDestroyed(this.node.position.toString())) {
                        if (!this._isDestroyed && this.fxToSpawnOnActivate) {
                            var t = d.Instance.getInstance(this.fxToSpawnOnActivate);
                            t.worldPosition = this.node.worldPosition, this.node.scene.addChild(t)
                        }
                        this._isDestroyed = !0, this.node.active = !1
                    } else this._isDestroyed && (this.node.active = !0, this._isDestroyed = !1)
                }, a.activate = function(e) {}, a.canActivate = function(e) {
                    return !0
                }, t
            }(l)).prototype, "fxToSpawnOnActivate", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), g = y)) || g));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PlayAudioOnCollision.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts"], (function(o) {
    var t, i, n, e, r, l, s, u, a, c, p;
    return {
        setters: [function(o) {
            t = o.applyDecoratedDescriptor, i = o.inheritsLoose, n = o.initializerDefineProperty, e = o.assertThisInitialized, r = o.createClass
        }, function(o) {
            l = o.cclegacy, s = o._decorator, u = o.Collider, a = o.Component
        }, function(o) {
            c = o.AudioEventType, p = o.AudioController
        }],
        execute: function() {
            var d, y, f, v, h;
            l._RF.push({}, "dc3e5fnkDNCzZmG20IMdDZD", "PlayAudioOnCollision", void 0);
            var C = s.ccclass,
                _ = s.property,
                g = s.type;
            o("PlayAudioOnCollision", (d = C("PlayAudioOnCollision"), y = g(c), d((t((v = function(o) {
                function t() {
                    for (var t, i = arguments.length, r = new Array(i), l = 0; l < i; l++) r[l] = arguments[l];
                    return t = o.call.apply(o, [this].concat(r)) || this, n(t, "_audioEvent", h, e(t)), t._collider = null, t
                }
                i(t, o);
                var l = t.prototype;
                return l.start = function() {
                    this._collider = this.getComponent(u), this._collider.on("onCollisionEnter", this.onCollision, this)
                }, l.onCollision = function(o) {
                    p.Instance.triggerAudio(this._audioEvent)
                }, r(t, [{
                    key: "audioEvent",
                    get: function() {
                        return this._audioEvent
                    },
                    set: function(o) {
                        this._audioEvent = o
                    }
                }]), t
            }(a)).prototype, "audioEvent", [y], Object.getOwnPropertyDescriptor(v.prototype, "audioEvent"), v.prototype), h = t(v.prototype, "_audioEvent", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {}
            }), f = v)) || f));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PlayerNameplate.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(a) {
    var e, t, r, i, n, s, o, l, h, p, u, c;
    return {
        setters: [function(a) {
            e = a.applyDecoratedDescriptor, t = a.inheritsLoose, r = a.initializerDefineProperty, i = a.assertThisInitialized, n = a.createClass
        }, function(a) {
            s = a.cclegacy, o = a._decorator, l = a.Sprite, h = a.Label, p = a.CCInteger, u = a.Component
        }, function(a) {
            c = a.GameManager
        }],
        execute: function() {
            var v, m, y, f, d, g, I, b, _, N;
            s._RF.push({}, "e115avMbkVF/6HhcC4dPaX5", "PlayerNameplate", void 0);
            var A = o.ccclass,
                C = o.property;
            a("PlayerNameplate", (v = A("PlayerNameplate"), m = C(l), y = C(h), f = C({
                type: p,
                step: 1
            }), v((I = e((g = function(a) {
                function e() {
                    for (var e, t = arguments.length, n = new Array(t), s = 0; s < t; s++) n[s] = arguments[s];
                    return e = a.call.apply(a, [this].concat(n)) || this, r(e, "avatarImage", I, i(e)), r(e, "playerName", b, i(e)), r(e, "maxNameCharCount", _, i(e)), r(e, "hideAvatarImageWhenNotAttached", N, i(e)), e.player = void 0, e._initialized = !1, e._support = [], e
                }
                t(e, a);
                var s = e.prototype;
                return s.start = function() {
                    for (var a in this._initialized = !0, this.refreshPlayerInfo(), this.node.components) {
                        var e = this.node.components[a];
                        "nameplate" in e && this._support.push(e)
                    }
                    for (var a in this._support) this._support[a].nameplate = this, this.player && this._support[a].attachToPlayer(this.player)
                }, s.setUser = function(a) {
                    if (this.player && this.player != a && this.cancelAvatarRequest(), this.player = a, this._initialized)
                        for (var e in this.refreshPlayerInfo(), this._support) this._support[e].attachToPlayer(this.player)
                }, s.refreshPlayerInfo = function() {
                    if (this.player) {
                        var a, e = null == (a = this.player) ? void 0 : a.getUser();
                        if (e) {
                            if (this.playerName) {
                                var t = e.username;
                                this.maxNameCharCount > 0 && t.length > this.maxNameCharCount && (t = t.slice(0, this.maxNameCharCount) + "..."), this.playerName.string = t
                            }
                            e.avatar_url && c.Instance.avatarManager.requestAvatarSpriteFrame(e.avatar_url, this.onAvatarLoaded.bind(this))
                        }
                    } else this.hideAvatarImageWhenNotAttached && this.avatarImage && (this.avatarImage.node.active = !1)
                }, s.onAvatarLoaded = function(a) {
                    a && this.avatarImage && (this.avatarImage.node.active = !0, this.avatarImage.spriteFrame = a)
                }, s.cancelAvatarRequest = function() {
                    if (this.player) {
                        var a = this.player.getUser();
                        a && c.Instance.avatarManager.cancelAvatarRequest(a.avatar_url, this.onAvatarLoaded.bind(this))
                    }
                }, s.onDestroy = function() {
                    this.cancelAvatarRequest()
                }, n(e, [{
                    key: "playerId",
                    get: function() {
                        var a, e;
                        return null == (a = this.player) || null == (e = a.getUser()) ? void 0 : e.id
                    }
                }]), e
            }(u)).prototype, "avatarImage", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), b = e(g.prototype, "playerName", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = e(g.prototype, "maxNameCharCount", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -1
                }
            }), N = e(g.prototype, "hideAvatarImageWhenNotAttached", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), d = g)) || d));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PlayerNameplateManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./UIWorldspaceNameplate.ts", "./PlayerNameplate.ts"], (function(e) {
    var a, t, l, i, n, r, s, o, p, d, h, c, m, u, y;
    return {
        setters: [function(e) {
            a = e.applyDecoratedDescriptor, t = e.inheritsLoose, l = e.initializerDefineProperty, i = e.assertThisInitialized, n = e.createClass
        }, function(e) {
            r = e.cclegacy, s = e._decorator, o = e.Prefab, p = e.instantiate, d = e.Component
        }, function(e) {
            h = e.GameManager
        }, function(e) {
            c = e.cPlayerVisualAdded, m = e.cPlayerVisualRemoved
        }, function(e) {
            u = e.UIWorldspaceNameplate
        }, function(e) {
            y = e.PlayerNameplate
        }],
        execute: function() {
            var g, f, N, v, P;
            r._RF.push({}, "4ebe7xw5RRFipCyommKZGBc", "PlayerNameplateManager", void 0);
            var _ = s.ccclass,
                b = s.property;
            e("PlayerNameplateManager", (g = _("PlayerNameplateManager"), f = b(o), g((P = a((v = function(e) {
                function a() {
                    for (var a, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    return (a = e.call.apply(e, [this].concat(n)) || this)._playerToNameplate = new Map, l(a, "nameplatePrefab", P, i(a)), a._isShowingAllNameplates = void 0, a
                }
                t(a, e);
                var r = a.prototype;
                return r.start = function() {
                    this._isShowingAllNameplates = !0, h.Instance.currentMode.node.on(c, this.addPlayer, this), h.Instance.currentMode.node.on(m, this.removePlayer, this)
                }, r.addPlayer = function(e, a) {
                    if (null != this.nameplatePrefab && !e.local) {
                        var t = null;
                        this._playerToNameplate.has(e.uid) ? t = this._playerToNameplate.get(e.uid) : (t = p(this.nameplatePrefab), this._playerToNameplate.set(e.uid, t), this.node.addChild(t));
                        var l = t.getComponent(u);
                        t.getComponent(y).setUser(e), this._isShowingAllNameplates && (l.desiredVisibility = !0, l.disableHoverOver(), l.show())
                    }
                }, r.removePlayer = function(e) {
                    var a = this._playerToNameplate.get(e.uid);
                    a && (this._playerToNameplate.delete(e.uid), a.removeFromParent(), a.destroy())
                }, r.hideAllNameplates = function() {
                    for (var e = 0; e < this.node.children.length; e++) {
                        var a = this.node.children[e].getComponent(u);
                        a.desiredVisibility = !1, a.enableHoverOver(), a.hide()
                    }
                    this._isShowingAllNameplates = !1
                }, r.displayAllNameplates = function() {
                    for (var e = 0; e < this.node.children.length; e++) {
                        var a = this.node.children[e].getComponent(u);
                        a.desiredVisibility = !0, a.disableHoverOver(), a.show()
                    }
                    this._isShowingAllNameplates = !0
                }, r.toggleNameplates = function() {
                    this._isShowingAllNameplates ? this.hideAllNameplates() : this.displayAllNameplates()
                }, n(a, [{
                    key: "IsShowingAllNameplates",
                    get: function() {
                        return this._isShowingAllNameplates
                    }
                }]), a
            }(d)).prototype, "nameplatePrefab", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), N = v)) || N));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PlayerPixelParticle.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./gameManager.ts"], (function(t) {
    var e, i, r, a, s, n, o, l, c, u, h, f, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, r = t.initializerDefineProperty, a = t.assertThisInitialized
        }, function(t) {
            s = t.cclegacy, n = t._decorator, o = t.ParticleSystemComponent, l = t.Vec2, c = t.Vec3, u = t.Color, h = t.Component
        }, function(t) {
            f = t.BallState
        }, function(t) {
            p = t.GameManager
        }],
        execute: function() {
            var P, g, d, y, m, b, v, S;
            s._RF.push({}, "ed3d54VlYJKea4cwz+Pa6mg", "PlayerPixelParticle", void 0);
            var _ = n.ccclass,
                w = n.property;
            t("PlayerPixelParticle", (P = _("PlayerPixelParticle"), g = w([o]), d = w(o), P((b = e((m = function(t) {
                function e() {
                    for (var e, i = arguments.length, s = new Array(i), n = 0; n < i; n++) s[n] = arguments[n];
                    return (e = t.call.apply(t, [this].concat(s)) || this).target = null, r(e, "offset", b, a(e)), r(e, "particleSystems", v, a(e)), r(e, "burstParticle", S, a(e)), e._texSize = new l(512, 512), e._texOffset = new l(-256, 256), e._lastPos = new c(0, 0, 0), e._startRate = 0, e._startSpeed = 0, e
                }
                i(e, t);
                var s = e.prototype;
                return s.GetTarget = function() {
                    return this.target
                }, s.start = function() {
                    var t;
                    this.particleSystems.length > 0 && null != (t = this.particleSystems[0]) && t.isValid && (this._startRate = this.particleSystems[0].rateOverDistance.constant, this._startSpeed = this.particleSystems[0].startSpeed.getMax())
                }, s.update = function(t) {
                    var e, i = this;
                    p.Instance.currentMode;
                    if (null != (e = this.target) && e.isValid) {
                        var r = this.target.node.worldPosition,
                            a = r.clone().subtract(this._lastPos);
                        a.y = 0;
                        var s, n, o = new c(r.x + 3 * a.x, r.y, r.z + 3 * a.z),
                            l = this.getCanvasPositionFromWorldPosition(o);
                        if (this.target.InAir || this.target.animating ? this.particleSystems.forEach((function(t) {
                                t.rateOverDistance.constant = 0
                            })) : this.particleSystems.forEach((function(t) {
                                t.rateOverDistance.constant = i._startRate;
                                var e = Math.min(a.length(), .5) / .5,
                                    r = i._startSpeed * e;
                                t.startSpeed.multiplier = r
                            })), this.node.position = l, a.length() > .05) {
                            var u = a.normalize();
                            this.node.lookAt(this.node.worldPosition.clone().add(c.FORWARD), new c(u.x, u.z, 0))
                        }
                        if (this.target.state != f.Idle || this.target.inHole || this.target.animating || !this.target.owner.local) null != (s = this.burstParticle) && s.isValid && (this.burstParticle.loop = !1);
                        else null != (n = this.burstParticle) && n.isPlaying || (this.burstParticle.play(), this.burstParticle.loop = !0);
                        this._lastPos = r.clone()
                    }
                }, s.SetTarget = function(t) {
                    var e, i = this;
                    if (this.target = t, this._lastPos = this.target.node.worldPosition.clone(), this.particleSystems.forEach((function(t) {
                            t.startColor.color = i.target.color
                        })), null != (e = this.burstParticle) && e.isValid) {
                        var r = new u;
                        u.lerp(r, this.target.color, u.WHITE, .3), r.a = 128, this.burstParticle.startColor.color = r
                    }
                }, s.getCanvasPositionFromWorldPosition = function(t) {
                    return new c(this._texOffset.x - 2 * this.offset.x + 2 * t.x, this._texOffset.y - 2 * this.offset.y + 2 * t.z, 0)
                }, e
            }(h)).prototype, "offset", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l(0, 0)
                }
            }), v = e(m.prototype, "particleSystems", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), S = e(m.prototype, "burstParticle", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), y = m)) || y));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PlayerVirtualCamera.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./VirtualCamera.ts", "./ModalWindowManager.ts", "./CameraNoise.ts", "./gameManager.ts", "./utils.ts"], (function(t) {
    var e, i, o, n, a, r, s, l, h, g, u, c, _, m, d, p, b, P;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized, a = t.createClass
        }, function(t) {
            r = t.cclegacy, s = t._decorator, l = t.CCFloat, h = t.Vec2, g = t.math, u = t.Vec3, c = t.Quat, _ = t.game
        }, function(t) {
            m = t.VirtualCamera
        }, function(t) {
            d = t.ModalWindowManager
        }, function(t) {
            p = t.CameraNoise
        }, function(t) {
            b = t.GameManager
        }, function(t) {
            P = t.isMobile
        }],
        execute: function() {
            var f, z, M, B, A, v, y, w, x, O, R, S, C, Z;
            r._RF.push({}, "18920qoEhtCJan5ILTzgKxh", "PlayerVirtualCamera", void 0);
            var k = s.ccclass,
                I = s.property,
                V = 1 / 60;
            t("PlayerVirtualCamera", (f = k("PlayerVirtualCamera"), z = I(l), M = I(l), f((v = e((A = function(t) {
                function e() {
                    for (var e, i = arguments.length, a = new Array(i), r = 0; r < i; r++) a[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(a)) || this, o(e, "look_at_target_offset", v, n(e)), o(e, "followTargetSpeed", y, n(e)), o(e, "zoomSensitivity", w, n(e)), o(e, "zoomMin", x, n(e)), o(e, "zoomMax", O, n(e)), o(e, "bottomRigRadius", R, n(e)), o(e, "bottomRigHeight", S, n(e)), o(e, "topRigRadius", C, n(e)), o(e, "topRigHeight", Z, n(e)), e._dtAccum = 0, e._noiseComponent = void 0, e._xzOrbitAngle = 0, e._rigBlendPos = 0, e._zoomBlendPos = 0, e._targetXZOrbitAngle = null, e._targetRigBlendPos = null, e._targetZoomBlendPos = null, e
                }
                i(e, t);
                var r = e.prototype;
                return r.onLoad = function() {
                    this._noiseComponent = this.getComponent(p)
                }, r.startLevel = function(t) {}, r.debugSetCameraFromHoleConfig = function(t) {
                    this._xzOrbitAngle = t.xzOrbitAngleRadians, this._zoomBlendPos = t.zoomBlendPosition, this._rigBlendPos = t.rigBlendPosition, this.MutateCameraState(this._cameraState, new h, -1)
                }, r.setCameraFromHoleConfig = function(t) {
                    this._targetRigBlendPos = t.rigBlendPosition, this._targetZoomBlendPos = t.zoomBlendPosition, this._targetXZOrbitAngle = t.xzOrbitAngleRadians, this._targetXZOrbitAngle = g.repeat(this._targetXZOrbitAngle, 2 * Math.PI), this._xzOrbitAngle = g.repeat(this._xzOrbitAngle, 2 * Math.PI);
                    var e = this._targetXZOrbitAngle - this._xzOrbitAngle;
                    e > Math.PI ? this._targetXZOrbitAngle -= 2 * Math.PI : e < -Math.PI && (this._xzOrbitAngle -= 2 * Math.PI)
                }, r.MutateCameraState = function(t, e, i) {
                    this.target && this.target.active && this.target.worldPosition && (t.lookAtPos = i > 0 ? u.lerp(new u, t.lookAtPos, this.target.worldPosition.clone().add(this.look_at_target_offset), this.followTargetSpeed * i) : this.target.worldPosition.clone().add(this.look_at_target_offset)), this._xzOrbitAngle -= .01 * e.x, this._xzOrbitAngle = g.repeat(this._xzOrbitAngle + 2 * Math.PI, 4 * Math.PI) - 2 * Math.PI, this._rigBlendPos += .01 * e.y, this._rigBlendPos = g.clamp(this._rigBlendPos, 0, 1);
                    var o = g.lerp(this.bottomRigRadius, this.topRigRadius, this._rigBlendPos),
                        n = g.lerp(this.zoomMin, this.zoomMax, this._zoomBlendPos),
                        a = Math.cos(this._xzOrbitAngle) * o * n,
                        r = Math.sin(this._xzOrbitAngle) * o * n,
                        s = g.lerp(this.bottomRigHeight, this.topRigHeight, this._rigBlendPos) * n,
                        l = t.lookAtPos.clone();
                    l.z += a, l.x += r, l.y += s, t.position = l;
                    var h = t.position.clone().subtract(t.lookAtPos);
                    t.rotation = c.fromViewUp(new c, h.normalize())
                }, r.update = function(t) {
                    for (this._dtAccum += t; this._dtAccum >= V;) {
                        var e = V;
                        this.tick(e), this._dtAccum -= e
                    }
                }, r.tick = function(t) {
                    this.target && this.target.active && this.target.isValid || (this.node.active = !1, this.target = null);
                    var e = new h;
                    this._targetXZOrbitAngle ? (this._xzOrbitAngle = g.lerp(this._xzOrbitAngle, this._targetXZOrbitAngle, 3 * t), this._rigBlendPos = g.lerp(this._rigBlendPos, this._targetRigBlendPos, 3 * t), this._zoomBlendPos = g.lerp(this._zoomBlendPos, this._targetZoomBlendPos, 3 * t), Math.abs(this._xzOrbitAngle - this._targetXZOrbitAngle) < .01 && Math.abs(this._rigBlendPos - this._targetRigBlendPos) < .01 && Math.abs(this._zoomBlendPos - this._targetZoomBlendPos) < .01 && (this._targetXZOrbitAngle = null, this._targetRigBlendPos = null, this._targetZoomBlendPos = null)) : (e.x = this._mouseMove.x * t * this.mouseInputSpeed * 2, e.y = this._mouseMove.y * t * this.mouseInputSpeed * 2, this._mouseMove.x -= e.x, this._mouseMove.y -= e.y), this.MutateCameraState(this._cameraState, e, t), this._noiseComponent.MutateCameraState(this._cameraState, t), this.node.setWorldPosition(this._cameraState.position), this.node.setWorldRotation(this._cameraState.rotation), this._cameraState.prevPosition = this._cameraState.position, this._cameraState.prevRotation = this._cameraState.rotation
                }, r.onMove = function(t) {
                    this._isMouseDown && (this._mouseMove = t)
                }, r.onUp = function() {
                    var t;
                    (this._isMouseDown = !1, P()) || (null == (t = _.canvas.ownerDocument) || t.exitPointerLock())
                }, r.onDown = function() {
                    this._isMouseDown = !0, P() || _.canvas.requestPointerLock()
                }, r.onMouseWheel = function(t) {
                    if (!d.hasActiveWindows() && !t.isStopped()) {
                        var e = t.getScrollY() * this.zoomSensitivity;
                        this.changeZoom(e)
                    }
                }, r.changeZoom = function(t) {
                    this._zoomBlendPos = g.clamp01(this._zoomBlendPos - t), this._targetZoomBlendPos && (this._targetZoomBlendPos = this._zoomBlendPos)
                }, r.setTarget = function(t) {
                    null == this.target ? (this.target = t, this.MutateCameraState(this._cameraState, new h, -1)) : this.target = t, this.node.active = null != this.target
                }, r.onAboutToTransitionTo = function(t) {
                    if (null != t && this.target && this.target.isValid) {
                        var e = b.Instance.currentMode.GetFirstEndHoleLocation(),
                            i = this.target.worldPosition.clone().add(this.look_at_target_offset).clone().subtract(e);
                        i.y = 0, i.normalize();
                        var o = u.angle(i, new u(0, 0, 1));
                        i.x < 0 && (o = -o), this._xzOrbitAngle = o, this._rigBlendPos = .3, this._targetXZOrbitAngle = null, this._targetRigBlendPos = null, this._targetZoomBlendPos = null
                    }
                }, a(e, [{
                    key: "xzOrbitAngle",
                    get: function() {
                        return this._xzOrbitAngle
                    }
                }, {
                    key: "rigBlendPos",
                    get: function() {
                        return this._rigBlendPos
                    }
                }, {
                    key: "zoomBlendPos",
                    get: function() {
                        return this._zoomBlendPos
                    }
                }]), e
            }(m)).prototype, "look_at_target_offset", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(0, 4, 0)
                }
            }), y = e(A.prototype, "followTargetSpeed", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .2
                }
            }), w = e(A.prototype, "zoomSensitivity", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1e-4
                }
            }), x = e(A.prototype, "zoomMin", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), O = e(A.prototype, "zoomMax", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 5
                }
            }), R = e(A.prototype, "bottomRigRadius", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), S = e(A.prototype, "bottomRigHeight", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 5
                }
            }), C = e(A.prototype, "topRigRadius", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 8
                }
            }), Z = e(A.prototype, "topRigHeight", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), B = A)) || B));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpApplyStatusEffectsToHole.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./StatusEffectBase.ts", "./PowerUpBase.ts"], (function(t) {
    var e, s, a, c, f, r, n, o, i, u, l;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, s = t.inheritsLoose, a = t.initializerDefineProperty, c = t.assertThisInitialized, f = t.createClass
        }, function(t) {
            r = t.cclegacy, n = t._decorator, o = t.Prefab
        }, function(t) {
            i = t.GameManager
        }, function(t) {
            u = t.StatusEffectBase
        }, function(t) {
            l = t.PowerUpBase
        }],
        execute: function() {
            var E, p, h, g, v;
            r._RF.push({}, "bf6fbORErhMmJ7rPvtJcgfZ", "PowerUpApplyStatusEffectsToHole", void 0);
            var d = n.ccclass,
                y = n.property;
            t("PowerUpApplyStatusEffectsToHole", (E = d("PowerUpApplyStatusEffectsToHole"), p = y([o]), E((v = e((g = function(t) {
                function e() {
                    for (var e, s = arguments.length, f = new Array(s), r = 0; r < s; r++) f[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(f)) || this, a(e, "statusEffects", v, c(e)), e._statusEffectInstances = [], e._hasExclusiveEffects = !1, e
                }
                s(e, t);
                var r = e.prototype;
                return r.init = function(e) {
                    var s = this;
                    t.prototype.init.call(this, e), this.statusEffects.forEach((function(t) {
                        var e = i.Instance.currentMode.statusEffectManager.registerStatusEffect(t);
                        s._hasExclusiveEffects = s._hasExclusiveEffects || e.exclusiveEffect, s._statusEffectInstances.push(e)
                    }))
                }, r.canActivatePowerup = function() {
                    var t = !0,
                        e = i.Instance.currentMode;
                    return this._statusEffectInstances.forEach((function(s) {
                        t && (t = s.canApplyToTarget({
                            target: e.statusEffects
                        }))
                    })), t
                }, r.activate = function() {
                    var t = i.Instance.currentMode;
                    this._hasExclusiveEffects && t.statusEffects.activeStatusEffects.forEach((function(e) {
                        e.statusEffectRef.exclusiveEffect && t.sendConsumeStatusEffectCharge({
                            target: t.statusEffects,
                            data: {
                                conflict: !0
                            }
                        }, e.statusEffectRef.statusEffectId)
                    })), this._statusEffectInstances.forEach((function(e) {
                        t.sendApplyStatusEffectToTarget({
                            target: t.statusEffects
                        }, e.statusEffectId)
                    }));
                    var e = this.getLocalGolfPlayer();
                    this.sendGameLogEvent({
                        action: "activated " + this.htmlColoredUiName,
                        instigatorId: e.uid,
                        instigatorName: e.userName
                    })
                }, f(e, [{
                    key: "charges",
                    get: function() {
                        return this.statusEffects[0].data.getComponent(u).charges()
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.statusEffects.length > 0 ? this.statusEffects[0].data.getComponent(u).cardColor : t.prototype.cardColor
                    }
                }]), e
            }(l)).prototype, "statusEffects", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), h = g)) || h));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpApplyStatusEffectsToLocalPlayer.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./StatusEffectBase.ts", "./PowerUpBase.ts", "./gameManager.ts"], (function(t) {
    var e, a, s, r, n, c, o, f, i, u, l, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, s = t.initializerDefineProperty, r = t.assertThisInitialized, n = t.extends, c = t.createClass
        }, function(t) {
            o = t.cclegacy, f = t._decorator, i = t.Prefab
        }, function(t) {
            u = t.StatusEffectBase
        }, function(t) {
            l = t.PowerUpBase
        }, function(t) {
            p = t.GameManager
        }],
        execute: function() {
            var g, h, E, y, d;
            o._RF.push({}, "16a15QqvTpMG5rpTbJu+OG8", "PowerUpApplyStatusEffectsToLocalPlayer", void 0);
            var v = f.ccclass,
                P = f.property;
            t("PowerUpApplyStatusEffectsToLocalPlayer", (g = v("PowerUpApplyStatusEffectsToLocalPlayer"), h = P([i]), g((d = e((y = function(t) {
                function e() {
                    for (var e, a = arguments.length, n = new Array(a), c = 0; c < a; c++) n[c] = arguments[c];
                    return e = t.call.apply(t, [this].concat(n)) || this, s(e, "statusEffects", d, r(e)), e._statusEffectInstances = [], e
                }
                a(e, t);
                var o = e.prototype;
                return o.init = function(e) {
                    var a = this;
                    t.prototype.init.call(this, e), this.statusEffects.forEach((function(t) {
                        var e = p.Instance.currentMode.statusEffectManager.registerStatusEffect(t);
                        a._statusEffectInstances.push(e)
                    }))
                }, o.activate = function() {
                    var t = p.Instance.currentMode,
                        e = this.getLocalGolfPlayer();
                    this._statusEffectInstances.forEach((function(a) {
                        var s = a.getAdditionalTargetData(e.statusEffects);
                        t.sendApplyStatusEffectToTarget(n({
                            target: e.statusEffects
                        }, s), a.statusEffectId)
                    })), this.sendGameLogEvent({
                        action: "activated " + this.htmlColoredUiName,
                        instigatorId: e.uid,
                        instigatorName: e.userName
                    })
                }, o.canActivatePowerup = function() {
                    var t = !0,
                        e = this.getLocalGolfPlayer();
                    return e ? this._statusEffectInstances.forEach((function(a) {
                        t && (t = a.canApplyToTarget({
                            target: e.statusEffects
                        }))
                    })) : t = !1, t
                }, c(e, [{
                    key: "charges",
                    get: function() {
                        return this.statusEffects[0].data.getComponent(u).charges()
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.statusEffects.length > 0 ? this.statusEffects[0].data.getComponent(u).cardColor : t.prototype.cardColor
                    }
                }]), e
            }(l)).prototype, "statusEffects", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), E = y)) || E));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpApplyStatusEffectsToOtherPlayers.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./StatusEffectBase.ts", "./PowerUpBase.ts"], (function(t) {
    var e, a, s, r, n, c, o, i, f, u, l, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, s = t.initializerDefineProperty, r = t.assertThisInitialized, n = t.extends, c = t.createClass
        }, function(t) {
            o = t.cclegacy, i = t._decorator, f = t.Prefab
        }, function(t) {
            u = t.GameManager
        }, function(t) {
            l = t.StatusEffectBase
        }, function(t) {
            p = t.PowerUpBase
        }],
        execute: function() {
            var h, y, g, E, d, P;
            o._RF.push({}, "51f13jRtPtDuoWwwQhzkxhr", "PowerUpApplyStatusEffectsToOtherPlayers", void 0);
            var v = i.ccclass,
                m = i.property;
            t("PowerUpApplyStatusEffectsToOtherPlayers", (h = v("PowerUpApplyStatusEffectsToOtherPlayers"), y = m([f]), h((d = e((E = function(t) {
                function e() {
                    for (var e, a = arguments.length, n = new Array(a), c = 0; c < a; c++) n[c] = arguments[c];
                    return e = t.call.apply(t, [this].concat(n)) || this, s(e, "includeLocalPlayer", d, r(e)), s(e, "statusEffects", P, r(e)), e._statusEffectInstances = [], e
                }
                a(e, t);
                var o = e.prototype;
                return o.init = function(e) {
                    var a = this;
                    t.prototype.init.call(this, e), this.statusEffects.forEach((function(t) {
                        var e = u.Instance.currentMode.statusEffectManager.registerStatusEffect(t);
                        a._statusEffectInstances.push(e)
                    }))
                }, o.canActivatePowerup = function() {
                    var t = !0,
                        e = this.getLocalGolfPlayer();
                    return e ? this._statusEffectInstances.forEach((function(a) {
                        t && (t = a.canApplyToTarget({
                            target: e.statusEffects
                        }))
                    })) : t = !1, t
                }, o.activate = function() {
                    var t = this,
                        e = u.Instance.currentMode,
                        a = e.GetGolfPlayers();
                    this._statusEffectInstances.forEach((function(s) {
                        a.forEach((function(a) {
                            if (t.includeLocalPlayer || !a.netPlayer.local) {
                                var r = s.getAdditionalTargetData(a.statusEffects);
                                e.sendApplyStatusEffectToTarget(n({
                                    target: a.statusEffects
                                }, r), s.statusEffectId)
                            }
                        }))
                    }));
                    var s = this.getLocalGolfPlayer();
                    this.sendGameLogEvent({
                        action: "activated " + this.htmlColoredUiName,
                        instigatorId: s.uid,
                        instigatorName: s.userName
                    })
                }, c(e, [{
                    key: "charges",
                    get: function() {
                        return this.statusEffects[0].data.getComponent(l).charges()
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.statusEffects.length > 0 ? this.statusEffects[0].data.getComponent(l).cardColor : t.prototype.cardColor
                    }
                }]), e
            }(p)).prototype, "includeLocalPlayer", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), P = e(E.prototype, "statusEffects", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), g = E)) || g));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpApplyStatusEffectToSingleTarget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./PowerupManager.ts", "./StatusEffectBase.ts", "./PowerUpBase.ts"], (function(t) {
    var e, a, n, r, s, c, o, i, f, u, l, p, g;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized, s = t.extends, c = t.createClass
        }, function(t) {
            o = t.cclegacy, i = t._decorator, f = t.Prefab
        }, function(t) {
            u = t.GameManager
        }, function(t) {
            l = t.PowerupManager
        }, function(t) {
            p = t.StatusEffectBase
        }, function(t) {
            g = t.PowerUpBase
        }],
        execute: function() {
            var d, E, h, y, v;
            o._RF.push({}, "3ca01KcjdJLFq4MEkJ+n4i3", "PowerUpApplyStatusEffectToSingleTarget", void 0);
            var T = i.ccclass,
                m = i.property;
            t("PowerUpApplyStatusEffectToSingleTarget", (d = T("PowerUpApplyStatusEffectToSingleTarget"), E = m([f]), d((v = e((y = function(t) {
                function e() {
                    for (var e, a = arguments.length, s = new Array(a), c = 0; c < a; c++) s[c] = arguments[c];
                    return e = t.call.apply(t, [this].concat(s)) || this, n(e, "statusEffects", v, r(e)), e._statusEffectInstances = [], e
                }
                a(e, t);
                var o = e.prototype;
                return o.init = function(e) {
                    var a = this;
                    t.prototype.init.call(this, e), this.statusEffects.forEach((function(t) {
                        var e = u.Instance.currentMode.statusEffectManager.registerStatusEffect(t);
                        a._statusEffectInstances.push(e)
                    }))
                }, o.activate = function() {
                    var t = this,
                        e = u.Instance.currentMode;
                    e.powerupManager.node.emit(l.evtUIShowTargetSelect, this, (function(a) {
                        if (a) {
                            t._statusEffectInstances.forEach((function(t) {
                                var n = t.getAdditionalTargetData(a.statusEffects);
                                e.sendApplyStatusEffectToTarget(s({
                                    target: a.statusEffects
                                }, n), t.statusEffectId)
                            }));
                            var n = t.getLocalGolfPlayer();
                            n && t.sendGameLogEvent({
                                action: "activated " + t.htmlColoredUiName + " on ",
                                instigatorId: n.uid,
                                instigatorName: n.userName,
                                targetId: a.uid,
                                targetName: a.userName
                            }), t.complete()
                        } else t.canceled()
                    }))
                }, o.cancel = function() {
                    u.Instance.currentMode.powerupManager.node.emit(l.evtUICancelTargetSelect)
                }, o.canActivatePowerupOnTarget = function(t) {
                    if (t.local) return !1;
                    var e = !0,
                        a = u.Instance.currentMode.GetGolfPlayer(t.uid);
                    return a ? this._statusEffectInstances.forEach((function(t) {
                        e && (e = t.canApplyToTarget({
                            target: a.statusEffects
                        }))
                    })) : e = !1, e
                }, c(e, [{
                    key: "charges",
                    get: function() {
                        return this.statusEffects[0].data.getComponent(p).charges()
                    }
                }, {
                    key: "isAsyncPowerup",
                    get: function() {
                        return !0
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.statusEffects.length > 0 ? this.statusEffects[0].data.getComponent(p).cardColor : t.prototype.cardColor
                    }
                }]), e
            }(g)).prototype, "statusEffects", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), h = y)) || h));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpBase.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./gameManager.ts", "./GameLogManager.ts"], (function(e) {
    var t, n, r, o, i, a, l, c, u, s, p, g, d, f, h, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized, i = e.extends, a = e.createClass
        }, function(e) {
            l = e.cclegacy, c = e._decorator, u = e.SpriteFrame, s = e.CCString, p = e.Color, g = e.instantiate, d = e.Component
        }, function(e) {
            f = e.DGEvent
        }, function(e) {
            h = e.GameManager
        }, function(e) {
            w = e.GameLogManager
        }],
        execute: function() {
            var y, m, v, P, b, C, L, M, I, B, O, G, N, _, z, U;
            l._RF.push({}, "e1518788VVNBrrMhscEoo4V", "PowerUpBase", void 0);
            var k = c.ccclass,
                D = c.property;
            e("PowerUpBase", (y = k("PowerUpBase"), m = D(u), v = D(s), P = D(s), b = D(s), C = D(p), y(((U = function(e) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(i)) || this, r(t, "icon", O, o(t)), r(t, "displayName", G, o(t)), r(t, "description", N, o(t)), r(t, "instructions", _, o(t)), r(t, "gameLogCardNameColor", z, o(t)), t.powerUpId = void 0, t._powerupManager = void 0, t
                }
                n(t, e);
                var l = t.prototype;
                return l.init = function(e) {
                    this._powerupManager = e
                }, l.activate = function() {
                    this.instructions && this.instructions.length > 0 && this._powerupManager.showInstructions(this.instructions)
                }, l.cancel = function() {
                    this.instructions && this.instructions.length > 0 && this._powerupManager.hideInstructions()
                }, l.canActivatePowerup = function() {
                    return !0
                }, l.canActivatePowerupOnTarget = function(e) {
                    return !0
                }, l.complete = function() {
                    this.node.emit(t.evtOnPowerupComplete, this), this.instructions && this.instructions.length > 0 && this._powerupManager.hideInstructions()
                }, l.canceled = function() {
                    this.node.emit(t.evtOnPowerupCanceled, this), this.instructions && this.instructions.length > 0 && this._powerupManager.hideInstructions()
                }, l.getLocalPlayerBallHandler = function() {
                    var e, t = h.Instance.currentMode,
                        n = t.GetLocalPlayerId();
                    if (!n) return console.error("PowerUpBase.getLocalPlayerBallHandler() was called without a local player id existing."), null;
                    var r = t.GetPlayer(n);
                    return r ? null != (e = r.localState) && e.visual ? r.localState.visual : (console.error("PowerUpBase.getLocalPlayerBallHandler() was called without a local player ball existing"), null) : (console.error("PowerUpBase.getLocalPlayerBallHandler() was called without a local player object existing"), null)
                }, l.getLocalPlayer = function() {
                    return h.Instance.currentMode.GetPlayer(h.Instance.currentMode.GetLocalPlayerId())
                }, l.getLocalGolfPlayer = function() {
                    return h.Instance.currentMode.localGolfPlayer
                }, l.instantiateEffect = function(e, t) {
                    var n = g(t);
                    return e.node.scene.addChild(n), n.setWorldPosition(e.node.getWorldPosition()), n
                }, l.sendGameLogEvent = function(e) {
                    var t = h.Instance.currentMode;
                    h.Instance.node.emit(w.evtPostGameLogEvent, i({}, e, {
                        hole: t.currentHole
                    }))
                }, a(t, [{
                    key: "uiIcon",
                    get: function() {
                        return this.icon
                    }
                }, {
                    key: "uiName",
                    get: function() {
                        return this.displayName
                    }
                }, {
                    key: "htmlColoredUiName",
                    get: function() {
                        return "<color=#" + (this.gameLogCardNameColor.a > 0 ? this.gameLogCardNameColor : this.cardColor).toHEX("#rrggbb") + "> " + this.uiName + "</color>"
                    }
                }, {
                    key: "uiDescription",
                    get: function() {
                        return this.description
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return new p("#E64D4F")
                    }
                }, {
                    key: "charges",
                    get: function() {
                        return -1
                    }
                }, {
                    key: "isAsyncPowerup",
                    get: function() {
                        return !1
                    }
                }]), t
            }(d)).evtOnPowerupComplete = void 0, U.evtOnPowerupCanceled = void 0, t(M = U, "evtOnPowerupComplete", [f], (I = (I = Object.getOwnPropertyDescriptor(M, "evtOnPowerupComplete")) ? I.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return I
                }
            }), M), t(M, "evtOnPowerupCanceled", [f], (B = (B = Object.getOwnPropertyDescriptor(M, "evtOnPowerupCanceled")) ? B.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return B
                }
            }), M), O = t(M.prototype, "icon", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = t(M.prototype, "displayName", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), N = t(M.prototype, "description", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), _ = t(M.prototype, "instructions", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), z = t(M.prototype, "gameLogCardNameColor", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p("#00000000")
                }
            }), L = M)) || L));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerupCard.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./audioController.ts", "./gameManager.ts", "./PowerUpBase.ts", "./PowerupManager.ts"], (function(t) {
    var e, o, n, i, r, a, s, l, c, p, u, d, h, f, w, _, g, P, C, b, v, y, S, m, T, E, M;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized, r = t.createClass
        }, function(t) {
            a = t.cclegacy, s = t._decorator, l = t.Node, c = t.Sprite, p = t.Color, u = t.Label, d = t.Tween, h = t.tween, f = t.Vec3, w = t.Quat, _ = t.input, g = t.Input, P = t.KeyCode, C = t.Component
        }, function(t) {
            b = t.isMobile, v = t.SMALL_SCALE
        }, function(t) {
            y = t.AudioController, S = t.AudioEventType
        }, function(t) {
            m = t.GameManager
        }, function(t) {
            T = t.PowerUpBase
        }, function(t) {
            E = t.cHidePowerupTooltip, M = t.cShowPowerupTooltip
        }],
        execute: function() {
            var U, O, k, A, I, H, R, L, z, x, F, D, N, B, K, W, Y, G, V, q, j, Q, J, X;
            a._RF.push({}, "81741KRGDBO15lViceta6x8", "PowerupCard", void 0);
            var Z = s.ccclass,
                $ = s.property,
                tt = (s.type, t("cOnFlipComplete", "on-flip-complete"));
            t("PowerupCard", (U = Z("PowerupCard"), O = $(l), k = $(l), A = $(c), I = $(p), H = $(p), R = $(c), L = $(p), z = $(u), x = $(c), F = $(l), U(((X = function(t) {
                function e() {
                    for (var e, o = arguments.length, r = new Array(o), a = 0; a < o; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "front", B, i(e)), n(e, "back", K, i(e)), n(e, "frontColorSprite", W, i(e)), n(e, "faceColor", Y, i(e)), n(e, "backColor", G, i(e)), n(e, "backColorSprite", V, i(e)), n(e, "disabledColor", q, i(e)), n(e, "chargesLabel", j, i(e)), n(e, "icon", Q, i(e)), n(e, "fxNode", J, i(e)), e.powerup = null, e._faceUp = !1, e._isInHand = !1, e._touchTime = -1, e._startScale = void 0, e._startPos = void 0, e._startRot = void 0, e.ignoreMouseEvents = !1, e.powerUpId = -1, e._isEnabled = !0, e._isPendingActivation = !1, e._powerupManager = null, e._powerupPrefabComp = void 0, e._showingTooltip = !1, e._handSlot = void 0, e
                }
                o(e, t);
                var a = e.prototype;
                return a.start = function() {
                    b() || (this.node.on(l.EventType.MOUSE_ENTER, this.onMouseEnter, this), this.node.on(l.EventType.MOUSE_LEAVE, this.onMouseLeave, this)), this.node.on(l.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(l.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.node.on(l.EventType.TOUCH_END, this.onTouchEnd, this), this._startScale = this.node.getScale(), this._startPos = this.node.getPosition(), this._startRot = this.node.getRotation()
                }, a.onTouchStart = function(t) {
                    this._isInHand && (this._touchTime = Date.now())
                }, a.onTouchEnd = function(t) {
                    if (this._isInHand && this._touchTime > 0) {
                        var e = Date.now() - this._touchTime;
                        e > 0 && e <= 250 && this.usePowerup(null), b() && this.hideTooltip()
                    }
                    this._touchTime = -1
                }, a.update = function() {
                    b() && (this._isInHand && this._touchTime > 0 && Date.now() - this._touchTime > 250 && !this._showingTooltip && this.showTooltip())
                }, a.init = function(t, e) {
                    this.powerup = t, this._powerupPrefabComp = t.data.getComponent(T), this.icon.spriteFrame = this._powerupPrefabComp.uiIcon;
                    var o = this._powerupPrefabComp.charges;
                    this.chargesLabel.node.active = o > 0, this.chargesLabel.string = "" + o, this.chargesLabel.node.active = !1, this._powerupManager = e, null != this.frontColorSprite && (this.frontColorSprite.color = this.cardFaceColor), null != this.backColorSprite && (this.backColorSprite.color = this.cardBackColor)
                }, a.onDestroy = function() {
                    this._showingTooltip && (this._powerupManager.node.emit(E), this._showingTooltip = !1)
                }, a.setCardIsInHand = function() {
                    this._isInHand = !0, this._handSlot = this.node.parent
                }, a.onCardSelectedForHand = function() {
                    this._faceUp && (this._showingTooltip = !1, this._powerupManager.node.emit(E))
                }, a.onUsePowerup = function() {
                    this._showingTooltip && (this._powerupManager.node.emit(E), this._showingTooltip = !1)
                }, a.forceFaceUp = function() {
                    this._faceUp = !0, this.front.active = !0, this.back.active = !1
                }, a.discard = function() {
                    var t = this;
                    d.stopAllByTarget(this.node), h(this.node).delay(1).call((function() {
                        t.fxNode && (t.fxNode.active = !0, y.Instance.triggerAudio(S.evtPickupFailed))
                    })).delay(.1).call((function() {
                        t.front.active = !1, t.back.active = !1
                    })).delay(.5).call((function() {
                        t.node.destroy()
                    })).start()
                }, a.flip = function() {
                    var t = this,
                        e = this.node.getScale(),
                        o = this.node.getPosition();
                    h(this.node).parallel(h().to(.2, {
                        scale: new f(.05, e.y, e.z)
                    }, {
                        easing: "quintIn"
                    }), h().to(.2, {
                        position: new f(o.x, o.y + 60, o.z)
                    }, {
                        easing: "circOut"
                    })).call((function() {
                        t._faceUp = !t._faceUp, t.front.active = t._faceUp, t.back.active = !t._faceUp
                    })).parallel(h().to(.2, {
                        scale: e
                    }, {
                        easing: "quintOut"
                    }), h().to(.4, {
                        position: o
                    }, {
                        easing: "backOut"
                    })).call((function() {
                        t.node.emit(tt, t)
                    })).start()
                }, a.showTooltip = function() {
                    this.ignoreMouseEvents || (h(this.node).to(.1, {
                        position: new f(this._startPos.x, this._startPos.y + 20, this._startPos.z),
                        scale: this._startScale.clone().multiplyScalar(1.1)
                    }, {
                        easing: "backOut"
                    }).start(), this._faceUp && (this._showingTooltip = !0, this._powerupManager.node.emit(M, this._powerupPrefabComp.uiName, this._powerupPrefabComp.uiDescription, null)))
                }, a.hideTooltip = function() {
                    this.ignoreMouseEvents || (h(this.node).to(.1, {
                        position: this._startPos,
                        scale: this._startScale
                    }, {
                        easing: "backOut"
                    }).start(), this._faceUp && (this._showingTooltip = !1, this._powerupManager.node.emit(E)))
                }, a.onMouseEnter = function(t) {
                    this.showTooltip(), y.Instance.triggerAudio(S.evtCardHover)
                }, a.onMouseLeave = function(t) {
                    this.hideTooltip()
                }, a.setEnabled = function(t) {
                    t != this._isEnabled && (null != this.frontColorSprite && (this.frontColorSprite.color = t ? this.cardFaceColor : this.disabledColor), null != this.backColorSprite && (this.backColorSprite.color = t ? this.cardBackColor : this.disabledColor), this._isEnabled = t)
                }, a.usePowerup = function(t) {
                    var o = this;
                    if (this.isEnabled && !this.ignoreMouseEvents) {
                        y.Instance.triggerAudio(S.evtPickupActivate), h(this.node).stop(), this._isInHand = !1, this.ignoreMouseEvents = !0;
                        var n = this.node.getWorldPosition(),
                            i = this.node.getWorldRotation(),
                            r = this.node.getWorldScale();
                        this._handSlot = this.node.parent, this.node.setParent(this._powerupManager.node, !0);
                        var a = n.clone().add(new f(0, 100, 0));
                        this._powerupManager.refreshStateOfCardsInHand(), this.onUsePowerup(), h(this.node).set({
                            worldPosition: n,
                            worldRotation: i,
                            worldScale: r
                        }).to(.3, {
                            worldPosition: a,
                            scale: new f(.75, .75, .75),
                            worldRotation: w.IDENTITY
                        }, {
                            easing: "backOut"
                        }).delay(.5).set({
                            worldPosition: a
                        }).call((function() {
                            var t = o._powerupManager.getPowerUpFromPrefab(o.powerup);
                            e.nextActiveStatusEffectSpawnPosition = o.node.worldPosition, t.activate(), t.isAsyncPowerup ? (o._isPendingActivation = !0, o._powerupManager.disableCards(), o._powerupManager.refreshStateOfCardsInHand(), t.node.dgOn(T.evtOnPowerupComplete, o.onPowerupComplete, o), t.node.dgOn(T.evtOnPowerupCanceled, o.onPowerupCanceled, o), b() || _.on(g.EventType.KEY_UP, o.onKeyUp, o)) : (e.nextActiveStatusEffectSpawnPosition = null, o.removeCard(), o._powerupManager.refreshStateOfCardsInHand())
                        })).start()
                    }
                }, a.onPowerupComplete = function(t) {
                    t.node.dgOff(T.evtOnPowerupComplete, this.onPowerupComplete, this), t.node.dgOff(T.evtOnPowerupCanceled, this.onPowerupCanceled, this), b() || _.off(g.EventType.KEY_UP, this.onKeyUp, this), e.nextActiveStatusEffectSpawnPosition = null, this._powerupManager.enableCards(), this.removeCard(), this._powerupManager.refreshStateOfCardsInHand(), this._isPendingActivation = !1
                }, a.removeCard = function() {
                    var t = this;
                    h(this.node).stop();
                    var e = m.Instance.currentMode.GetPlayer(m.Instance.currentMode.GetLocalPlayerId());
                    if (e.state && e.state.cards_in_hand)
                        for (var o = 0; o < e.state.cards_in_hand.length; ++o)
                            if (e.state.cards_in_hand[o] == this.powerUpId) {
                                e.state.cards_in_hand.splice(o, 1), e.stateUpdated();
                                break
                            } h(this.node).to(.2, {
                        scale: v
                    }).call((function() {
                        t.node.destroy()
                    })).start()
                }, a.putStolenCardInHand = function(t) {
                    var e = this,
                        o = this._powerupManager.node.worldPosition.clone().add(new f(0, -100, 0));
                    this._handSlot = t, this.node.setParent(t, !0), h(this.node).set({
                        worldPosition: o,
                        scale: v
                    }).to(.2, {
                        scale: new f(1.5, 1.5, 1.5)
                    }).delay(.5).to(.6, {
                        worldPosition: t.worldPosition,
                        scale: f.ONE,
                        worldRotation: t.worldRotation
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        e.setCardIsInHand(), e._startScale = e.node.getScale(), e._startPos = e.node.getPosition(), e._startRot = e.node.getRotation()
                    })).start()
                }, a.removeStolenCard = function() {
                    var t = this;
                    d.stopAllByTarget(this.node), this._showingTooltip && (this._powerupManager.node.emit(E), this._showingTooltip = !1), this.ignoreMouseEvents = !0;
                    var e = this.node.getWorldPosition(),
                        o = this.node.getWorldRotation(),
                        n = this.node.getWorldScale(),
                        i = this._powerupManager.node.worldPosition.clone().add(new f(0, -100, 0));
                    this.node.parent != this._handSlot && (this._powerupManager.forceCancelTargetSelect(), this.cancelAsyncPowerUp()), this.node.setParent(this._powerupManager.node, !0), h(this.node).set({
                        worldPosition: e,
                        worldRotation: o,
                        worldScale: n
                    }).to(.6, {
                        worldPosition: i,
                        scale: new f(.75, .75, .75),
                        worldRotation: w.IDENTITY
                    }, {
                        easing: "backOut"
                    }).delay(.5).to(.2, {
                        scale: v
                    }).call((function() {
                        t.node.destroy()
                    })).start()
                }, a.onPowerupCanceled = function(t) {
                    this.doCancelAsyncPowerUp()
                }, a.doCancelAsyncPowerUp = function() {
                    var t = this;
                    this.cancelAsyncPowerUp(), this.node.setParent(this._handSlot, !0), this.ignoreMouseEvents = !1, h(this.node).to(.3, {
                        position: this._startPos,
                        rotation: this._startRot,
                        scale: this._startScale
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        t._isInHand = !0, t._powerupManager.enableCards(), t._powerupManager.refreshStateOfCardsInHand()
                    })).start()
                }, a.cancelAsyncPowerUp = function() {
                    var t = this._powerupManager.getPowerUpFromPrefab(this.powerup);
                    t.isAsyncPowerup && (this._isPendingActivation && (t.cancel(), this._isPendingActivation = !1), e.nextActiveStatusEffectSpawnPosition = null, t.node.dgOff(T.evtOnPowerupComplete, this.onPowerupComplete, this), t.node.dgOff(T.evtOnPowerupCanceled, this.onPowerupCanceled, this), b() || _.off(g.EventType.KEY_UP, this.onKeyUp, this))
                }, a.onKeyUp = function(t) {
                    if (this.node.active && !t.isStopped()) switch (t.keyCode) {
                        case P.ESCAPE:
                            this.doCancelAsyncPowerUp()
                    }
                }, r(e, [{
                    key: "isEnabled",
                    get: function() {
                        return this._isEnabled
                    }
                }, {
                    key: "isFaceUp",
                    get: function() {
                        return this._faceUp
                    }
                }, {
                    key: "cardFaceColor",
                    get: function() {
                        return this._powerupPrefabComp ? this._powerupPrefabComp.cardColor : this.faceColor
                    }
                }, {
                    key: "cardBackColor",
                    get: function() {
                        return this._powerupPrefabComp ? this._powerupPrefabComp.cardColor : this.backColor
                    }
                }]), e
            }(C)).nextActiveStatusEffectSpawnPosition = void 0, B = e((N = X).prototype, "front", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), K = e(N.prototype, "back", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), W = e(N.prototype, "frontColorSprite", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Y = e(N.prototype, "faceColor", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(58, 152, 189, 255)
                }
            }), G = e(N.prototype, "backColor", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(190, 77, 77, 255)
                }
            }), V = e(N.prototype, "backColorSprite", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), q = e(N.prototype, "disabledColor", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(100, 100, 100, 255)
                }
            }), j = e(N.prototype, "chargesLabel", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Q = e(N.prototype, "icon", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), J = e(N.prototype, "fxNode", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), D = N)) || D));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpConstantForce.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./StatusEffectBase.ts", "./PowerUpBase.ts", "./BallHandler.ts", "./utils.ts"], (function(t) {
    var e, i, n, o, a, s, r, c, l, u, f, d, h, g, p, y, v, m;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized, a = t.createClass
        }, function(t) {
            s = t.cclegacy, r = t._decorator, c = t.Prefab, l = t.input, u = t.Input, f = t.instantiate, d = t.geometry, h = t.Vec3
        }, function(t) {
            g = t.GameManager
        }, function(t) {
            p = t.StatusEffectBase
        }, function(t) {
            y = t.PowerUpBase
        }, function(t) {
            v = t.DisableControlsReason
        }, function(t) {
            m = t.isMobile
        }],
        execute: function() {
            var E, P, b, _, M, T, C, W;
            s._RF.push({}, "11bf88A2NRH9ZzSUARgITOX", "PowerUpConstantForce", void 0);
            var w = r.ccclass,
                U = r.property;
            t("PowerUpConstantForce", (E = w("PowerUpConstantForce"), P = U(c), b = U(c), E((T = e((M = function(t) {
                function e() {
                    for (var e, i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                    return e = t.call.apply(t, [this].concat(a)) || this, n(e, "includeLocalPlayer", T, o(e)), n(e, "statusEffect", C, o(e)), n(e, "aimWidgetPrefab", W, o(e)), e._statusEffectInstance = null, e._aimWidget = void 0, e
                }
                i(e, t);
                var s = e.prototype;
                return s.init = function(e) {
                    t.prototype.init.call(this, e), this._statusEffectInstance = g.Instance.currentMode.statusEffectManager.registerStatusEffect(this.statusEffect)
                }, s.activate = function() {
                    var e;
                    t.prototype.activate.call(this), l.on(u.EventType.TOUCH_END, this.onTouchUp, this), m() ? l.on(u.EventType.TOUCH_MOVE, this.onTouchMove, this) : l.on(u.EventType.MOUSE_MOVE, this.onMouseMove, this), this._aimWidget = f(this.aimWidgetPrefab), this.node.scene.addChild(this._aimWidget);
                    var i = this.getLocalPlayerBallHandler();
                    null != i && null != (e = i.node) && e.isValid && (this._aimWidget.setWorldPosition(i.node.worldPosition), i.disableControls(v.PowerupActive))
                }, s.onTouchMove = function(t) {
                    this.onMove(t.getLocation())
                }, s.onMouseMove = function(t) {
                    this.onMove(t.getLocation()), t.bubbles = !0
                }, s.onMove = function(t) {
                    var e;
                    if (this._aimWidget.isValid) {
                        var i = g.Instance.currentCamera.screenPointToRay(t.x, t.y),
                            n = new d.Plane(0, 1, 0, this._aimWidget.position.y),
                            o = d.intersect.rayPlane(i, n),
                            a = new h(0, 0, 0);
                        i.computeHit(a, o);
                        var s = this.getLocalPlayerBallHandler();
                        null != s && null != (e = s.node) && e.isValid && this._aimWidget.setWorldPosition(s.node.worldPosition), this._aimWidget.lookAt(a)
                    }
                }, s.onTouchUp = function(t) {
                    1 == t.getAllTouches().length && this._aimWidget.isValid && (this.onDirectionSelected(this._aimWidget.forward), t.bubbles = !1)
                }, s.onMouseDown = function(t) {
                    0 == t.getButton() && this._aimWidget.isValid && (this.onDirectionSelected(this._aimWidget.forward), t.bubbles = !1)
                }, s.onDirectionSelected = function(t) {
                    var e = this,
                        i = g.Instance.currentMode;
                    i.GetGolfPlayers().forEach((function(n) {
                        !e.includeLocalPlayer && n.netPlayer.local || i.sendApplyStatusEffectToTarget({
                            target: n.statusEffects,
                            dir: t
                        }, e._statusEffectInstance.statusEffectId)
                    })), this.deactivateAiming();
                    var n = this.getLocalGolfPlayer();
                    this.sendGameLogEvent({
                        action: "activated " + this.htmlColoredUiName,
                        instigatorId: n.uid,
                        instigatorName: n.userName
                    }), this.complete()
                }, s.cancel = function() {
                    this.deactivateAiming()
                }, s.deactivateAiming = function() {
                    var t;
                    this._aimWidget && (this._aimWidget.destroy(), this._aimWidget = null), null == (t = this.getLocalPlayerBallHandler()) || t.enableControls(), l.off(u.EventType.TOUCH_START, this.onTouchUp, this), m() ? l.off(u.EventType.TOUCH_MOVE, this.onTouchMove, this) : l.off(u.EventType.MOUSE_MOVE, this.onMouseMove, this)
                }, a(e, [{
                    key: "charges",
                    get: function() {
                        return this.statusEffect.data.getComponent(p).charges()
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.statusEffect ? this.statusEffect.data.getComponent(p).cardColor : t.prototype.cardColor
                    }
                }, {
                    key: "isAsyncPowerup",
                    get: function() {
                        return !0
                    }
                }]), e
            }(y)).prototype, "includeLocalPlayer", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), C = e(M.prototype, "statusEffect", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), W = e(M.prototype, "aimWidgetPrefab", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), _ = M)) || _));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerupManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./GolfMode.ts", "./UIPowerupTooltip.ts", "./BallHandler.ts", "./gameManager.ts", "./PowerUpBase.ts", "./PowerupCard.ts", "./Hole.ts", "./ModalWindowManager.ts", "./UIPowerupTargetSelectModalWindow.ts"], (function(e) {
    var t, n, o, r, a, i, s, l, c, d, u, h, p, f, w, g, P, C, S, b, v, m, I, H, _, y, U, T, O, M, G, R, z, E, F, W, L, B, k, A;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized, a = e.createClass
        }, function(e) {
            i = e.cclegacy, s = e._decorator, l = e.Prefab, c = e.Node, d = e.Label, u = e.CCObject, h = e.instantiate, p = e.Vec3, f = e.tween, w = e.math, g = e.easing, P = e.Quat, C = e.Size, S = e.Component
        }, function(e) {
            b = e.DGEvent, v = e.SMALL_SCALE, m = e.isMobile
        }, function(e) {
            I = e.cPlayerVisualAdded, H = e.cPlayersUpdate, _ = e.cGameStateUpdate, y = e.cOnLevelReady, U = e.GameState
        }, function(e) {
            T = e.UIPowerupTooltip
        }, function(e) {
            O = e.cOnControlsDisabled, M = e.cOnHandlerStartAim, G = e.cOnHandlerCancelAim, R = e.cOnControlsEnabled, z = e.DisableControlsReason
        }, function(e) {
            E = e.GameManager
        }, function(e) {
            F = e.PowerUpBase
        }, function(e) {
            W = e.PowerupCard, L = e.cOnFlipComplete
        }, function(e) {
            B = e.cEnteredHole
        }, function(e) {
            k = e.ModalWindowManager
        }, function(e) {
            A = e.UIPowerupTargetSelectModalWindow
        }],
        execute: function() {
            var x, D, q, N, V, j, Z, Q, Y, J, K, X, $, ee, te, ne, oe, re, ae, ie, se, le, ce, de, ue, he, pe, fe, we, ge, Pe, Ce, Se, be, ve, me, Ie, He, _e, ye, Ue, Te, Oe, Me, Ge, Re, ze;
            i._RF.push({}, "deb78e472dA8Zoai/74vChm", "PowerupManager", void 0);
            var Ee = s.ccclass,
                Fe = s.property,
                We = e("cShowPowerupTooltip", "show-powerup-tooltip"),
                Le = e("cHidePowerupTooltip", "hide-powerup-tooltip"),
                Be = (x = Ee("PowerCardChoice"), D = Fe({
                    range: [0, 100],
                    slide: !0,
                    step: 1
                }), q = Fe(l), x((j = t((V = function(e) {
                    function t() {
                        for (var t, n = arguments.length, a = new Array(n), i = 0; i < n; i++) a[i] = arguments[i];
                        return t = e.call.apply(e, [this].concat(a)) || this, o(t, "Weight", j, r(t)), o(t, "PowerupPrefab", Z, r(t)), o(t, "Multiplayer", Q, r(t)), o(t, "MaxCount", Y, r(t)), t
                    }
                    return n(t, e), t
                }(u)).prototype, "Weight", [D], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return 10
                    }
                }), Z = t(V.prototype, "PowerupPrefab", [q], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: null
                }), Q = t(V.prototype, "Multiplayer", [Fe], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return !1
                    }
                }), Y = t(V.prototype, "MaxCount", [Fe], {
                    configurable: !0,
                    enumerable: !0,
                    writable: !0,
                    initializer: function() {
                        return -1
                    }
                }), N = V)) || N),
                ke = function(e, t) {
                    this.totalWeight = void 0, this.choices = void 0, this.totalWeight = e, this.choices = t
                };
            e("PowerupManager", (J = Ee("PowerupManager"), K = Fe(c), X = Fe(c), $ = Fe(c), ee = Fe(c), te = Fe(c), ne = Fe(c), oe = Fe(c), re = Fe(l), ae = Fe(Be), ie = Fe(T), se = Fe(c), le = Fe(c), ce = Fe(c), de = Fe(c), ue = Fe(d), he = Fe(l), J(((ze = function(e) {
                function t() {
                    for (var t, n = arguments.length, a = new Array(n), i = 0; i < n; i++) a[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(a)) || this, o(t, "cardSelectionGroup", Pe, r(t)), o(t, "cardSelectionBG", Ce, r(t)), o(t, "cardSelectionPositions", Se, r(t)), o(t, "randomCardGrantPosition", be, r(t)), o(t, "randomCardGrantRoot", ve, r(t)), o(t, "inHandGroup", me, r(t)), o(t, "inHandPositions", Ie, r(t)), o(t, "cardPrefab", He, r(t)), o(t, "cardChoices", _e, r(t)), o(t, "powerupTooltip", ye, r(t)), o(t, "powerupTooltipDefaultLocation", Ue, r(t)), o(t, "touchHoldForInfo", Te, r(t)), o(t, "mobileInstructionRoot", Oe, r(t)), o(t, "mobileInstructionBkg", Me, r(t)), o(t, "mobileInstructions", Ge, r(t)), o(t, "powerupTargetSelectModalWindowPrefab", Re, r(t)), t.selectedCard = null, t._canUsePowerups = !0, t._isShowingCardSelection = !1, t._showCardSelectionOnPlayerSpawn = !1, t._targetSelectModal = void 0, t._showTooltipRequests = 0, t._maxCardsInHand = 0, t._allPowerups = new Map, t.nextActiveStatusEffectSpawnPosition = null, t
                }
                n(t, e);
                var i = t.prototype;
                return i.onLoad = function() {
                    E.Instance.currentMode.powerupManager = this, this._maxCardsInHand = this.inHandPositions.length, this.powerupTooltip.node.active = !1, this.touchHoldForInfo.active = !1, this.node.on(t.evtUIShowTargetSelect, this.showTargetSelect, this), this.inHandGroup.active = !1, this.mobileInstructionRoot.active = !1
                }, i.start = function() {
                    for (var e = this, t = 0; t < this.cardChoices.length; ++t) {
                        var n = this.cardChoices[t].PowerupPrefab,
                            o = h(n);
                        this.node.addChild(o);
                        var r = o.getComponent(F);
                        r.powerUpId = t, this._allPowerups.set(n.data.name, r)
                    }
                    this._allPowerups.forEach((function(t) {
                        t.init(e)
                    })), E.Instance.currentMode.node.on(I, this.onPlayerVisualAdded, this), E.Instance.currentMode.node.on(H, this.onPlayersUpdate, this), E.Instance.currentMode.node.on(_, this.onGameStateUpdate, this), E.Instance.currentMode.node.on(y, this.populateHand, this), this.node.on(We, this.showTooltip, this), this.node.on(Le, this.hideTooltip, this)
                }, i.updateInHandState = function() {
                    var e = E.Instance.currentMode,
                        t = e.AllPlayersGameOverOrWaitingOnCourseSelect();
                    this.inHandGroup.active = e.gameState == U.Play && !t
                }, i.onPlayerVisualAdded = function(e, t) {
                    e.local && ((e.state.is_showing_card_selection || this._showCardSelectionOnPlayerSpawn) && this.showCardSelection(), t.on(O, this.onControlsDisabled, this), t.on(M, this.disableCards, this), t.on(G, this.enableCards, this), t.on(R, this.enableCards, this), t.on(B, this.onLocalPlayerBallEnteredHole, this), this.updateInHandState(), this.refreshStateOfCardsInHand())
                }, i.onPlayersUpdate = function(e) {
                    E.Instance.currentMode.IsLocalPlayerInGame() ? this.updateInHandState() : (this.clearHandSlots(), this.hideCardSelection(), this.inHandGroup.active = !1, this.touchHoldForInfo.active = !1), this.refreshStateOfCardsInHand()
                }, i.onControlsDisabled = function(e) {
                    e != z.FinishedHole && this.disableCards()
                }, i.disableCards = function() {
                    this._canUsePowerups = !1, this.refreshStateOfCardsInHand()
                }, i.enableCards = function() {
                    this._canUsePowerups = !0, this.refreshStateOfCardsInHand()
                }, i.onLocalPlayerBallEnteredHole = function(e, t) {
                    var n = this;
                    this.scheduleOnce((function() {
                        return n.enableCards()
                    }), .1)
                }, i.onGameStateUpdate = function(e) {
                    if (e == U.CourseSelect) {
                        var t, n = this.getLocalPlayerBallHandler();
                        n && n.owner && null != (t = n.owner.state) && t.cards_in_hand && (n.owner.state.cards_in_hand = [], n.owner.stateUpdated(), this.clearHandSlots(), this.hideCardSelection()), this.inHandGroup.active = !1, this.touchHoldForInfo.active = !1
                    } else this.updateInHandState(), this.inHandGroup.active || (this.touchHoldForInfo.active = !1)
                }, i.populateHand = function() {
                    var e = this;
                    this.clearHandSlots(), this.scheduleOnce((function() {
                        var t, n, o = e.getLocalPlayerBallHandler();
                        if (o && null != (t = o.owner) && null != (n = t.state) && n.cards_in_hand)
                            for (var r = 0; r < o.owner.state.cards_in_hand.length; ++r) {
                                var a = e.getOpenSlotInHand();
                                if (null != a) {
                                    var i = o.owner.state.cards_in_hand[r],
                                        s = h(e.cardPrefab),
                                        l = s.getComponent(W);
                                    l.init(e.cardChoices[i].PowerupPrefab, e), l.powerUpId = i, l.forceFaceUp(), s.setWorldPosition(a.worldPosition), s.setWorldRotation(a.worldRotation), s.setParent(a, !0), s.setScale(p.ONE), l.setCardIsInHand()
                                } else console.error("Unable to find open slot for card in slot " + r + ". This should not be possible.")
                            }
                    }))
                }, i.putPowerupInHand = function(e) {
                    var t = this.getLocalPlayerBallHandler();
                    if (t && t.owner && t.owner.state && (!t.owner.state.cards_in_hand || t.owner.state.cards_in_hand.length != this._maxCardsInHand)) {
                        var n = this.getOpenSlotInHand();
                        if (null != n) {
                            var o = h(this.cardPrefab),
                                r = o.getComponent(W);
                            r.init(e, this), r.powerUpId = this.getPowerUpFromPrefab(e).powerUpId, r.forceFaceUp(), o.setWorldPosition(n.worldPosition), o.setWorldRotation(n.worldRotation), o.setParent(n, !0), o.setScale(p.ONE), r.setCardIsInHand(), t.owner.state.cards_in_hand || (t.owner.state.cards_in_hand = []), t.owner.state.cards_in_hand.push(r.powerUpId), t.owner.stateUpdated()
                        } else console.error("Unable to find open slot when trying to manually put card in slot.")
                    }
                }, i.putStolenCardInHand = function(e) {
                    var t = this.getOpenSlotInHand();
                    if (null != t)
                        if (this.cardChoices[e]) {
                            var n = this.cardChoices[e].PowerupPrefab,
                                o = h(this.cardPrefab),
                                r = o.getComponent(W);
                            r.init(n, this), r.powerUpId = this.getPowerUpFromPrefab(n).powerUpId, r.forceFaceUp(), o.setParent(this.node, !0), r.putStolenCardInHand(t)
                        } else console.error("putStolenCardInHand - Unable to find powerup prefab for powerUpId.");
                    else console.error("putStolenCardInHand - Unable to find open slot when trying to manually put card in slot.")
                }, i.removeStolenCardFromHand = function(e) {
                    var t = this.getPowerupCardInHand(e);
                    null != t ? t.removeStolenCard() : console.error("Unable to find open slot when trying to manually put card in slot.")
                }, i.isPlayerHandFull = function(e) {
                    return e.state.cards_in_hand && e.state.cards_in_hand.length >= this._maxCardsInHand
                }, i.putRandomCardInHand = function() {
                    var e = this,
                        t = this.getRandomPowerupChoicesStartingState(),
                        n = this.getRandomPowerupPrefab(t),
                        o = h(this.cardPrefab),
                        r = o.getComponent(W);
                    r.init(n, this), r.powerUpId = this.getPowerUpFromPrefab(n).powerUpId, o.setParent(this.randomCardGrantPosition), o.setPosition(new p), o.setScale(p.ONE), this.randomCardGrantRoot.active = !0, f(this.randomCardGrantRoot).set({
                        scale: new p(.5, .5, .5)
                    }).to(.3, {
                        scale: p.ONE
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        var t, n = e.getLocalPlayerBallHandler();
                        n && null != (t = n.owner) && t.state && (r.ignoreMouseEvents = !0, n.owner.state.cards_in_hand || (n.owner.state.cards_in_hand = []), e.getOpenSlotInHand() && n.owner.state.cards_in_hand.push(r.powerUpId), n.owner.state.is_showing_card_selection = !1, n.owner.stateUpdated(), r.flip(), o.on(L, e.transferRandomCardToHand, e))
                    })).start()
                }, i.transferRandomCardToHand = function(e) {
                    var t = this;
                    e.node.off(L, this.transferCardToHand, this), e.onCardSelectedForHand(), e.node.setParent(this.node, !0), f(e.node).to(.3, {
                        scale: new p(.75, .75, .75)
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        var n = t.getOpenSlotInHand();
                        f(t.randomCardGrantRoot).to(.2, {
                            scale: v
                        }, {
                            easing: "quadIn"
                        }).call((function() {
                            t.randomCardGrantRoot.active = !1
                        })).start(), null != n ? t.moveCardToHand(e.node, n) : t.discardCard(e.node)
                    })).start()
                }, i.showCardSelection = function() {
                    var e;
                    if (!this._isShowingCardSelection) {
                        var t = this.getLocalPlayerBallHandler();
                        if (t && null != (e = t.owner) && e.state) {
                            this._showCardSelectionOnPlayerSpawn = !1, this._isShowingCardSelection = !0, this.disableCards(), t.disableControls(z.UIScreen), this.clearCardSelectionCards(), t.owner.state.is_showing_card_selection = !0, t.owner.stateUpdated();
                            for (var n = this.getRandomPowerupChoicesStartingState(), o = 0; o < this.cardSelectionPositions.length; o++) {
                                var r = this.getRandomPowerupPrefab(n);
                                if (null != r) {
                                    var a = h(this.cardPrefab),
                                        i = a.getComponent(W);
                                    i.init(r, this), i.powerUpId = this.getPowerUpFromPrefab(r).powerUpId, a.setParent(this.cardSelectionPositions[o]), a.setPosition(new p), a.setScale(p.ONE), 1 != o && i.forceFaceUp(), a.on("click", this.onPowerupSelected, this)
                                }
                            }
                            this.cardSelectionGroup.active = !0, f(this.cardSelectionGroup).set({
                                scale: new p(.5, .5, .5)
                            }).to(.3, {
                                scale: p.ONE
                            }, {
                                easing: "backOut"
                            }).start()
                        } else this._showCardSelectionOnPlayerSpawn = !0
                    }
                }, i.hideCardSelection = function() {
                    var e = this;
                    this._isShowingCardSelection = !1, this.touchHoldForInfo.active = !1, this.cardSelectionGroup.active && f(this.cardSelectionGroup).to(.2, {
                        scale: p.ZERO.clone()
                    }, {
                        easing: "quadIn"
                    }).call((function() {
                        e.cardSelectionGroup.active = !1;
                        for (var t = 0; t < e.cardSelectionPositions.length; t++)
                            for (var n = 0; n < e.cardSelectionPositions[t].children.length; n++) e.cardSelectionPositions[t].children[n] != e.selectedCard && e.cardSelectionPositions[t].children[n].destroy()
                    })).start()
                }, i.getAllocatedCardCount = function(e) {
                    var t = E.Instance.currentMode,
                        n = 0;
                    return t.GetGolfPlayers().forEach((function(t) {
                        t.cardsInHand.findIndex((function(t) {
                            return t == e
                        })) > 0 && n++
                    })), n
                }, i.getRandomPowerupChoicesStartingState = function() {
                    var e = this,
                        t = E.Instance.currentMode.PlayerCount() > 1,
                        n = this.cardChoices.filter((function(e) {
                            return !e.Multiplayer || e.Multiplayer == t
                        })),
                        o = n.filter((function(t, n) {
                            return t.MaxCount < 0 || t.MaxCount >= 0 && e.getAllocatedCardCount(n) < t.MaxCount
                        })).reduce((function(e, t) {
                            return e + t.Weight
                        }), 0);
                    return new ke(o, Array.from(n))
                }, i.getRandomPowerupPrefab = function(e) {
                    for (var t = w.randomRangeInt(0, e.totalWeight), n = 0; n < e.choices.length; n++)
                        if ((t -= e.choices[n].Weight) <= 0) {
                            var o = e.choices[n].PowerupPrefab;
                            return e.totalWeight -= e.choices[n].Weight, e.choices.splice(n, 1), o
                        } return console.error("unexpected situation. total Weight is " + e.totalWeight + " and we somehow have weight left over of " + t), null
                }, i.onPowerupSelected = function(e) {
                    var t;
                    this._isShowingCardSelection = !1;
                    for (var n = 0; n < this.cardSelectionPositions.length; n++)
                        for (var o = 0; o < this.cardSelectionPositions[n].children.length; o++) this.cardSelectionPositions[n].children[o].off("click", this.onPowerupSelected, this);
                    var r = this.getLocalPlayerBallHandler();
                    if (r && null != (t = r.owner) && t.state) {
                        r.enableControls(), this.selectedCard = e.target;
                        var a = this.selectedCard.getComponent(W);
                        a.ignoreMouseEvents = !0, r.owner.state.cards_in_hand || (r.owner.state.cards_in_hand = []), this.getOpenSlotInHand() && (r.owner.state.cards_in_hand.length == this._maxCardsInHand ? console.error("about to overflow cards in hand. " + (new Error).stack) : r.owner.state.cards_in_hand.push(a.powerUpId)), r.owner.state.is_showing_card_selection = !1, r.owner.stateUpdated(), a.isFaceUp ? this.transferCardToHand(a) : (a.flip(), this.selectedCard.on(L, this.transferCardToHand, this))
                    }
                }, i.transferCardToHand = function(e) {
                    var t = this;
                    e.node.off(L, this.transferCardToHand, this), e.onCardSelectedForHand();
                    for (var n = 0; n < this.cardSelectionGroup.children.length; n++) e.node == this.cardSelectionGroup.children[n] ? f(this.cardSelectionGroup.children[n]).to(.2, {
                        scale: v
                    }).start() : (this.selectedCard.setParent(this.node, !0), f(this.selectedCard).to(.3, {
                        position: p.ZERO.clone(),
                        scale: p.ONE.clone()
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        var e = t.getOpenSlotInHand();
                        f(t.cardSelectionGroup).to(.2, {
                            scale: v
                        }, {
                            easing: "quadIn"
                        }).call((function() {
                            t.cardSelectionGroup.active = !1;
                            for (var e = 0; e < t.cardSelectionPositions.length; e++)
                                for (var n = 0; n < t.cardSelectionPositions[e].children.length; n++) t.cardSelectionPositions[e].children[n] != t.selectedCard && t.cardSelectionPositions[e].children[n].destroy()
                        })).start(), null != e ? t.moveCardToHand(t.selectedCard, e) : t.discardCard(t.selectedCard)
                    })).start())
                }, i.moveCardToHand = function(e, t) {
                    var n = this,
                        o = e.worldPosition.clone(),
                        r = e.worldScale,
                        a = e.worldRotation;
                    f(e).call((function() {
                        e.setParent(t, !0), e.worldPosition = o, e.worldRotation = a, e.worldScale = r
                    })).delay(1).to(.4, {
                        scale: p.ONE,
                        worldRotation: t.worldRotation
                    }, {
                        progress: function(n, r, a, i) {
                            var s = t.worldPosition.clone(),
                                l = new p(w.lerp(o.x, s.x, i), w.lerp(o.y, s.y, g.circIn(i)), w.lerp(o.z, s.z, i));
                            return e.worldPosition = l, n + (r - n) * i
                        },
                        easing: "linear"
                    }).to(.25, {
                        scale: p.ONE
                    }, {
                        progress: function(n, o, r, a) {
                            var i = t.worldPosition.clone();
                            return i.y = a < .5 ? w.lerp(i.y, i.y - 15, g.quadOut(2 * a)) : w.lerp(i.y - 15, i.y, g.quadOut(2 * a - 1)), e.worldPosition = i, n + (o - n) * a
                        }
                    }).call((function() {
                        var t = e.getComponent(W);
                        t.ignoreMouseEvents = !1, t.setCardIsInHand(), n.refreshStateOfCardsInHand()
                    })).set({
                        position: p.ZERO,
                        rotation: P.IDENTITY,
                        scale: p.ONE
                    }).start()
                }, i.discardCard = function(e) {
                    var t = e.getComponent(W);
                    t && t.discard()
                }, i.refreshStateOfCardsInHand = function() {
                    var e = this;
                    this.inHandGroup.children.forEach((function(t) {
                        t.children.forEach((function(t) {
                            var n = t.getComponent(W);
                            if (null != n) {
                                var o = e.getPowerUpFromPrefab(n.powerup);
                                n.setEnabled(e._canUsePowerups && o.canActivatePowerup())
                            }
                        })), f(t).stop(), e._canUsePowerups ? f(t).to(.2, {
                            scale: new p(.5, .5, .5)
                        }, {
                            easing: "backOut"
                        }).start() : f(t).to(.2, {
                            scale: new p(.4, .4, .4)
                        }, {
                            easing: "backOut"
                        }).start()
                    }));
                    var t = this.getLocalPlayerBallHandler();
                    if (t && t.owner && t.owner.state) {
                        var n = t.owner.state.cards_in_hand ? t.owner.state.cards_in_hand.length : 0;
                        this.touchHoldForInfo.active = m() && n > 0 && this.inHandGroup.active
                    }
                }, i.showTargetSelect = function(e, t) {
                    var n = k.showModalWindow(this.powerupTargetSelectModalWindowPrefab, {
                        powerup: e
                    });
                    n && (n.getComponent(A).setTargetSelectCallback(t), this._targetSelectModal = n)
                }, i.forceCancelTargetSelect = function() {
                    this._targetSelectModal && (this._targetSelectModal.tryClose(!1), this._targetSelectModal = null)
                }, i.getPowerUpFromPrefab = function(e) {
                    return this._allPowerups.has(e.data.name) ? this._allPowerups.get(e.data.name) : null
                }, i.getLocalPlayerBallHandler = function() {
                    var e = E.Instance.currentMode.GetPlayer(E.Instance.currentMode.GetLocalPlayerId());
                    return e && e.localState ? e.localState.visual : null
                }, i.getOpenSlotInHand = function() {
                    for (var e = null, t = 0; t < this.inHandPositions.length; t++)
                        if (0 == this.inHandPositions[t].getComponentsInChildren(W).length) {
                            e = this.inHandPositions[t];
                            break
                        } return e
                }, i.getPowerupCardInHand = function(e) {
                    for (var t = this.node.getComponentsInChildren(W), n = 0; n < t.length; n++) {
                        var o = t[n];
                        if (o && o.powerUpId == e) return o
                    }
                    return null
                }, i.clearHandSlots = function() {
                    for (var e = 0; e < this.inHandPositions.length; e++)
                        for (var t = 0; t < this.inHandPositions[e].children.length; ++t) {
                            var n = this.inHandPositions[e].children[t];
                            null != n.getComponent(W) && n.destroy()
                        }
                    this.node.getComponentsInChildren(W).forEach((function(e) {
                        null != e && e.isValid && (e.cancelAsyncPowerUp(), e.node.destroy())
                    }))
                }, i.clearCardSelectionCards = function() {
                    for (var e = 0; e < this.cardSelectionPositions.length; e++)
                        for (var t = this.cardSelectionPositions[e], n = 0; n < t.children.length; n++) t.off("click", this.onPowerupSelected, this), t.children[n].destroy()
                }, i.showTooltip = function(e, t, n) {
                    this._showTooltipRequests = this._showTooltipRequests + 1, this.powerupTooltip.node.active = !0, this.powerupTooltip.node.setScale(new p(0, 1, 1)), n = n || this.powerupTooltipDefaultLocation.worldPosition, this.powerupTooltip.show(e, t, n)
                }, i.hideTooltip = function() {
                    this._showTooltipRequests = this._showTooltipRequests - 1, this._showTooltipRequests <= 0 && (this.powerupTooltip.hide(), this._showTooltipRequests = 0)
                }, i.showInstructions = function(e) {
                    if (m()) {
                        this.mobileInstructionRoot.active = !0, this.mobileInstructions.string = e, this.mobileInstructions.updateRenderData(!0);
                        var t = this.mobileInstructions.node._uiProps.uiTransformComp.contentSize,
                            n = Math.floor(t.width / 50);
                        t.width % 50 > 0 && n++, console.log("showInstructions: content size " + t + " -> m " + n + " width " + 50 * n);
                        var o = this.mobileInstructionBkg._uiProps.uiTransformComp.contentSize,
                            r = new C(50 * n, o.height);
                        console.log("showInstructions: existing size " + o + " new size " + r), this.mobileInstructionBkg._uiProps.uiTransformComp.contentSize = r
                    }
                }, i.hideInstructions = function() {
                    m() && (this.mobileInstructionRoot.active = !1, this.mobileInstructions.string = "")
                }, a(t, [{
                    key: "allPowerups",
                    get: function() {
                        return Array.from(this._allPowerups.values())
                    }
                }]), t
            }(S)).evtUIShowTargetSelect = void 0, ze.evtUICancelTargetSelect = void 0, t(fe = ze, "evtUIShowTargetSelect", [b], (we = (we = Object.getOwnPropertyDescriptor(fe, "evtUIShowTargetSelect")) ? we.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return we
                }
            }), fe), t(fe, "evtUICancelTargetSelect", [b], (ge = (ge = Object.getOwnPropertyDescriptor(fe, "evtUICancelTargetSelect")) ? ge.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return ge
                }
            }), fe), Pe = t(fe.prototype, "cardSelectionGroup", [K], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ce = t(fe.prototype, "cardSelectionBG", [X], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Se = t(fe.prototype, "cardSelectionPositions", [$], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), be = t(fe.prototype, "randomCardGrantPosition", [ee], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), ve = t(fe.prototype, "randomCardGrantRoot", [te], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), me = t(fe.prototype, "inHandGroup", [ne], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ie = t(fe.prototype, "inHandPositions", [oe], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), He = t(fe.prototype, "cardPrefab", [re], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), _e = t(fe.prototype, "cardChoices", [ae], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), ye = t(fe.prototype, "powerupTooltip", [ie], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Ue = t(fe.prototype, "powerupTooltipDefaultLocation", [se], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Te = t(fe.prototype, "touchHoldForInfo", [le], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Oe = t(fe.prototype, "mobileInstructionRoot", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Me = t(fe.prototype, "mobileInstructionBkg", [de], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Ge = t(fe.prototype, "mobileInstructions", [ue], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Re = t(fe.prototype, "powerupTargetSelectModalWindowPrefab", [he], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), pe = fe)) || pe));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpPrefabSpawner.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./physics.ts", "./BallHandler.ts", "./gameManager.ts", "./StatusEffectBase.ts", "./PowerUpBase.ts", "./BallBoundsCheck.ts", "./utils.ts", "./prefabManager.ts"], (function(t) {
    var e, n, i, o, a, r, s, c, l, u, f, h, p, d, v, g, I, y, C, _, w, E, T, P, m;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized, a = t.extends, r = t.createClass
        }, function(t) {
            s = t.cclegacy, c = t._decorator, l = t.Prefab, u = t.Color, f = t.input, h = t.Input, p = t.MeshRenderer, d = t.Collider, v = t.PhysicsSystem, g = t.Vec3
        }, function(t) {
            I = t.PhysicsGroups
        }, function(t) {
            y = t.DisableControlsReason
        }, function(t) {
            C = t.GameManager
        }, function(t) {
            _ = t.StatusEffectBase
        }, function(t) {
            w = t.PowerUpBase
        }, function(t) {
            E = t.BallBoundsCheck
        }, function(t) {
            T = t.isMobile, P = t.generateRandomString
        }, function(t) {
            m = t.PrefabManager
        }],
        execute: function() {
            var M, b, S, U, B, H, L;
            s._RF.push({}, "69453cKkzpDxoDN6OmP1UXC", "PowerUpPrefabSpawner", void 0);
            var A = c.ccclass,
                O = c.property;
            t("PowerUpPrefabSpawner", (M = A("PowerUpPrefabSpawner"), b = O(l), M(((L = function(t) {
                function e() {
                    for (var e, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(a)) || this, i(e, "statusEffect", B, o(e)), i(e, "orientToSurface", H, o(e)), e.invalidColor = new u(u.RED), e._statusEffectInstance = null, e._previewInstance = null, e._defaultColors = [], e._materialInstances = [], e._invalidCount = 0, e
                }
                n(e, t);
                var s = e.prototype;
                return s.updateValidity = function() {
                    var t = this;
                    this._invalidCount > 0 ? this._materialInstances.forEach((function(e) {
                        e.setProperty("mainColor", t.invalidColor)
                    })) : this._materialInstances.forEach((function(e, n) {
                        e.setProperty("mainColor", t._defaultColors[n])
                    }))
                }, s.onTriggerEnter = function(t) {
                    t.otherCollider.getGroup() == I.Ball && (this._invalidCount++, this.updateValidity())
                }, s.onTriggerExit = function(t) {
                    t.otherCollider.getGroup() == I.Ball && (this._invalidCount--, this.updateValidity())
                }, s.init = function(e) {
                    t.prototype.init.call(this, e), this._statusEffectInstance = C.Instance.currentMode.statusEffectManager.registerStatusEffect(this.statusEffect)
                }, s.activate = function() {
                    var e = this,
                        n = this.getLocalPlayerBallHandler();
                    if (n && (t.prototype.activate.call(this), n.disableControls(y.PowerupActive), f.on(h.EventType.TOUCH_END, this.onTouchUp, this), f.on(h.EventType.TOUCH_START, this.onTouchDown, this), T() ? f.on(h.EventType.TOUCH_MOVE, this.onTouchMove, this) : f.on(h.EventType.MOUSE_MOVE, this.onMouseMove, this), this._previewInstance = m.Instance.getInstance(this._statusEffectInstance.previewPrefab), this._previewInstance)) {
                        var i = this._previewInstance.getComponentsInChildren(p);
                        i && i.forEach((function(t) {
                            var n = t.getMaterialInstance(0);
                            if (n) {
                                var i = n.getProperty("mainColor", 0);
                                i && (e._defaultColors.push(i), e._materialInstances.push(n))
                            }
                        })), this.node.scene.addChild(this._previewInstance), this._previewInstance.worldPosition = this._statusEffectInstance.groundOffset.clone();
                        var o = this._previewInstance.getComponentInChildren(d);
                        o && o.isTrigger && (o.on("onTriggerEnter", this.onTriggerEnter, this), o.on("onTriggerExit", this.onTriggerExit, this))
                    }
                }, s.releaseInput = function() {
                    T() ? f.off(h.EventType.TOUCH_MOVE, this.onTouchMove, this) : f.off(h.EventType.MOUSE_MOVE, this.onMouseMove, this), f.off(h.EventType.TOUCH_START, this.onTouchDown, this), f.off(h.EventType.TOUCH_END, this.onTouchUp, this)
                }, s.cancel = function() {
                    t.prototype.cancel.call(this), this.releaseInput(), this._previewInstance && (this._previewInstance.destroy(), this._previewInstance = null);
                    var e = this.getLocalPlayerBallHandler();
                    null == e || e.enableControls()
                }, s.onTouchDown = function(t) {
                    var e = t.getLocation();
                    T() && (e.y += 40), this.onMove(e), C.Instance.cameraBrain.AllowedToControlCamera = !1
                }, s.onTouchUp = function(t) {
                    0 == t.getAllTouches().length && (this.applyEffect(t.getLocation()) && this.releaseInput(), t.bubbles = !0, C.Instance.cameraBrain.AllowedToControlCamera = !0)
                }, s.onTouchMove = function(t) {
                    var e = t.getLocation();
                    e.y += 40, this.onMove(e)
                }, s.onMouseMove = function(t) {
                    this.onMove(t.getLocation())
                }, s.onMove = function(t) {
                    var e = this.validLocation(t);
                    if (e) {
                        var n = e.hitPoint;
                        this._previewInstance && (this._previewInstance.worldPosition = n.clone().add(this._statusEffectInstance.groundOffset), this.orientToSurface && this._previewInstance.lookAt(this._previewInstance.right.cross(e.hitNormal).add(this._previewInstance.worldPosition), e.hitNormal))
                    }
                }, s.validLocation = function(t) {
                    var n = C.Instance.currentCamera.screenPointToRay(t.x, t.y);
                    if (v.instance.raycastClosest(n, I.CourseGround)) {
                        var i = v.instance.raycastClosestResult,
                            o = i.collider.getComponent(E),
                            a = C.Instance.currentMode;
                        a.currentHole;
                        o && o.hole;
                        var r = a.GetStartLocationsFromHole(-1).filter((function(t) {
                            return g.distance(i.hitPoint, t.worldPosition) <= e.cInvalidPlacementAroundHoleRadius
                        }));
                        if (r && r.length > 0) return null;
                        var s = a.GetEndLocationsFromHole(-1).filter((function(t) {
                            return g.distance(i.hitPoint, t.worldPosition) <= e.cInvalidPlacementAroundHoleRadius
                        }));
                        return s && s.length > 0 ? null : i
                    }
                    return null
                }, s.applyEffect = function(t) {
                    if (this._invalidCount > 0) return !1;
                    if (!this.validLocation(t)) return !1;
                    var e = C.Instance.currentMode;
                    if (this._previewInstance) {
                        var n = this._previewInstance.worldPosition,
                            i = this._previewInstance.forward,
                            o = this._previewInstance.up;
                        e.sendApplyStatusEffectToTarget(a({
                            id: P(),
                            target: e.statusEffects,
                            position: n,
                            dir: i,
                            up: o
                        }, this.getAdditionalTargetData(n)), this._statusEffectInstance.statusEffectId), this._previewInstance.destroy(), this._previewInstance = null
                    }
                    var r = this.getLocalPlayerBallHandler();
                    null == r || r.enableControls();
                    var s = this.getLocalGolfPlayer();
                    return s && this.sendGameLogEvent({
                        action: "activated " + this.htmlColoredUiName,
                        instigatorId: s.uid,
                        instigatorName: s.userName
                    }), this.complete(), !0
                }, s.getAdditionalTargetData = function(t) {
                    return null
                }, r(e, [{
                    key: "cardColor",
                    get: function() {
                        return this.statusEffect ? this.statusEffect.data.getComponent(_).cardColor : t.prototype.cardColor
                    }
                }, {
                    key: "uiIcon",
                    get: function() {
                        return this.statusEffect.data.getComponent(_).icon
                    }
                }, {
                    key: "charges",
                    get: function() {
                        return this.statusEffect.data.getComponent(_).charges()
                    }
                }, {
                    key: "isAsyncPowerup",
                    get: function() {
                        return !0
                    }
                }]), e
            }(w)).cInvalidPlacementAroundHoleRadius = 3, B = e((U = L).prototype, "statusEffect", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), H = e(U.prototype, "orientToSurface", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), S = U)) || S));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpPrefabSpawnerWithDirection.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./gameManager.ts", "./StatusEffectBase.ts", "./PowerUpBase.ts", "./utils.ts"], (function(t) {
    var e, i, n, o, a, s, r, c, l, u, f, h, d, p, g, v, m, y;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized, a = t.createClass
        }, function(t) {
            s = t.cclegacy, r = t._decorator, c = t.Prefab, l = t.input, u = t.Input, f = t.instantiate, h = t.geometry, d = t.Vec3
        }, function(t) {
            p = t.DisableControlsReason
        }, function(t) {
            g = t.GameManager
        }, function(t) {
            v = t.StatusEffectBase
        }, function(t) {
            m = t.PowerUpBase
        }, function(t) {
            y = t.isMobile
        }],
        execute: function() {
            var E, P, _, b, M, W, T;
            s._RF.push({}, "ea892qH5jZCHYubEW8GzRER", "PowerUpPrefabSpawnerWithDirection", void 0);
            var w = r.ccclass,
                C = r.property;
            t("PowerUpPrefabSpawnerWithDirection", (E = w("PowerUpPrefabSpawnerWithDirection"), P = C(c), _ = C(c), E((W = e((M = function(t) {
                function e() {
                    for (var e, i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                    return e = t.call.apply(t, [this].concat(a)) || this, n(e, "statusEffect", W, o(e)), n(e, "aimWidgetPrefab", T, o(e)), e._statusEffectInstance = null, e._aimWidget = void 0, e
                }
                i(e, t);
                var s = e.prototype;
                return s.init = function(e) {
                    t.prototype.init.call(this, e), this._statusEffectInstance = g.Instance.currentMode.statusEffectManager.registerStatusEffect(this.statusEffect)
                }, s.activate = function() {
                    var e;
                    t.prototype.activate.call(this), l.on(u.EventType.TOUCH_END, this.onTouchUp, this), y() ? l.on(u.EventType.TOUCH_MOVE, this.onTouchMove, this) : l.on(u.EventType.MOUSE_MOVE, this.onMouseMove, this), this._aimWidget = f(this.aimWidgetPrefab), this.node.scene.addChild(this._aimWidget);
                    var i = this.getLocalPlayerBallHandler();
                    null != i && null != (e = i.node) && e.isValid && (this._aimWidget.setWorldPosition(i.node.worldPosition), i.disableControls(p.PowerupActive))
                }, s.onTouchMove = function(t) {
                    this.onMove(t.getLocation())
                }, s.onMouseMove = function(t) {
                    this.onMove(t.getLocation()), t.bubbles = !0
                }, s.onMove = function(t) {
                    var e;
                    if (this._aimWidget.isValid) {
                        var i = g.Instance.currentCamera.screenPointToRay(t.x, t.y),
                            n = new h.Plane(0, 1, 0, this._aimWidget.position.y),
                            o = h.intersect.rayPlane(i, n),
                            a = new d(0, 0, 0);
                        i.computeHit(a, o);
                        var s = this.getLocalPlayerBallHandler();
                        null != s && null != (e = s.node) && e.isValid && this._aimWidget.setWorldPosition(s.node.worldPosition), this._aimWidget.lookAt(a)
                    }
                }, s.onTouchUp = function(t) {
                    0 == t.getAllTouches().length && this._aimWidget.isValid && (this.onDirectionSelected(this._aimWidget.forward, this._aimWidget.up), t.bubbles = !1)
                }, s.onDirectionSelected = function(t, e) {
                    var i = g.Instance.currentMode;
                    i.GetGolfPlayers();
                    i.sendApplyStatusEffectToTarget({
                        target: i.statusEffects,
                        dir: t,
                        up: e,
                        position: i.GetFirstEndHoleLocation()
                    }, this._statusEffectInstance.statusEffectId), this.deactivateAiming();
                    var n = this.getLocalGolfPlayer();
                    this.sendGameLogEvent({
                        action: "activated " + this.htmlColoredUiName,
                        instigatorId: n.uid,
                        instigatorName: n.userName
                    }), this.complete()
                }, s.cancel = function() {
                    t.prototype.cancel.call(this), this.deactivateAiming()
                }, s.deactivateAiming = function() {
                    var t;
                    this._aimWidget && (this._aimWidget.destroy(), this._aimWidget = null), null == (t = this.getLocalPlayerBallHandler()) || t.enableControls(), y() ? l.off(u.EventType.TOUCH_MOVE, this.onTouchMove, this) : l.off(u.EventType.MOUSE_MOVE, this.onMouseMove, this), l.off(u.EventType.TOUCH_END, this.onTouchUp, this)
                }, a(e, [{
                    key: "charges",
                    get: function() {
                        return this.statusEffect.data.getComponent(v).charges()
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.statusEffect ? this.statusEffect.data.getComponent(v).cardColor : t.prototype.cardColor
                    }
                }, {
                    key: "isAsyncPowerup",
                    get: function() {
                        return !0
                    }
                }]), e
            }(m)).prototype, "statusEffect", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), T = e(M.prototype, "aimWidgetPrefab", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), b = M)) || b));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpPrefabSpawnerWithRandomPath.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./PowerUpPrefabSpawner.ts"], (function(e) {
    var t, n, r, a, o, i, s, c, l, u, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, i = e._decorator, s = e.CCFloat, c = e.Vec3, l = e.randomRangeInt
        }, function(e) {
            u = e.GameManager
        }, function(e) {
            p = e.PowerUpPrefabSpawner
        }],
        execute: function() {
            var h, f, g, P, d;
            o._RF.push({}, "b629bpjh4FNSYSwXpd4pxQZ", "PowerUpPrefabSpawnerWithRandomPath", void 0);
            var v = i.ccclass,
                m = i.property;
            e("PowerUpPrefabSpawnerWithRandomPath", (h = v("PowerUpPrefabSpawnerWithRandomPath"), f = m(s), h((d = t((P = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), i = 0; i < n; i++) o[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(o)) || this, r(t, "pathDistance", d, a(t)), t
                }
                n(t, e);
                var o = t.prototype;
                return o.getAdditionalTargetData = function(e) {
                    var t = [];
                    t.push(c.ZERO);
                    for (var n = this.pathDistance, r = []; n > 0;) {
                        0 == r.length && this.getValidPositions(r);
                        var a = l(0, r.length),
                            o = r[a].clone();
                        r.splice(a, 1);
                        var i = (o = o.subtract(e)).clone().subtract(t[t.length - 1]),
                            s = i.length();
                        (n -= s) < 0 && ((s += n) > 0 ? (i.normalize().multiplyScalar(s), o = t[t.length - 1].clone().add(i)) : o = null), o && t.push(o)
                    }
                    return {
                        path: t,
                        startTime: u.Instance.getServerTime()
                    }
                }, o.getValidPositions = function(e) {
                    this.getPlayerPositions(e);
                    var t = u.Instance.currentMode;
                    return t.GetEndLocationsFromHole(t.currentHole).forEach((function(t) {
                        e.push(t.worldPosition.clone())
                    })), e
                }, o.getPlayerPositions = function(e) {
                    u.Instance.currentMode.GetPlayers().forEach((function(t) {
                        t.state.pos && e.push(c.clone(t.state.pos))
                    }))
                }, o.getRandomPlayerPos = function(e) {
                    var t = this,
                        n = u.Instance.currentMode.GetPlayers(),
                        r = [];
                    if (n.forEach((function(n) {
                            if (n.state.pos) {
                                var a = c.clone(n.state.pos);
                                c.distance(a, e) <= t.pathDistance && r.push(a)
                            }
                        })), r.length > 0) {
                        var a = l(0, r.length);
                        return r[a]
                    }
                    return this.getClosestPlayer(e)
                }, o.getRandomHolePos = function(e) {
                    var t = this,
                        n = u.Instance.currentMode.currentLevel.getHoleLocations();
                    return (n = n.filter((function(n) {
                        return c.distance(n, e) <= t.pathDistance
                    }))).length > 0 ? n[l(0, n.length)] : this.getClosestHole(e)
                }, o.getClosestPlayer = function(e) {
                    var t = u.Instance.currentMode.GetPlayers(),
                        n = null,
                        r = Number.MAX_VALUE;
                    return t.forEach((function(t) {
                        var a = c.clone(t.state.pos),
                            o = c.distance(a, e);
                        o < r && (r = o, n = a)
                    })), n
                }, o.getClosestHole = function(e) {
                    var t = u.Instance.currentMode.currentLevel.getHoleLocations(),
                        n = null,
                        r = Number.MAX_VALUE;
                    return t.forEach((function(t) {
                        var a = c.distance(t, e);
                        a < r && (r = a, n = t)
                    })), n
                }, t
            }(p)).prototype, "pathDistance", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), g = P)) || g));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/PowerUpTeleport.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./physics.ts", "./BallHandler.ts", "./gameManager.ts", "./PowerUpBase.ts", "./CameraNoise.ts", "./GroundLights.ts", "./utils.ts"], (function(e) {
    var t, n, i, o, r, a, l, s, u, c, p, f, d, h, v, g, b, y, w, P, T, m, C, _, I, M;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized, r = e.createClass
        }, function(e) {
            a = e.cclegacy, l = e._decorator, s = e.Prefab, u = e.Color, c = e.Vec3, p = e.Vec2, f = e.tween, d = e.instantiate, h = e.MeshRenderer, v = e.input, g = e.Input, b = e.PhysicsSystem
        }, function(e) {
            y = e.PhysicsGroups
        }, function(e) {
            w = e.DisableControlsReason
        }, function(e) {
            P = e.GameManager
        }, function(e) {
            T = e.PowerUpBase
        }, function(e) {
            m = e.CameraNoiseSetting, C = e.CameraNoise
        }, function(e) {
            _ = e.GroundLights
        }, function(e) {
            I = e.SMALL_SCALE, M = e.isMobile
        }],
        execute: function() {
            var E, O, L, x, N, U, H, R, z, S, V, Z, B, D, F, A, G, W, k, K, Q, j, q, Y, J, X;
            a._RF.push({}, "40065hE2I5Cb5oc4YWiOaVW", "PowerUpTeleport", void 0);
            var $ = l.ccclass,
                ee = l.property;
            e("PowerUpTeleport", (E = $("PowerUpTeleport"), O = ee(s), L = ee(s), x = ee(s), N = ee(s), U = ee(s), H = ee(u), R = ee(m), z = ee(m), S = ee(s), V = ee(c), Z = ee(p), E((F = t((D = function(e) {
                function t() {
                    for (var t, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, i(t, "fxPrefab", F, o(t)), i(t, "fxFail", A, o(t)), i(t, "fxTeleportOut", G, o(t)), i(t, "fxTeleportIn", W, o(t)), i(t, "teleportZonePrefab", k, o(t)), i(t, "teleportRadius", K, o(t)), i(t, "uiCardColor", Q, o(t)), i(t, "onTeleportInNoiseSetting", j, o(t)), i(t, "onTeleportOutNoiseSetting", q, o(t)), i(t, "previewPrefab", Y, o(t)), i(t, "groundOffset", J, o(t)), i(t, "pointerOffset", X, o(t)), t._previewMaterial = null, t._startColor = new u, t._teleporting = !1, t._teleportZoneInstance = null, t._previewInstance = null, t
                }
                n(t, e);
                var a = t.prototype;
                return a.activate = function() {
                    var t, n = this.getLocalPlayerBallHandler();
                    if (null != n) {
                        e.prototype.activate.call(this), this.instantiateEffect(n, this.fxPrefab), this._teleportZoneInstance = this.instantiateEffect(n, this.teleportZonePrefab);
                        var i = this.getCanvasPosition();
                        this._teleportZoneInstance.setWorldPosition(i), this._teleportZoneInstance.setWorldRotationFromEuler(90, 0, 0), null != this._teleportZoneInstance && f(this._teleportZoneInstance).set({
                            scale: I
                        }).to(.5, {
                            scale: new c(4 * this.teleportRadius, 0, 4 * this.teleportRadius)
                        }, {
                            easing: "quadOut"
                        }).start(), this._previewInstance = d(this.previewPrefab), this.node.scene.addChild(this._previewInstance);
                        var o = null == (t = this._previewInstance) ? void 0 : t.getComponentInChildren(h);
                        this._previewMaterial = null == o ? void 0 : o.material, o && (o.material = this._previewMaterial), this._previewInstance.worldPosition = n.node.worldPosition.clone().add(new c(0, -n.getRadius(), 0)), n.disableControls(w.PowerupActive), M() || v.on(g.EventType.MOUSE_MOVE, this.onMouseMove, this), v.on(g.EventType.TOUCH_END, this.onTouchUp, this)
                    }
                }, a.getCanvasPosition = function() {
                    var e, t, n = this.getLocalPlayerBallHandler(),
                        i = null == (e = P.Instance.currentMode.currentLevel) || null == (t = e.node.getComponent(_)) ? void 0 : t.getCanvas(),
                        o = null == n ? void 0 : n.node.worldPosition.clone();
                    return i && o && (o = i.getCanvasPositionFromWorld(o)), o
                }, a.cancel = function() {
                    e.prototype.cancel.call(this);
                    var t = this.getLocalPlayerBallHandler();
                    t && this.DeactivateTeleport(t)
                }, a.canActivatePowerup = function() {
                    var e = this.getLocalPlayerBallHandler();
                    return !(null != e && e.inHole)
                }, a.onTouchUp = function(e) {
                    if (0 == e.getAllTouches().length) {
                        v.off(g.EventType.TOUCH_END, this.onTouchUp, this);
                        var t = e.getLocation(),
                            n = this.getValidatedPosition(t);
                        n ? this.Teleport(n) : this.canceled(), e.bubbles = !0
                    }
                }, a.getValidatedPosition = function(e) {
                    var t = this.getLocalPlayerBallHandler(),
                        n = P.Instance.currentCamera.screenPointToRay(e.x + this.pointerOffset.x, e.y + this.pointerOffset.y);
                    if (b.instance.raycastClosest(n, y.CourseGround | y.TeleportIgnore)) {
                        var i = b.instance.raycastClosestResult.hitPoint.clone(),
                            o = i.clone().subtract(t.node.worldPosition);
                        if (o.y = 0, o.length() <= this.teleportRadius) return i.add(new c(0, t.getRadius(), 0))
                    }
                    return null
                }, a.onMouseMove = function(e) {
                    var t = this.getLocalPlayerBallHandler();
                    if (null != t && t.isValid) {
                        this._teleportZoneInstance.setWorldPosition(this.getCanvasPosition());
                        var n, i, o = e.getLocation(),
                            r = this.getValidatedPosition(o);
                        if (r) this._previewInstance.worldPosition = r, null == (n = this._previewMaterial) || n.setProperty("mainColor", u.WHITE);
                        else null == (i = this._previewMaterial) || i.setProperty("mainColor", new u(255, 100, 100, 255))
                    }
                }, a.Teleport = function(e) {
                    var t = this;
                    if (!this._teleporting) {
                        this._teleporting = !0;
                        var n = this.getLocalPlayerBallHandler();
                        if (n) {
                            var i = e.clone().subtract(n.node.worldPosition);
                            if (i.y = 0, i.length() > this.teleportRadius) null != this.fxFail && this.instantiateEffect(n, this.fxFail);
                            else {
                                var o = P.Instance.currentMode;
                                o.GetEndLocationsFromHole(o.currentHole).forEach((function(t) {
                                    c.distance(t.worldPosition, e) < 3 && (e = t.worldPosition.clone())
                                })), e.add(this.groundOffset), n.rigidbody.isKinematic = !0, v.off(g.EventType.MOUSE_MOVE, this.onMouseMove, this), f(n.node).call((function() {
                                    null != t.fxTeleportIn && t.instantiateEffect(n, t.fxTeleportOut)
                                })).delay(.25).call((function() {
                                    n.ballVisual.active = !1, n.seeThroughVisual.active = !1, n.shadowQuad.active = !1, P.Instance.currentMode.playerCamera.node.emit(C.cAddCameraNoise, t.onTeleportOutNoiseSetting)
                                })).delay(.5).set({
                                    position: e
                                }).call((function() {
                                    var e = t.getLocalGolfPlayer();
                                    e && e.BallTeleported(), null != t.fxTeleportIn && t.instantiateEffect(n, t.fxTeleportIn)
                                })).delay(.25).call((function() {
                                    n.ballVisual.active = !0, n.seeThroughVisual.active = !0, n.shadowQuad.active = !0, P.Instance.currentMode.playerCamera.node.emit(C.cAddCameraNoise, t.onTeleportInNoiseSetting), t._teleporting = !1, n.rigidbody.isKinematic = !1, t.DeactivateTeleport(n)
                                })).start();
                                var r = this.getLocalGolfPlayer();
                                this.sendGameLogEvent({
                                    action: "activated " + this.htmlColoredUiName,
                                    instigatorId: r.uid,
                                    instigatorName: r.userName
                                }), this.complete()
                            }
                        } else console.error("failed to Teleport because we couldn't find a ball visual.")
                    }
                }, a.DeactivateTeleport = function(e) {
                    var t = this;
                    null != this._teleportZoneInstance && f(this._teleportZoneInstance).to(.2, {
                        scale: I
                    }).call((function() {
                        t._teleportZoneInstance.destroy()
                    })).start(), this._previewInstance && (this._previewInstance.destroy(), this._previewInstance = null), M() || v.off(g.EventType.MOUSE_MOVE, this.onMouseMove, this), v.off(g.EventType.TOUCH_END, this.onTouchUp, this), null == e || e.enableControls()
                }, r(t, [{
                    key: "isAsyncPowerup",
                    get: function() {
                        return !0
                    }
                }, {
                    key: "cardColor",
                    get: function() {
                        return this.uiCardColor
                    }
                }]), t
            }(T)).prototype, "fxPrefab", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), A = t(D.prototype, "fxFail", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = t(D.prototype, "fxTeleportOut", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), W = t(D.prototype, "fxTeleportIn", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), k = t(D.prototype, "teleportZonePrefab", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), K = t(D.prototype, "teleportRadius", [ee], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), Q = t(D.prototype, "uiCardColor", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u("#E64D4F")
                }
            }), j = t(D.prototype, "onTeleportInNoiseSetting", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), q = t(D.prototype, "onTeleportOutNoiseSetting", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Y = t(D.prototype, "previewPrefab", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), J = t(D.prototype, "groundOffset", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), X = t(D.prototype, "pointerOffset", [Z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p(0, -10)
                }
            }), B = D)) || B));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/prefabManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./prefabPool.ts"], (function(n) {
    var e, t, a, o, r, c, s;
    return {
        setters: [function(n) {
            e = n.inheritsLoose, t = n.createClass
        }, function(n) {
            a = n.cclegacy, o = n._decorator, r = n.instantiate, c = n.Component
        }, function(n) {
            s = n.PrefabPool
        }],
        execute: function() {
            var i, l;
            a._RF.push({}, "1516ezSrBhHGqKpzD4RqRwc", "prefabManager", void 0);
            var f = o.ccclass;
            o.property, n("PrefabManager", f("PrefabManager")(((l = function(n) {
                function a() {
                    for (var e, t = arguments.length, a = new Array(t), o = 0; o < t; o++) a[o] = arguments[o];
                    return (e = n.call.apply(n, [this].concat(a)) || this)._pools = new Map, e
                }
                e(a, n);
                var o = a.prototype;
                return o.onLoad = function() {
                    a._instance = this
                }, o.start = function() {
                    var n = this;
                    this.getComponentsInChildren(s).forEach((function(e) {
                        if (e.prefabToPool) {
                            var t = e.prefabToPool.name;
                            t && 0 != t.length || (t = e.prefabToPool.data.name), n._pools.set(t, e)
                        }
                    }))
                }, o.onDestroy = function() {}, o.getInstance = function(n) {
                    var e = n.name;
                    e && 0 != e.length || (e = n.data.name);
                    var t = this._pools.get(e);
                    return t ? t.getInstance() : r(n)
                }, t(a, null, [{
                    key: "Instance",
                    get: function() {
                        return a._instance
                    }
                }]), a
            }(c))._instance = void 0, i = l)) || i);
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/prefabPool.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts"], (function(o) {
    var e, t, n, i, r, a, l, s, c, p;
    return {
        setters: [function(o) {
            e = o.applyDecoratedDescriptor, t = o.inheritsLoose, n = o.initializerDefineProperty, i = o.assertThisInitialized
        }, function(o) {
            r = o.cclegacy, a = o._decorator, l = o.Prefab, s = o.Component, c = o.instantiate
        }, function(o) {
            p = o.getInterfaceSupportComponents
        }],
        execute: function() {
            var u, f, h, d, b, P, v;
            r._RF.push({}, "aa3daxmc/hCBJ9Ksb2nkeDN", "prefabPool", void 0);
            var m = a.ccclass,
                g = a.property;
            o("PrefabPool", (u = m("PrefabPool"), f = g(l), u((b = e((d = function(o) {
                function e() {
                    for (var e, t = arguments.length, r = new Array(t), a = 0; a < t; a++) r[a] = arguments[a];
                    return e = o.call.apply(o, [this].concat(r)) || this, n(e, "prefabToPool", b, i(e)), n(e, "initialPoolSize", P, i(e)), n(e, "allocationSize", v, i(e)), e._pool = [], e
                }
                t(e, o);
                var r = e.prototype;
                return r.addNodes = function(o) {
                    for (var e = this, t = function() {
                            var o = c(e.prefabToPool);
                            o.destroy = function() {
                                return e.putInstance(o), !0
                            }, e._pool.push(o), e.node.addChild(o)
                        }, n = 0; n < o; ++n) t()
                }, r.start = function() {
                    var o = this;
                    if (!this.prefabToPool) throw "Missing prefab to pool reference";
                    this.addNodes(this.initialPoolSize), this.scheduleOnce((function() {
                        o._pool.forEach((function(o) {
                            o.active = !1
                        }))
                    }), 1)
                }, r.getInstance = function() {
                    if (0 == this._pool.length) {
                        if (0 == this.allocationSize) return console.warn("Requesting a [" + this.prefabToPool.name + "] node from the pool but it is empty and not allowed to grow."), null;
                        this.addNodes(this.allocationSize)
                    }
                    var o = this._pool.pop();
                    o.removeFromParent(), o.active = !0;
                    var e = p(o, "onSpawnedFromPool");
                    return e && e.forEach((function(o) {
                        o.onSpawnedFromPool()
                    })), o
                }, r.putInstance = function(o) {
                    if (null == o._prefab || o._prefab.asset.data == this.prefabToPool.data) {
                        var e = p(o, "onReturnToPool");
                        e && e.forEach((function(o) {
                            o.onReturnToPool()
                        })), o.active = !1, this.node.addChild(o), this._pool.push(o)
                    } else console.error("trying to return node " + o.name + " to wrong prefab pool " + this.prefabToPool.name)
                }, e
            }(s)).prototype, "prefabToPool", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = e(d.prototype, "initialPoolSize", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), v = e(d.prototype, "allocationSize", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), h = d)) || h));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/RandomScalePulse.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts"], (function(e) {
    var t, o, n, a, i, l, r, s, c, u, h, f, y, d, g, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, n = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, l = e._decorator, r = e.CCFloat, s = e.CCBoolean, c = e.randomRange, u = e.Tween, h = e.tween, f = e.Vec3, y = e.Component
        }, function(e) {
            d = e.GameManager
        }, function(e) {
            g = e.cPlayerVisualAdded, p = e.cPlayerVisualRemoved
        }],
        execute: function() {
            var D, m, b, P, w, M, v, G, z, L, S, _, R, T, x, k, A;
            i._RF.push({}, "40a95Elkf9DspmfwiAGG+JJ", "RandomScalePulse", void 0);
            var C = l.ccclass,
                U = l.property;
            e("RandomScalePulse", (D = C("RandomScalePulse"), m = U(r), b = U(r), P = U(r), w = U(r), M = U(r), v = U(s), G = U(s), D((S = t((L = function(e) {
                function t() {
                    for (var t, o = arguments.length, i = new Array(o), l = 0; l < o; l++) i[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(i)) || this, n(t, "scaleUp", S, a(t)), n(t, "scaleDown", _, a(t)), n(t, "maxDuration", R, a(t)), n(t, "minDuration", T, a(t)), n(t, "startDelay", x, a(t)), t.scaleDuration = Math.round(100 * c(t.minDuration, t.maxDuration)) / 100, t.delayDuration = Math.round(100 * c(t.minDuration, t.maxDuration)) / 100, n(t, "consoleLogs", k, a(t)), t._activePlayers = !1, n(t, "countPlayer", A, a(t)), t.golfMode = void 0, t
                }
                o(t, e);
                var i = t.prototype;
                return i.checkPlayers = function() {
                    this.golfMode.GetGolfPlayers().length > 1 && 0 != this._activePlayers && (u.stopAllByTarget(this.node), this._activePlayers = !1, !0 === this.consoleLogs && console.log("More than one player: " + this.golfMode.GetGolfPlayers().length)), 1 === this.golfMode.GetGolfPlayers().length && 1 != this._activePlayers && (this.StartTween(), this._activePlayers = !0, !0 === this.consoleLogs && console.log("One player: " + this.golfMode.GetGolfPlayers().length))
                }, i.onEnable = function() {
                    var e = this;
                    this.golfMode = d.Instance.currentMode, h(this.node).delay(this.startDelay).call((function() {
                        e.StartTween()
                    })).start(), this.countPlayer && (this.golfMode.node.on(g, this.checkPlayers.bind(this)), this.golfMode.node.on(p, this.checkPlayers.bind(this)))
                }, i.onDisable = function() {
                    u.stopAllByTarget(this.node)
                }, i.StartTween = function() {
                    var e = this,
                        t = h(this.node).call((function() {
                            e.scaleDuration = Math.round(100 * c(1, 2)) / 100, e.delayDuration = Math.round(100 * c(e.minDuration, e.maxDuration)) / 100, !0 === e.consoleLogs && console.log("Play Tween Duration: " + e.scaleDuration)
                        })).to(this.scaleDuration, {
                            scale: new f(this.scaleUp, this.scaleUp, this.scaleUp)
                        }, {
                            easing: "quartIn"
                        }).to(this.scaleDuration, {
                            scale: new f(this.scaleDown, this.scaleDown, this.scaleDown)
                        }, {
                            easing: "quartOut"
                        }).call((function() {
                            !0 === e.consoleLogs && console.log("Delay Start for: " + e.delayDuration)
                        })).delay(this.delayDuration).call((function() {
                            !0 === e.consoleLogs && console.log("Delay Done")
                        }));
                    h(this.node).repeatForever(t).start()
                }, t
            }(y)).prototype, "scaleUp", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1.1
                }
            }), _ = t(L.prototype, "scaleDown", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), R = t(L.prototype, "maxDuration", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), T = t(L.prototype, "minDuration", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), x = t(L.prototype, "startDelay", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), k = t(L.prototype, "consoleLogs", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), A = t(L.prototype, "countPlayer", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), z = L)) || z));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ResizinigTournamentCard.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, i, n, r, a, o, u, l, s, c, g;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, o = e._decorator, u = e.UITransform, l = e.Layout, s = e.Widget, c = e.CCInteger, g = e.Component
        }],
        execute: function() {
            var h, y, p, f, d, b, m, z, P, C, H, L, w, k, I;
            a._RF.push({}, "09f9daGzWhHQ4ioCJrVIYPI", "ResizinigTournamentCard", void 0);
            var v = o.ccclass,
                A = o.property;
            e("ResizinigTournamentCard", (h = v("ResizinigTournamentCard"), y = A(u), p = A([l]), f = A([s]), d = A(c), b = A(c), m = A(c), h((C = t((P = function(e) {
                function t() {
                    for (var t, i = arguments.length, a = new Array(i), o = 0; o < i; o++) a[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(a)) || this, n(t, "background", C, r(t)), n(t, "parentLayout", H, r(t)), n(t, "layoutImages", L, r(t)), n(t, "ninePlayersHeight", w, r(t)), n(t, "sixPlayersHeight", k, r(t)), n(t, "threePlayersHeight", I, r(t)), t
                }
                i(t, e);
                var a = t.prototype;
                return a.threePlayers = function() {
                    this.background.setContentSize(this.background.width, this.ninePlayersHeight), this.updateAlignmentLayout()
                }, a.sixPlayers = function() {
                    this.background.setContentSize(this.background.width, this.sixPlayersHeight), this.updateAlignmentLayout()
                }, a.ninePlayers = function() {
                    this.background.setContentSize(this.background.width, this.threePlayersHeight), this.updateAlignmentLayout()
                }, a.updateAlignmentLayout = function() {
                    this.layoutImages.forEach((function(e) {
                        e.updateAlignment()
                    })), this.parentLayout.forEach((function(e) {
                        e.updateLayout()
                    }))
                }, t
            }(g)).prototype, "background", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = t(P.prototype, "parentLayout", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), L = t(P.prototype, "layoutImages", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), w = t(P.prototype, "ninePlayersHeight", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 222
                }
            }), k = t(P.prototype, "sixPlayersHeight", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 165
                }
            }), I = t(P.prototype, "threePlayersHeight", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 80
                }
            }), z = P)) || z));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/RotateTowards.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var t, r, o, a, n, i, l, s, u, c, d;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, o = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, i = e._decorator, l = e.Node, s = e.Vec3, u = e.Quat, c = e.Component
        }, function(e) {
            d = e.GameManager
        }],
        execute: function() {
            var p, g, f, h, w, y, b;
            n._RF.push({}, "bba679C+N5Ib6W3luGxl97G", "RotateTowards", void 0);
            var m = i.ccclass,
                R = i.property;
            e("RotateTowards", (p = m("RotateTowards"), g = R(l), p((w = t((h = function(e) {
                function t() {
                    for (var t, r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(n)) || this, o(t, "rotateTowardPlayerCam", w, a(t)), o(t, "targetNode", y, a(t)), o(t, "turnSpeed", b, a(t)), t
                }
                return r(t, e), t.prototype.update = function(e) {
                    if (null != this.targetNode) {
                        var t = this.targetNode.worldPosition.clone().subtract(this.node.worldPosition);
                        t.y = 0, t.normalize();
                        var r = s.dot(t, s.RIGHT),
                            o = s.angle(s.FORWARD.clone().negative(), t) * Math.sign(r),
                            a = new u;
                        u.fromAxisAngle(a, s.UP.clone(), o), u.slerp(a, this.node.worldRotation, a, e * this.turnSpeed), this.node.worldRotation = a
                    } else this.rotateTowardPlayerCam && (this.targetNode = d.Instance.currentCamera.node)
                }, t
            }(c)).prototype, "rotateTowardPlayerCam", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), y = t(h.prototype, "targetNode", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), b = t(h.prototype, "turnSpeed", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .15
                }
            }), f = h)) || f));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/rotator.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./moverManager.ts"], (function(t) {
    var e, i, n, r, o, a, s, l, c, u, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
        }, function(t) {
            o = t.cclegacy, a = t._decorator, s = t.Node, l = t.Vec3, c = t.Quat, u = t.Component
        }, function(t) {
            p = t.MoverManager
        }],
        execute: function() {
            var f, h, d, y, g, v, b, m, _;
            o._RF.push({}, "330793IrJRKiJYU/CSOrQMI", "rotator", void 0);
            var R = a.ccclass,
                x = a.property;
            t("Rotator", (f = R("Rotator"), h = x(s), d = x(l), f((v = e((g = function(t) {
                function e() {
                    for (var e, i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(o)) || this, n(e, "rotator", v, r(e)), n(e, "speed", b, r(e)), n(e, "delay", m, r(e)), n(e, "axis", _, r(e)), e._initialAngles = l.ZERO.clone(), e
                }
                i(e, t);
                var o = e.prototype;
                return o.id = function() {
                    return this._id
                }, o.start = function() {
                    this.node.rotation.getEulerAngles(this._initialAngles)
                }, o.onDestroy = function() {
                    p.Instance.removeMover(this)
                }, o.onEnable = function() {
                    p.Instance.addMover(this)
                }, o.onDisable = function() {
                    p.Instance.removeMover(this)
                }, o.move = function(t, e, i) {
                    var n = e - t - this.delay;
                    if (!(n < 0)) {
                        var r = 360 / this.speed,
                            o = 360 * (n % r / r),
                            a = this._initialAngles.x + this.axis.x * o,
                            s = this._initialAngles.y + this.axis.y * o,
                            l = this._initialAngles.z + this.axis.z * o,
                            u = c.fromEuler(new c, a, s, l);
                        (this.rotator ? this.rotator : this.node).setRotation(u)
                    }
                }, e
            }(u)).prototype, "rotator", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), b = e(g.prototype, "speed", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), m = e(g.prototype, "delay", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), _ = e(g.prototype, "axis", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return l.FORWARD.clone()
                }
            }), y = g)) || y));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ScoreDisplay.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ScoreEntry.ts", "./gameManager.ts", "./GolfMode.ts", "./PlayerNameplate.ts", "./VictoryScreenHolder.ts", "./Effect.ts", "./audioController.ts"], (function(e) {
    var t, n, r, i, o, a, s, c, l, u, d, h, p, f, v, y, g, b, m, S, C, M, P;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, a = e._decorator, s = e.Node, c = e.Prefab, l = e.Label, u = e.Tween, d = e.Vec3, h = e.tween, p = e.instantiate, f = e.Component
        }, function(e) {
            v = e.ScoreEntry
        }, function(e) {
            y = e.GameManager
        }, function(e) {
            g = e.cGameScoreUpdate, b = e.GameplayMode
        }, function(e) {
            m = e.PlayerNameplate
        }, function(e) {
            S = e.VictoryScreenHolder
        }, function(e) {
            C = e.Effect
        }, function(e) {
            M = e.AudioController, P = e.AudioEventType
        }],
        execute: function() {
            var w, N, E, I, L, _, B, O, z, F, U, A, T, G, D, X, H, V, k, x, R, j, J, K, W, Y, Z;
            o._RF.push({}, "9e3b3ZxgwtA47dKVA5aOJSo", "ScoreDisplay", void 0);
            var q = a.ccclass,
                Q = a.property;
            e("SortablePlayerEntry", (function() {
                this.score = void 0, this.username = void 0, this.entry = void 0
            })), e("ScoreDisplay", (w = q("ScoreDisplay"), N = Q(s), E = Q(c), I = Q(s), L = Q(l), _ = Q(s), B = Q(s), O = Q(s), z = Q([l]), F = Q([l]), U = Q(s), A = Q(S), T = Q(C), w((X = t((D = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), a = 0; a < n; a++) o[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(o)) || this, r(t, "content", X, i(t)), r(t, "entryPrefab", H, i(t)), r(t, "gameOver", V, i(t)), r(t, "continueLabel", k, i(t)), r(t, "closeButton", x, i(t)), r(t, "pressContinueNagBar", R, i(t)), r(t, "tournamentModal", j, i(t)), r(t, "parLabels", J, i(t)), r(t, "courseLabel", K, i(t)), r(t, "ScoreCard", W, i(t)), r(t, "victoryScreen", Y, i(t)), r(t, "victoryFX", Z, i(t)), t._scoreEntryHeight = -1, t._gameOverMode = !1, t
                }
                n(t, e);
                var o = t.prototype;
                return o.start = function() {}, o.onEnable = function() {
                    !0 === this.tournamentModal.active && (this.tournamentModal.active = !1)
                }, o.close = function(e) {
                    var t = this;
                    if (void 0 === e && (e = !1), e) return this.node.active = !1, this.pressContinueNagBar.active = !1, y.Instance.currentMode.node.off(g, this.onScoresUpdate.bind(this)), this.victoryScreen.node.active = !1, void(this.victoryFX.node.active = !1);
                    u.stopAllByTarget(this.node), this.node.setScale(d.ONE.clone()), h(this.node).to(.1, {
                        scale: new d(1.1, 1.1, 1.1)
                    }).to(.1, {
                        scale: new d(1, 1, 1)
                    }).call((function() {
                        t.node.active = !1, t.pressContinueNagBar.active = !1, y.Instance.currentMode.node.off(g, t.onScoresUpdate.bind(t)), t.victoryFX.node.active = !1
                    })).start()
                }, o.displayPlayers = function(e, t) {
                    if (t && this.node.active && !this.victoryScreen.node.active && this.close(!0), !this.node.active) {
                        this._gameOverMode = t, this.gameOver.active = t, this.continueLabel.string = this._gameOverMode ? "CONTINUE" : "CLOSE", this.closeButton.active = !t;
                        var n = !this.node.active;
                        this.node.active = !0, y.Instance.currentMode.node.on(g, this.onScoresUpdate.bind(this)), n && (this.node.setScale(new d(.9, .9, .9)), h(this.node).to(.1, {
                            scale: new d(1.05, 1.05, 1.05)
                        }).to(.1, {
                            scale: new d(1, 1, 1)
                        }).start());
                        var r = y.Instance.currentMode;
                        if (t && r.AllPlayersFinishedHole() ? this.showPressContinueNagBar() : this.pressContinueNagBar.active = !1, r.UpdateScoreTotals(), t) {
                            if (this.victoryScreen.node.active) return;
                            for (var i = [], o = Number.POSITIVE_INFINITY, a = r.GetScoreTotals(), s = 0; s < this.content.children.length; ++s) {
                                var c = this.content.children[s].getComponent(m);
                                if (c.player) {
                                    var l = a.get(c.playerId);
                                    if (!(l <= o)) break;
                                    o = l, i.push(c.player)
                                }
                            }
                            this.victoryScreen.setWinners(i), this.victoryScreen.node.active = !0, this.victoryFX.node.active = !0, this.victoryFX.play(), M.Instance.triggerAudio(P.evtGameOver)
                        } else this.victoryScreen.node.active = !1, this.victoryFX.node.active = !1
                    }
                }, o.onScoresUpdate = function(e, t) {
                    this.refreshContent(e, t), this._gameOverMode && y.Instance.currentMode.AllPlayersFinishedHole() && this.showPressContinueNagBar()
                }, o.refreshContent = function(e, n) {
                    for (var r = this, i = y.Instance.currentMode, o = 0, a = 0; a < this.parLabels.length - 1; ++a) {
                        var s = i.GetParValue(a + 1);
                        o += s, this.parLabels[a].string = "" + s
                    }
                    this.parLabels[this.parLabels.length - 1].string = "" + o;
                    var c = Number.MAX_VALUE;
                    this._gameOverMode && n.forEach((function(e) {
                        e < c && (c = e)
                    }));
                    var l = [];
                    e.forEach((function(e) {
                        if (e) {
                            var t = r.content.children.find((function(t) {
                                var n = t.getComponent(v);
                                return n && n.playerId == e.netPlayer.uid
                            }));
                            t || (t = p(r.entryPrefab), r.content.addChild(t));
                            var i = 0;
                            if (n.has(e.netPlayer.uid) && (i = n.get(e.netPlayer.uid)), t) t.getComponent(v).setUser(e, e.netPlayer.state.stroke_total || [], i, i == c), r._scoreEntryHeight = t._uiProps.uiTransformComp.height, l.push(t)
                        }
                    })), this.content.children.forEach((function(e) {
                        l.find((function(t) {
                            return t == e
                        })) || (e.removeFromParent(), e.destroy())
                    }));
                    for (var u = [], d = this.content.children.length - 1; d >= 0; d--) {
                        var h = this.content.children[d],
                            f = h.getComponent(m),
                            g = f.player;
                        g && g.getUser() && u.push({
                            score: n.get(f.playerId),
                            username: g.getUser().username,
                            entry: h
                        })
                    }
                    var b = i.GetCurrentCourseDefinition();
                    if (b) {
                        var S = b.displayName.toUpperCase();
                        this.courseLabel.forEach((function(e) {
                            e.string = S
                        }))
                    }
                    t.sortPlayerEntries(u)
                }, t.sortPlayerEntries = function(e) {
                    e.sort((function(e, t) {
                        var n = e.score - t.score;
                        return 0 == n ? e.username.localeCompare(t.username) : n
                    }));
                    for (var t = 0; t < e.length; ++t) e[t].entry.setSiblingIndex(t)
                }, o.onClickContinue = function() {
                    this._gameOverMode && y.Instance.currentMode.ContinueGame(), this.close()
                }, o.showPressContinueNagBar = function() {
                    y.Instance.currentMode.gameplayMode != b.Tournament && (this.pressContinueNagBar.active || (this.pressContinueNagBar.active = !0))
                }, t
            }(f)).prototype, "content", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = t(D.prototype, "entryPrefab", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), V = t(D.prototype, "gameOver", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = t(D.prototype, "continueLabel", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = t(D.prototype, "closeButton", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), R = t(D.prototype, "pressContinueNagBar", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), j = t(D.prototype, "tournamentModal", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), J = t(D.prototype, "parLabels", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), K = t(D.prototype, "courseLabel", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), W = t(D.prototype, "ScoreCard", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Y = t(D.prototype, "victoryScreen", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Z = t(D.prototype, "victoryFX", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = D)) || G));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ScoreEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlayerNameplate.ts", "./gameManager.ts"], (function(e) {
    var r, o, t, l, i, n, a, s, c, u, b, p, h;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, o = e.inheritsLoose, t = e.initializerDefineProperty, l = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, n = e._decorator, a = e.Label, s = e.Node, c = e.Sprite, u = e.Component, b = e.Color
        }, function(e) {
            p = e.PlayerNameplate
        }, function(e) {
            h = e.GameManager
        }],
        execute: function() {
            var f, g, y, S, d, H, C, m, w, P, v, z, k, T, I, B, M, E, U, _, D, L, N, W, F, G;
            i._RF.push({}, "376e85/K2BJcYm6ltObQ7MC", "ScoreEntry", void 0);
            var R = n.ccclass,
                j = n.property;
            e("ScoreEntry", (f = R("ScoreEntry"), g = j(a), y = j(a), S = j(a), d = j(a), H = j(a), C = j(a), m = j(a), w = j(a), P = j(s), v = j(c), f((T = r((k = function(e) {
                function r() {
                    for (var r, o = arguments.length, i = new Array(o), n = 0; n < o; n++) i[n] = arguments[n];
                    return r = e.call.apply(e, [this].concat(i)) || this, t(r, "Hole1", T, l(r)), t(r, "Hole2", I, l(r)), t(r, "Hole3", B, l(r)), t(r, "Hole4", M, l(r)), t(r, "Hole5", E, l(r)), t(r, "Hole6", U, l(r)), t(r, "Total", _, l(r)), t(r, "StrokeTotal", D, l(r)), t(r, "WinnerIndicator", L, l(r)), t(r, "BallColorIndicator", N, l(r)), t(r, "defaultScoreColor", W, l(r)), t(r, "aboveParColor", F, l(r)), t(r, "belowParColor", G, l(r)), r.playerId = void 0, r
                }
                o(r, e);
                var i = r.prototype;
                return i.setUser = function(e, r, o, t) {
                    if (e.netPlayer.getUser()) {
                        this.node.getComponent(p).setUser(e.netPlayer);
                        var l = r.reduce((function(e, r) {
                            return e + r
                        }), 0);
                        this.playerId = e.netPlayer.uid;
                        var i = h.Instance.currentMode;
                        this.setHoleStrokeString(0, r, i, this.Hole1), this.setHoleStrokeString(1, r, i, this.Hole2), this.setHoleStrokeString(2, r, i, this.Hole3), this.setHoleStrokeString(3, r, i, this.Hole4), this.setHoleStrokeString(4, r, i, this.Hole5), this.setHoleStrokeString(5, r, i, this.Hole6), o <= -1 ? (this.StrokeTotal.color = this.belowParColor, this.Total.color = this.belowParColor) : o >= 1 ? (this.StrokeTotal.color = this.aboveParColor, this.Total.color = this.aboveParColor) : 0 == o && (this.StrokeTotal.color = this.defaultScoreColor, this.Total.color = this.defaultScoreColor), this.Total.string = "" + o, this.StrokeTotal.string = "(" + l + ")", this.BallColorIndicator.color = i.getPlayerUIColor(e.netPlayer), this.WinnerIndicator.active = t
                    } else console.error("missing user for player " + e.netPlayer.uid)
                }, i.setHoleStrokeString = function(e, r, o, t) {
                    if (r.length <= e) return t.string = "-", void(t.color = this.defaultScoreColor);
                    var l = o.GetParValue(e + 1);
                    r[e] < l ? (t.string = "" + r[e], t.color = this.belowParColor) : r[e] > l ? (t.string = "" + r[e], t.color = this.aboveParColor) : (t.string = "" + r[e], t.color = this.defaultScoreColor)
                }, r
            }(u)).prototype, "Hole1", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = r(k.prototype, "Hole2", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), B = r(k.prototype, "Hole3", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), M = r(k.prototype, "Hole4", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), E = r(k.prototype, "Hole5", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), U = r(k.prototype, "Hole6", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = r(k.prototype, "Total", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = r(k.prototype, "StrokeTotal", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), L = r(k.prototype, "WinnerIndicator", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), N = r(k.prototype, "BallColorIndicator", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), W = r(k.prototype, "defaultScoreColor", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new b
                }
            }), F = r(k.prototype, "aboveParColor", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new b
                }
            }), G = r(k.prototype, "belowParColor", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new b
                }
            }), z = k)) || z));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Settings%20Menu.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./OnClickTabSystem.ts"], (function(t) {
    var e, n, o, i, a, r, c, s, u;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, r = t._decorator, c = t.Toggle, s = t.Component
        }, function(t) {
            u = t.OnClickTabSystem
        }],
        execute: function() {
            var l, p, f, b, g;
            a._RF.push({}, "93ede9dENJGU7kGfikWstX2", "Settings%20Menu", void 0);
            var h = r.ccclass,
                y = r.property;
            t("SettingsMenu", (l = h("SettingsMenu"), p = y({
                type: u
            }), l((g = e((b = function(t) {
                function e() {
                    for (var e, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(a)) || this, o(e, "tab", g, i(e)), e
                }
                n(e, t);
                var a = e.prototype;
                return a.start = function() {
                    this.tab.forEach((function(t) {
                        t.tabButton = t.node.getComponent(c)
                    }))
                }, a.openTab = function(t) {
                    var e = t.target.getComponent(u);
                    this.tab.forEach((function(t) {
                        t.tabPanel != e.tabPanel ? t.closePanels() : t.openPanel()
                    }))
                }, a.resetTabs = function() {
                    this.tab.forEach((function(t) {
                        t.closePanels()
                    })), this.tab[0].openPanel()
                }, e
            }(s)).prototype, "tab", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), f = b)) || f));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/shared_constants.ts", ["cc"], (function(t) {
    var e;
    return {
        setters: [function(t) {
            e = t.cclegacy
        }],
        execute: function() {
            e._RF.push({}, "cbbbbGHa7VN/4WuaziAYjFs", "shared_constants", void 0);
            t("Opcodes", {
                Invalid: 0,
                CommandStart: 1,
                Ping: 1,
                Pong: 2,
                CmdAuthenticate: 3,
                CmdGameList: 4,
                CmdGameGetCodes: 5,
                CmdUserList: 6,
                CmdUserSetAFK: 7,
                CmdUserUpdate: 8,
                CmdGroupJoin: 9,
                CmdGroupLeave: 10,
                CmdGameSetState: 11,
                CmdGameCreate: 12,
                CmdGameJoin: 13,
                CmdGameLeave: 14,
                EventStart: 32,
                Error: 32,
                EvtGameCodes: 33,
                EvtUserList: 34,
                EvtUserJoined: 35,
                EvtUserLeft: 36,
                EvtUserUpdated: 37,
                EvtUserAFK: 38,
                EvtGroupUserJoined: 39,
                EvtGroupUserLeft: 40,
                EvtGroupListUsers: 41,
                EvtGameCreated: 42,
                EvtGameDeleted: 43,
                EvtGameEvent: 44,
                EvtGameState: 45,
                EvtGameUpdated: 46,
                EvtGameJoined: 47,
                EvtGameLeft: 48,
                GameOpcodeStart: 64
            }), t("ErrorCode", {
                UNKNOWN: 0,
                INVALID_GAME: 1,
                LOBBY_FULL: 2,
                GAME_OVER: 3,
                CREATE_GAME_MAX_GAMES: 4,
                JOIN_GAME_FULL: 5,
                JOIN_GAME_ALREADY_PLAYING: 6,
                MOVE_NOT_ALLOWED: 7,
                USER_NOT_FOUND: 8,
                MAX_OPEN_GAMES: 9,
                RATE_LIMIT_EXCEEDED: 10,
                INVALID_CODE: 11,
                USER_NOT_ONLINE: 12
            }), t("WebsocketProtocol", {
                JSON: "Json",
                OPPACK: "OpPack"
            }), t("Game", function() {
                function t() {
                    this.id = void 0, this.app_id = void 0, this.guild_id = void 0, this.creator_id = void 0, this.created_at = void 0, this.updated_at = void 0, this.state = void 0, this.is_private = void 0, this.is_over = void 0, this.id = "", this.app_id = "", this.guild_id = "", this.creator_id = "", this.created_at = Math.round(Date.now() / 1e3), this.updated_at = Math.round(Date.now() / 1e3), this.state = {}, this.is_over = !1, this.is_private = !1
                }
                return t.prototype.toJSON = function() {
                    return {
                        id: this.id,
                        is_over: this.is_over,
                        creator_id: this.creator_id,
                        created_at: this.created_at,
                        updated_at: this.updated_at,
                        state: this.state
                    }
                }, t
            }());
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/SheepController.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./utils.ts"], (function(e) {
    var t, n, i, o, r, a, l, s, c, u, d, h, f, p, w, g, b, m, v, P, y, C;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, l = e.Prefab, s = e.Node, c = e.Vec3, u = e.instantiate, d = e.animation, h = e.Tween, f = e.tween, p = e.randomRange, w = e.Quat, g = e.randomRangeInt, b = e.easing, m = e.Component
        }, function(e) {
            v = e.GameManager
        }, function(e) {
            P = e.cCurrentHoleUpdate, y = e.cOnLevelLoadStart
        }, function(e) {
            C = e.isMobile
        }],
        execute: function() {
            var M, _, z, H, I, O, S, x, A, k, L, R;
            r._RF.push({}, "e4f6ejcmKhJCpGMHFcDPcrD", "SheepController", void 0);
            var q = a.ccclass,
                D = a.property;
            e("SheepController", (M = q("SheepController"), _ = D(l), z = D(s), M((O = t((I = function(e) {
                function t() {
                    for (var t, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, i(t, "sheepPrefab", O, o(t)), i(t, "rootNode", S, o(t)), i(t, "radius", x, o(t)), i(t, "minMove", A, o(t)), i(t, "maxMove", k, o(t)), i(t, "holeOffsetIdx", L, o(t)), i(t, "heightOffset", R, o(t)), t._animator = null, t.deg2rad = Math.PI / 180, t._wantedCenter = new c(0, 0, 0), t._currentHole = -1, t
                }
                n(t, e);
                var r = t.prototype;
                return r.start = function() {
                    if (!C()) {
                        var e = u(this.sheepPrefab);
                        this.rootNode.addChild(e), this._animator = this.rootNode.getComponentInChildren(d.AnimationController), this.initialize()
                    }
                }, r.initialize = function() {
                    var e = v.Instance.currentMode;
                    e.node.on(P, this.changeHole, this), e.node.on(y, this.uninitialize, this), this.changeHole(e.currentHole)
                }, r.uninitialize = function() {
                    this.unscheduleAllCallbacks();
                    var e = v.Instance.currentMode;
                    e.node.off(P, this.changeHole, this), e.node.off(y, this.uninitialize, this)
                }, r.changeHole = function(e) {
                    var t = this;
                    if (this._currentHole != e) {
                        this.unscheduleAllCallbacks(), this._currentHole = e;
                        var n = v.Instance.currentMode,
                            i = (e + this.holeOffsetIdx - 1) % n.maxHoles,
                            o = n.GetStartLocationFromHole(i + 1, null),
                            r = n.GetEndLocationsFromHole(i + 1),
                            a = o;
                        r && r.length > 0 && (a = r[0].worldPosition), o && a && (c.lerp(this._wantedCenter, o, a, .5), this.radius = c.distance(this._wantedCenter, o), this._wantedCenter.y += this.heightOffset), h.stopAllByTarget(this.node), f(this.node).to(p(3, 5), {
                            worldPosition: this.node.worldPosition.clone()
                        }).to(p(3, 5), {
                            worldPosition: this.node.worldPosition.clone().add(new c(0, 30, 0))
                        }, {
                            easing: "quartIn"
                        }).set({
                            worldPosition: this._wantedCenter.clone().add(new c(0, 30, 0))
                        }).to(p(3, 5), {
                            worldPosition: this._wantedCenter
                        }, {
                            easing: "backOut"
                        }).call((function() {
                            t.scheduleOnce((function() {
                                t.updateState()
                            }), p(2, 4))
                        })).start()
                    }
                }, r.updateState = function() {
                    var e = this;
                    this.unscheduleAllCallbacks();
                    var t = this.node.forward.clone().multiplyScalar(-1 * p(this.minMove, this.maxMove)).add(this.node.worldPosition),
                        n = new w,
                        i = new w,
                        o = p(-45, 45) * this.deg2rad;
                    c.distance(t, this._wantedCenter) > this.radius && (o += Math.PI), w.fromAxisAngle(i, c.UP, o), w.multiply(n, this.node.worldRotation.clone(), i);
                    var r = g(0, 3),
                        a = 0,
                        l = b.quartOut,
                        s = 6;
                    switch (r) {
                        case 0:
                            a = 0, l = b.quadInOut, s = p(8, 9);
                            break;
                        case 1:
                            a = 1, l = b.quartOut, s = p(5, 6.5);
                            break;
                        case 3:
                        case 4:
                            a = .3, l = b.quadInOut, s = p(5, 6.5)
                    }
                    h.stopAllByTarget(this.node), f(this.node).to(p(1, 2), {
                        worldPosition: this.node.worldPosition.clone()
                    }).call((function() {
                        e._animator.setValue("MoveType", r), e._animator.setValue("Move", !0)
                    })).to(a, {
                        worldPosition: this.node.worldPosition.clone()
                    }).to(s, {
                        worldPosition: t,
                        worldRotation: n
                    }, {
                        easing: l
                    }).to(p(4, 10), {
                        worldPosition: t
                    }).call((function() {
                        e.scheduleOnce((function() {
                            e.updateState()
                        }), p(2, 4))
                    })).start()
                }, t
            }(m)).prototype, "sheepPrefab", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = t(I.prototype, "rootNode", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = t(I.prototype, "radius", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 25
                }
            }), A = t(I.prototype, "minMove", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 20
                }
            }), k = t(I.prototype, "maxMove", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 40
                }
            }), L = t(I.prototype, "holeOffsetIdx", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), R = t(I.prototype, "heightOffset", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 20
                }
            }), H = I)) || H));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/SimpleAnimation.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CameraNoise.ts", "./BallHandler.ts", "./gameManager.ts", "./utils.ts"], (function(t) {
    var e, n, i, a, o, r, s, l, c, p, u, h, g, f, d, m, y, b, S, w;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, a = t.assertThisInitialized, o = t.createClass
        }, function(t) {
            r = t.cclegacy, s = t._decorator, l = t.ccenum, c = t.Node, p = t.Prefab, u = t.Collider, h = t.tween, g = t.instantiate, f = t.Component, d = t.Vec3
        }, function(t) {
            m = t.CameraNoiseSetting, y = t.CameraNoise
        }, function(t) {
            b = t.BallHandler
        }, function(t) {
            S = t.GameManager
        }, function(t) {
            w = t.SMALL_SCALE
        }],
        execute: function() {
            var C, O, I, D, v, A, T, _, k, B, z, E, N, P, F;
            r._RF.push({}, "01a0f6302RGjIkeqRCwwxCz", "SimpleAnimation", void 0);
            var L = s.ccclass,
                M = s.property,
                X = s.type,
                q = t("AnimationType", function(t) {
                    return t[t.DropIn = 0] = "DropIn", t[t.ScaleAndDropIn = 1] = "ScaleAndDropIn", t[t.BounceIn = 2] = "BounceIn", t[t.ScaleAndBounceIn = 3] = "ScaleAndBounceIn", t[t.ScaleBounce = 4] = "ScaleBounce", t
                }({}));
            l(q);
            t("SimpleAnimation", (C = L("SimpleAnimation"), O = X(q), I = M(c), D = M(p), v = M(m), C((_ = e((T = function(t) {
                function e() {
                    for (var e, n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(o)) || this, i(e, "_animationType", _, a(e)), i(e, "target", k, a(e)), i(e, "length", B, a(e)), i(e, "playOnStart", z, a(e)), i(e, "playOnCollision", E, a(e)), i(e, "startOffset", N, a(e)), i(e, "spawnedFX", P, a(e)), i(e, "cameraNoiseSetting", F, a(e)), e._startingPosition = void 0, e._startingScale = void 0, e
                }
                n(e, t);
                var r = e.prototype;
                return r.start = function() {
                    if (null == this.target && (this.target = this.node), this._startingPosition = this.target.position.clone(), this._startingScale = this.target.scale.clone(), this.playOnStart && (this.play(), this.shakeCam()), this.playOnCollision) {
                        var t = this.getComponent(u);
                        null == t && (t = this.getComponentInChildren(u)), t && (t.isTrigger ? t.on("onTriggerEnter", this.onTriggerEnter, this) : t.on("onCollisionEnter", this.onCollision, this))
                    }
                }, r.play = function() {
                    var t = this._startingPosition.clone(),
                        e = this._startingScale.clone();
                    switch (this.animationType) {
                        case q.DropIn:
                            h(this.target).set({
                                position: t.clone().add(this.startOffset)
                            }).to(this.length, {
                                position: t
                            }, {
                                easing: "quintIn"
                            }).start(), this.SpawnDelayedEffect(1e3 * this.length);
                            break;
                        case q.ScaleAndDropIn:
                            h(this.target).set({
                                position: t.clone().add(this.startOffset),
                                scale: w
                            }).to(.3 * this.length, {
                                scale: e
                            }, {
                                easing: "backOut"
                            }).to(.7 * this.length, {
                                position: t
                            }, {
                                easing: "quintIn"
                            }).start(), this.SpawnDelayedEffect(1e3 * this.length);
                            break;
                        case q.BounceIn:
                            h(this.target).set({
                                position: t.clone().add(this.startOffset)
                            }).to(this.length, {
                                position: t
                            }, {
                                easing: "bounceOut"
                            }).start(), this.SpawnDelayedEffect(700 * this.length);
                            break;
                        case q.ScaleAndBounceIn:
                            h(this.target).set({
                                position: t,
                                scale: w
                            }).to(.4 * this.length, {
                                position: t.clone().add(this.startOffset),
                                scale: e
                            }, {
                                easing: "quintOut"
                            }).to(.6 * this.length, {
                                position: t
                            }, {
                                easing: "bounceOut"
                            }).start(), this.SpawnDelayedEffect(700 * this.length);
                            break;
                        case q.ScaleBounce:
                            h(this.target).set({
                                scale: e.clone().multiplyScalar(.8)
                            }).to(.5 * this.length, {
                                scale: e.clone().multiplyScalar(1.2)
                            }, {
                                easing: "bounceOut"
                            }).to(.5 * this.length, {
                                scale: e
                            }, {
                                easing: "bounceOut"
                            }).start(), this.SpawnDelayedEffect(100)
                    }
                }, r.shakeCam = function() {
                    this.cameraNoiseSetting && S.Instance.currentMode.playerCamera.node.emit(y.cAddCameraNoise, this.cameraNoiseSetting)
                }, r.onCollision = function(t) {
                    var e = t.otherCollider.node.getComponent(b);
                    e && (this.play(), e.owner.local && this.shakeCam())
                }, r.onTriggerEnter = function(t) {
                    var e = t.otherCollider.node.getComponent(b);
                    e && (this.play(), e.owner.local && this.shakeCam())
                }, r.SpawnDelayedEffect = function(t) {
                    var e = this;
                    null != this.spawnedFX && setTimeout((function() {
                        var t;
                        if (null != (t = e.spawnedFX) && t.isValid) {
                            var n = g(e.spawnedFX);
                            n.setWorldPosition(e.target.worldPosition), e.target.scene.addChild(n)
                        }
                    }), t)
                }, o(e, [{
                    key: "animationType",
                    get: function() {
                        return this._animationType
                    },
                    set: function(t) {
                        this._animationType = t
                    }
                }]), e
            }(f)).prototype, "_animationType", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return q.DropIn
                }
            }), e(T.prototype, "animationType", [O], Object.getOwnPropertyDescriptor(T.prototype, "animationType"), T.prototype), k = e(T.prototype, "target", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), B = e(T.prototype, "length", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .5
                }
            }), z = e(T.prototype, "playOnStart", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), E = e(T.prototype, "playOnCollision", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), N = e(T.prototype, "startOffset", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new d(0, 10, 0)
                }
            }), P = e(T.prototype, "spawnedFX", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), F = e(T.prototype, "cameraNoiseSetting", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), A = T)) || A));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/SimpleBillboard.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(o) {
    var e, n, r, t, i;
    return {
        setters: [function(o) {
            e = o.inheritsLoose
        }, function(o) {
            n = o.cclegacy, r = o._decorator, t = o.Component
        }, function(o) {
            i = o.GameManager
        }],
        execute: function() {
            var l;
            n._RF.push({}, "ab0c7tobXlGlZ2CblysEGzH", "SimpleBillboard", void 0);
            var a = r.ccclass;
            r.property, o("SimpleBillboard", a("SimpleBillboard")(l = function(o) {
                function n() {
                    return o.apply(this, arguments) || this
                }
                return e(n, o), n.prototype.update = function() {
                    var o, e = null == (o = i.Instance) ? void 0 : o.currentCamera;
                    if (null != e && e.isValid) {
                        var n = this.node.worldPosition.clone().subtract(e.node.worldPosition);
                        n.y = 0, this.node.forward = n
                    }
                }, n
            }(t)) || l);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectAttachPrefabToPlayer.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, o, a, n, l, r;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            o = t.cclegacy, a = t._decorator
        }, function(t) {
            n = t.cOnHandlerBallHit, l = t.cOnBallStop
        }, function(t) {
            r = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var c;
            o._RF.push({}, "ef956qT/5dGyYE/be98kTKS", "StatusEffectAttachPrefabToPlayer", void 0);
            var f = a.ccclass;
            a.property, t("StatusEffectAttachPrefabToPlayer", f("StatusEffectAttachPrefabToPlayer")(c = function(t) {
                function o() {
                    return t.apply(this, arguments) || this
                }
                e(o, t);
                var a = o.prototype;
                return a.activateStatusEffectOnPlayer = function(t) {
                    t.owner.local && t.node.on(n, this.onBallHit, this)
                }, a.onStatusEffectRemovedFromPlayer = function(t) {
                    t.owner.local && (t.node.off(n, this.onBallHit, this), t.node.off(l, this.onBallStop, this))
                }, a.onBallHit = function(t) {
                    t.node.on(l, this.onBallStop, this)
                }, a.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(l, this.onBallStop, this)
                }, o
            }(r)) || c);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectBallSize.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, n, i, o, a, l, s, c, r, u, f, d;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, l = t._decorator, s = t.CCFloat, c = t.tween, r = t.Vec3
        }, function(t) {
            u = t.cOnHandlerBallHit, f = t.cOnBallStop
        }, function(t) {
            d = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var h, p, y, S, B;
            a._RF.push({}, "7690bCCEktIN7n6uNmc9FP8", "StatusEffectBallSize", void 0);
            var z = l.ccclass,
                g = l.property;
            t("StatusEffectBallSize", (h = z("StatusEffectBallSize"), p = g(s), h((B = e((S = function(t) {
                function e() {
                    for (var e, n = arguments.length, a = new Array(n), l = 0; l < n; l++) a[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(a)) || this, i(e, "size", B, o(e)), e
                }
                n(e, t);
                var a = e.prototype;
                return a.activateStatusEffectOnPlayer = function(t) {
                    var e = t.node.scale.clone(),
                        n = (this.size - e.x) / 3;
                    c(t.node).to(.3, {
                        scale: new r(e.x + n, e.y + n, e.z + n)
                    }, {
                        easing: "backOut"
                    }).to(.3, {
                        scale: new r(e.x + 2 * n, e.y + 2 * n, e.z + 2 * n)
                    }, {
                        easing: "backOut"
                    }).to(.3, {
                        scale: new r(this.size, this.size, this.size)
                    }, {
                        easing: "backOut"
                    }).start(), t.owner.local && t.node.on(u, this.onBallHit, this)
                }, a.onStatusEffectRemovedFromPlayer = function(t) {
                    c(t.node).call((function() {
                        t.rigidbody.isKinematic = !0
                    })).to(.3, {
                        scale: new r(1, 1, 1),
                        worldPosition: t.node.worldPosition.clone().add(new r(0, 2, 0))
                    }, {
                        easing: "quintOut"
                    }).delay(.1).call((function() {
                        t.rigidbody.isKinematic = !1
                    })).start(), t.owner.local && (t.node.off(u, this.onBallHit, this), t.node.off(f, this.onBallStop, this))
                }, a.onBallHit = function(t) {
                    t.node.on(f, this.onBallStop, this)
                }, a.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(f, this.onBallStop, this)
                }, e
            }(d)).prototype, "size", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), y = S)) || y));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectBase.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./CameraNoise.ts", "./AudioEventInstance.ts"], (function(t) {
    var e, n, i, a, r, o, u, c, s, l, f, p, d, g, m, h;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, a = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, o = t._decorator, u = t.SpriteFrame, c = t.CCString, s = t.Color, l = t.CCInteger, f = t.CCFloat, p = t.Component
        }, function(t) {
            d = t.GameManager
        }, function(t) {
            g = t.CameraNoiseSetting, m = t.CameraNoise
        }, function(t) {
            h = t.AudioEventInstance
        }],
        execute: function() {
            var S, b, y, v, E, C, A, D, I, T, w, z, N, M, F, B, H, O, R, x, P, _, k;
            r._RF.push({}, "3ebc2eliiFPxZfzA3Mq0Yg6", "StatusEffectBase", void 0);
            var L = o.ccclass,
                j = o.property;
            t("cOnStatusEffectRemoved", "on-status-effect-removed"), t("StatusEffectBase", (S = L("StatusEffectBase"), b = j(u), y = j(c), v = j(c), E = j(s), C = j(l), A = j(f), D = j(f), I = j(g), T = j(h), S((N = e((z = function(t) {
                function e() {
                    for (var e, n = arguments.length, r = new Array(n), o = 0; o < n; o++) r[o] = arguments[o];
                    return e = t.call.apply(t, [this].concat(r)) || this, i(e, "icon", N, a(e)), i(e, "uiName", M, a(e)), i(e, "uiDescription", F, a(e)), i(e, "cardColor", B, a(e)), i(e, "totalCharges", H, a(e)), i(e, "durationInSeconds", O, a(e)), i(e, "applicationDelay", R, a(e)), i(e, "reverseAttackTrailDirection", x, a(e)), i(e, "onApplyCameraNoiseSettings", P, a(e)), i(e, "ballHitOverride", _, a(e)), i(e, "exclusiveEffect", k, a(e)), e.statusEffectId = void 0, e.statusEffectManager = void 0, e
                }
                n(e, t);
                var r = e.prototype;
                return r.isShortDuration = function() {
                    return this.durationInSeconds <= 2
                }, r.durationInMS = function() {
                    return this.durationInSeconds > 0 ? 1e3 * this.durationInSeconds + 1e3 * (this.applicationDelay > 0 ? this.applicationDelay : 0) : this.durationInSeconds
                }, r.getApplicationDelay = function() {
                    return this.applicationDelay
                }, r.charges = function() {
                    return this.totalCharges
                }, r.allowMultipleInstances = function() {
                    return !1
                }, r.shouldActivateEffect = function(t) {
                    return !t.target.areStatusEffectsSuspended || this.durationInSeconds > 0
                }, r.applyStatusEffectToTarget = function(t, e) {
                    var n = this,
                        i = t.target;
                    if (i && !i.isImmuneToStatusEffects) {
                        var a = d.Instance.getServerTime(),
                            r = this.durationInMS();
                        i.addActiveStatusEffect(this, r > 0 ? a : -1, e, t) || this.shouldActivateEffect(t) && (this.onStatusEffectRemovedFromTarget(t), this.statusEffectManager.abortPendingStatusEffects(t)), this.applicationDelay > 0 ? this.statusEffectManager.onAboutToAddStatusEffect(t, e, (function() {
                            n.doActivateStatusEffect(t, e)
                        }), this) : this.doActivateStatusEffect(t, e)
                    }
                }, r.doActivateStatusEffect = function(t, e) {
                    (this.shouldActivateEffect(t) && this.activateStatusEffectOnTarget(t, e), this.onApplyCameraNoiseSettings && this.onApplyCameraNoiseSettings.decay > 0) && d.Instance.currentMode.playerCamera.node.emit(m.cAddCameraNoise, this.onApplyCameraNoiseSettings)
                }, r.activateStatusEffectOnTarget = function(t, e) {}, r.onStatusEffectRemovedFromTarget = function(t) {}, r.compareTargetData = function(t, e) {
                    return t.target == e.target
                }, r.getAdditionalTargetData = function(t) {
                    return null
                }, r.canApplyToTarget = function(t) {
                    return !0
                }, r.onChargeConsumed = function() {}, r.onHoleComplete = function(t, e) {}, r.onStartNewHole = function(t) {}, e
            }(p)).prototype, "icon", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), M = e(z.prototype, "uiName", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), F = e(z.prototype, "uiDescription", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return ""
                }
            }), B = e(z.prototype, "cardColor", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s("#E64D4F")
                }
            }), H = e(z.prototype, "totalCharges", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), O = e(z.prototype, "durationInSeconds", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -1
                }
            }), R = e(z.prototype, "applicationDelay", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -1
                }
            }), x = e(z.prototype, "reverseAttackTrailDirection", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), P = e(z.prototype, "onApplyCameraNoiseSettings", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), _ = e(z.prototype, "ballHitOverride", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), k = e(z.prototype, "exclusiveEffect", [j], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), w = z)) || w));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectChangeHoleProperties.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./physics.ts", "./StatusEffectBase.ts"], (function(e) {
    var t, l, r, o, a, n, i, c, s, f, p, u, d, y, _, g, h, P, S, T, b, w, C, m, v;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, l = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, n = e._decorator, i = e.PhysicMaterial, c = e.CCBoolean, s = e.Prefab, f = e.EffectAsset, p = e.Texture2D, u = e.Vec4, d = e.MeshRenderer, y = e.Collider, _ = e.tween, g = e.lerp, h = e.instantiate, P = e.ParticleSystem, S = e.Vec3, T = e.geometry, b = e.PhysicsSystem, w = e.Color
        }, function(e) {
            C = e.GameManager
        }, function(e) {
            m = e.PhysicsGroups
        }, function(e) {
            v = e.StatusEffectBase
        }],
        execute: function() {
            var x, F, M, E, z, N, W, I, X, B, R, k, A, G, H, D, V, L, q, U, j, O, Z, J, K, Q, Y, $, ee, te, le, re, oe, ae, ne;
            a._RF.push({}, "e2aedf+ZEBBn565rafqmCpq", "StatusEffectChangeHoleProperties", void 0);
            var ie = n.ccclass,
                ce = n.property;
            e("StatusEffectChangeHoleProperties", (x = ie("StatusEffectChangeHoleProperties"), F = ce(i), M = ce(c), E = ce(s), z = ce(f), N = ce(f), W = ce(p), I = ce(u), X = ce(p), B = ce(p), R = ce(p), k = ce(u), A = ce(s), x((D = t((H = function(e) {
                function t() {
                    for (var t, l = arguments.length, a = new Array(l), n = 0; n < l; n++) a[n] = arguments[n];
                    return t = e.call.apply(e, [this].concat(a)) || this, r(t, "physicsMaterial", D, o(t)), r(t, "physicsMaterialForBall", V, o(t)), r(t, "alternateWallHitFX", L, o(t)), r(t, "albedoBlend", q, o(t)), r(t, "albedoColor", U, o(t)), r(t, "wallEffect", j, o(t)), r(t, "floorEffect", O, o(t)), r(t, "takeTopColorFromMaterialAlbedo", Z, o(t)), r(t, "topColor", J, o(t)), r(t, "topScale", K, o(t)), r(t, "topCutoff", Q, o(t)), r(t, "floorTexture", Y, o(t)), r(t, "floorTilingScrolling", $, o(t)), r(t, "reflectionTexture", ee, o(t)), r(t, "reflectionSparkle", te, o(t)), r(t, "reflectionScale", le, o(t)), r(t, "wallTexture", re, o(t)), r(t, "wallTilingScrolling", oe, o(t)), r(t, "wallScale", ae, o(t)), r(t, "arenaFX", ne, o(t)), t._oldMainColor = [], t._oldTopColor = [], t._oldTopScale = [], t._oldCutoff = [], t._oldFloorTexture = [], t._oldFlorScrollTiling = [], t._oldReflectTexture = [], t._oldReflectScale = [], t._oldWallTex = [], t._oldWallScrollTiling = [], t._oldWallScale = [], t._floorNode = null, t._spawnedFXNode = null, t._oldWallPhysicsMaterial = null, t
                }
                l(t, e);
                var a = t.prototype;
                return a.activateEffects = function() {
                    var e, t = this,
                        l = C.Instance.currentMode,
                        r = l.GetSpawnPoint();
                    this._floorNode = this.raycastDown(r, null, 2);
                    var o = function() {
                        this.value = void 0
                    };
                    if (null == (e = this._floorNode) || e.getComponentsInChildren(d).forEach((function(e, l) {
                            var r = e.getMaterialInstance(0);
                            if (r) {
                                var a = t.wallEffect == r.effectAsset,
                                    n = r.getProperty("mainColor");
                                t._oldMainColor[l] = n;
                                var i = r.getProperty("_topColor");
                                if (t._oldTopColor[l] = i, t._oldTopScale[l] = r.getProperty("_topScale"), t._oldCutoff[l] = r.getProperty("_cutoff"), a) {
                                    if (t._oldWallTex[l] = r.getProperty("_wallTex"), t._oldWallScale[l] = r.getProperty("_wallScale"), t._oldWallScrollTiling[l] = r.getProperty("_scrollTiling"), !t.physicsMaterialForBall) {
                                        var c = e.getComponents(y);
                                        c.concat(e.getComponentsInChildren(y)), c.forEach((function(e) {
                                            t._oldWallPhysicsMaterial = e.material, e.material = t.physicsMaterial
                                        }))
                                    }
                                } else t._oldFloorTexture[l] = r.getProperty("_floorTex"), t._oldFlorScrollTiling[l] = r.getProperty("_floorScrollTiling"), t._oldReflectTexture[l] = r.getProperty("_reflectionTex"), t._oldReflectScale[l] = r.getProperty("_reflectionScale");
                                var s = n.clone();
                                s.lerp(t.albedoColor, t.albedoBlend);
                                var f = t.takeTopColorFromMaterialAlbedo ? n.clone() : i ? i.clone() : null;
                                f || (f = t.topColor);
                                var p = t.takeTopColorFromMaterialAlbedo ? n.clone() : f.clone();
                                r.setProperty("_cutoff", t.topCutoff), a ? t.wallTexture && (r.setProperty("_wallTex", t.wallTexture), r.setProperty("_scrollTiling", t.wallTilingScrolling)) : (t.floorTexture && (r.setProperty("_floorTex", t.floorTexture), r.setProperty("_floorScrollTiling", t.floorTilingScrolling)), t.reflectionTexture && r.setProperty("_reflectionTex", t.reflectionTexture), t.reflectionSparkle && r.setProperty("_sparkleTex", t.reflectionSparkle));
                                var u = new o;
                                u.value = 0;
                                var d = r.getProperty("_topScale");
                                d = null != d ? d : 0;
                                var h = a ? 0 : r.getProperty("_reflectionScale"),
                                    P = a ? r.getProperty("_wallScale") : 0;
                                _(u).to(1, {
                                    value: 1
                                }, {
                                    onUpdate: function(e, l) {
                                        r.setProperty("mainColor", n.clone().lerp(s, l)), r.setProperty("_topColor", f.clone().lerp(p, l)), r.setProperty("_topScale", g(d, t.topScale, l)), t.reflectionTexture && r.setProperty("_reflectionScale", g(h, t.reflectionScale, l)), t.wallTexture && r.setProperty("_wallScale", g(P, t.wallScale, l))
                                    }
                                }).start()
                            }
                        })), this._floorNode && this.arenaFX) {
                        var a = this._floorNode.getComponent(y).worldBounds;
                        this._spawnedFXNode = h(this.arenaFX), this._spawnedFXNode.setParent(this._floorNode.parent);
                        var n = l.GetSpawnPoint(),
                            i = l.GetFirstEndHoleLocation().clone();
                        i.subtract(n);
                        var c = i.length();
                        i.normalize().multiplyScalar(.5 * c), this._spawnedFXNode.setWorldPosition(n.add(i)), this._spawnedFXNode.setWorldRotationFromEuler(0, 0, 0), this._spawnedFXNode.setScale(1, 1, 1);
                        var s = this._spawnedFXNode.getComponentInChildren(P);
                        s && (s.shapeModule.scale = new S(2 * a.halfExtents.x, 2 * a.halfExtents.z, 1))
                    }
                }, a.activateStatusEffectOnTarget = function(e, t) {
                    var l = this,
                        r = C.Instance.currentMode;
                    this.physicsMaterialForBall && r.GetGolfPlayers().forEach((function(e) {
                        e.ballVisual && e.ballVisual.pushPhysicsMaterial(l.physicsMaterial, l.alternateWallHitFX)
                    }));
                    setTimeout((function() {
                        l.activateEffects()
                    }), 1e3)
                }, a.revertInstantly = function() {
                    var e = this;
                    this._floorNode && (this._floorNode.getComponentsInChildren(d).forEach((function(t, l) {
                        var r = t.getMaterialInstance(0);
                        if (r) {
                            var o = e.wallEffect == r.effectAsset;
                            if (o && !e.physicsMaterialForBall) {
                                var a = t.getComponents(y);
                                a.concat(t.getComponentsInChildren(y)), a.forEach((function(t) {
                                    t.material = e._oldWallPhysicsMaterial
                                }))
                            }
                            r.setProperty("mainColor", e._oldMainColor[l]), r.getProperty("_topColor") && r.setProperty("_topColor", e._oldTopColor[l]), r.getProperty("_topScale") && r.setProperty("_topScale", e._oldTopScale[l]), r.getProperty("_cutoff") && r.setProperty("_cutoff", e._oldCutoff[l]), o && e.wallTexture && (r.getProperty("_wallTex") && r.setProperty("_wallTex", e._oldWallTex[l]), r.getProperty("_wallScale") && r.setProperty("_wallScale", e._oldWallScale[l]), r.getProperty("_scrollTiling") && r.setProperty("_scrollTiling", e._oldWallScrollTiling[l])), !o && e.floorTexture && (r.getProperty("_floorTex") && r.setProperty("_floorTex", e._oldFloorTexture[l]), r.getProperty("_floorScrollTiling") && r.setProperty("_floorScrollTiling", e._oldFlorScrollTiling[l])), !o && e.reflectionTexture && (r.getProperty("_reflectionTex") && r.setProperty("_reflectionTex", e._oldReflectTexture[l]), r.getProperty("_reflectionScale") && r.setProperty("_reflectionScale", e._oldReflectScale[l]))
                        }
                    })), this._spawnedFXNode && (this._spawnedFXNode.removeFromParent(), this._spawnedFXNode.destroy(), this._spawnedFXNode = null))
                }, a.revertWithTween = function() {
                    var e = this;
                    this._floorNode && this._floorNode.getComponentsInChildren(d).forEach((function(t, l) {
                        var r = t.getMaterialInstance(0);
                        if (r) {
                            var o = r.getProperty("mainColor"),
                                a = r.getProperty("_topColor"),
                                n = r.getProperty("_topScale"),
                                i = r.getProperty("_reflectionScale"),
                                c = r.getProperty("_wallScale"),
                                s = e._oldTopColor[l] || e._oldMainColor[l],
                                f = e._oldTopScale[l] || 0,
                                p = e._oldReflectScale[l] || 0,
                                u = e._oldWallScale[l] || 0;
                            _({}).to(1, {
                                value: 1
                            }, {
                                onUpdate: function(t, d) {
                                    r.setProperty("mainColor", o.clone().lerp(e._oldMainColor[l], d)), a && (r.setProperty("_topColor", a.clone().lerp(s, d)), null != n && r.setProperty("_topScale", g(n, f, d))), null != i && r.setProperty("_reflectionScale", g(i, p, d)), null != c && r.setProperty("_wallScale", g(c, u, d))
                                }
                            }).call((function() {
                                e.revertInstantly()
                            })).start()
                        }
                    }))
                }, a.onStatusEffectRemovedFromTarget = function(e) {
                    var t = this,
                        l = C.Instance.currentMode,
                        r = e.data.conflict;
                    this.physicsMaterialForBall && l.GetGolfPlayers().forEach((function(e) {
                        e.ballVisual && e.ballVisual.popPhysicsMaterial(t.physicsMaterial)
                    }));
                    !0 === r ? this.revertInstantly() : this.revertWithTween()
                }, a.canApplyToTarget = function(e) {
                    return !e.target.hasActiveStatusEffect(this, e)
                }, a.raycastDown = function(e, t, l) {
                    var r = T.Ray.create();
                    T.Ray.fromPoints(r, e.clone().add(new S(0, .5, 0)), e.clone().add(new S(0, -1, 0)));
                    var o = null;
                    b.instance.raycastClosest(r, m.CourseGround, l) && (o = b.instance.raycastClosestResult.collider.node);
                    return o
                }, a.onStartNewHole = function(e) {
                    var t = C.Instance.currentMode;
                    t.sendConsumeStatusEffectCharge({
                        target: t.statusEffects
                    }, this.statusEffectId)
                }, t
            }(v)).prototype, "physicsMaterial", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), V = t(H.prototype, "physicsMaterialForBall", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), L = t(H.prototype, "alternateWallHitFX", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), q = t(H.prototype, "albedoBlend", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), U = t(H.prototype, "albedoColor", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new w(1, 1, 1, 1)
                }
            }), j = t(H.prototype, "wallEffect", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), O = t(H.prototype, "floorEffect", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Z = t(H.prototype, "takeTopColorFromMaterialAlbedo", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), J = t(H.prototype, "topColor", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new w(1, 1, 1, 1)
                }
            }), K = t(H.prototype, "topScale", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), Q = t(H.prototype, "topCutoff", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), Y = t(H.prototype, "floorTexture", [W], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), $ = t(H.prototype, "floorTilingScrolling", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(1, 1, 0, 0)
                }
            }), ee = t(H.prototype, "reflectionTexture", [X], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), te = t(H.prototype, "reflectionSparkle", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), le = t(H.prototype, "reflectionScale", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), re = t(H.prototype, "wallTexture", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), oe = t(H.prototype, "wallTilingScrolling", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(1, 1, 0, 0)
                }
            }), ae = t(H.prototype, "wallScale", [ce], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), ne = t(H.prototype, "arenaFX", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = H)) || G));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectChangePhysicsMaterial.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, a, i, n, r, l, s, o, c, f, u;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, i = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, l = t._decorator, s = t.PhysicMaterial, o = t.Prefab
        }, function(t) {
            c = t.cOnHandlerBallHit, f = t.cOnBallStop
        }, function(t) {
            u = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var h, p, y, P, g, S, B;
            r._RF.push({}, "2befcVu6I9PkJrMMfP/z0tB", "StatusEffectChangePhysicsMaterial", void 0);
            var M = l.ccclass,
                d = l.property;
            t("StatusEffectChangePhysicsMaterial", (h = M("StatusEffectChangePhysicsMaterial"), p = d(s), y = d(o), h((S = e((g = function(t) {
                function e() {
                    for (var e, a = arguments.length, r = new Array(a), l = 0; l < a; l++) r[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(r)) || this, i(e, "physicsMaterial", S, n(e)), i(e, "alternateWallHitFX", B, n(e)), e
                }
                a(e, t);
                var r = e.prototype;
                return r.activateStatusEffectOnPlayer = function(t) {
                    t.pushPhysicsMaterial(this.physicsMaterial, this.alternateWallHitFX), t.owner.local && t.node.on(c, this.onBallHit, this)
                }, r.onStatusEffectRemovedFromPlayer = function(t) {
                    t && (t.popPhysicsMaterial(this.physicsMaterial), t.owner.local && (t.node.off(c, this.onBallHit, this), t.node.off(f, this.onBallStop, this)))
                }, r.onBallHit = function(t) {
                    t.node.on(f, this.onBallStop, this)
                }, r.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(f, this.onBallStop, this)
                }, r.canApplyToTarget = function(t) {
                    return !t.target.hasActiveStatusEffect(this, t)
                }, e
            }(u)).prototype, "physicsMaterial", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), B = e(g.prototype, "alternateWallHitFX", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = g)) || P));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectCleanSlate.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, a, r, n;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            a = t.cclegacy, r = t._decorator
        }, function(t) {
            n = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var c;
            a._RF.push({}, "82dd7eMIUBI2aY8dXXyZ2F3", "StatusEffectCleanSlate", void 0);
            var s = r.ccclass;
            r.property, t("StatusEffectCleanSlate", s("StatusEffectCleanSlate")(c = function(t) {
                function a() {
                    return t.apply(this, arguments) || this
                }
                e(a, t);
                var r = a.prototype;
                return r.charges = function() {
                    return 1
                }, r.activateStatusEffectOnPlayer = function(t, e) {
                    e.target.owner.RemoveStatusEffects()
                }, a
            }(n)) || c);
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectConstantForce.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./BallHandlerStatusEffects.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, n, o, a, r, i, c, l, f, s, u, h, p, d, y;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, a = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, i = t._decorator, c = t.Prefab, l = t.CCFloat, f = t.Vec2, s = t.Vec3
        }, function(t) {
            u = t.cOnHandlerBallHit, h = t.cOnBallStop
        }, function(t) {
            p = t.BallHandlerStatusEffects, d = t.VFXAttachType
        }, function(t) {
            y = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var S, b, P, g, v, x, B, E, m;
            r._RF.push({}, "52f36GWQZtPz6nVKQ7qLx4P", "StatusEffectConstantForce", void 0);
            var w = i.ccclass,
                D = i.property;
            t("StatusEffectConstantForce", (S = w("StatusEffectConstantForce"), b = D(c), P = D(c), g = D(l), S((B = e((x = function(t) {
                function e() {
                    for (var e, n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                    return e = t.call.apply(t, [this].concat(r)) || this, o(e, "fxDirectionIndicatorPrefab", B, a(e)), o(e, "fxLocalDirectionIndicatorPrefab", E, a(e)), o(e, "forceStrength", m, a(e)), e
                }
                n(e, t);
                var r = e.prototype;
                return r.getAdditionalTargetData = function() {
                    var t = new f;
                    return f.random(t), {
                        dir: new s(t.x, 0, t.y)
                    }
                }, r.activateStatusEffectOnPlayer = function(t, e) {
                    var n = s.clone(e.dir),
                        o = t.getComponent(p);
                    if (o.constantForceToApply = n.multiplyScalar(this.forceStrength), this.fxLocalDirectionIndicatorPrefab) {
                        var a = this.instantiateEffect(t, this.fxLocalDirectionIndicatorPrefab);
                        a.forward = n, o.attachVfx(this.statusEffectId + "_local", a, d.FollowPosition)
                    }
                    if (t.owner.local) {
                        var r = this.instantiateEffect(t, this.fxDirectionIndicatorPrefab);
                        r.forward = n, o.attachVfx(this, r, d.None), t.node.on(u, this.onBallHit, this)
                    }
                }, r.onStatusEffectRemovedFromPlayer = function(t, e) {
                    var n = t.getComponent(p);
                    n.constantForceToApply = new s, this.fxLocalDirectionIndicatorPrefab && n.removeVfx(this.statusEffectId + "_local"), t.owner.local && (n.removeVfx(this), t.node.off(u, this.onBallHit, this), t.node.off(h, this.onBallStop, this))
                }, r.onBallHit = function(t) {
                    t.node.on(h, this.onBallStop, this)
                }, r.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(h, this.onBallStop, this)
                }, e
            }(y)).prototype, "fxDirectionIndicatorPrefab", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = e(x.prototype, "fxLocalDirectionIndicatorPrefab", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), m = e(x.prototype, "forceStrength", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .015
                }
            }), v = x)) || v));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectFreezePlayers.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, r, a, s;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            r = t.cclegacy, a = t._decorator
        }, function(t) {
            s = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var c;
            r._RF.push({}, "89ad8JL7yJP1YQRf/goamVq", "StatusEffectFreezePlayers", void 0);
            var n = a.ccclass;
            a.property, t("StatusEffectFreezePlayers", n("StatusEffectFreezePlayers")(c = function(t) {
                function r() {
                    return t.apply(this, arguments) || this
                }
                return e(r, t), r.prototype.activateStatusEffectOnPlayer = function(t) {
                    t.InAir || t.haltMotion()
                }, r
            }(s)) || c);
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectFunSize.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./BallHandlerStatusEffects.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, i, n, o, a, l, r, s, c, u, f, d, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, l = t._decorator, r = t.CCFloat, s = t.tween, c = t.Vec3
        }, function(t) {
            u = t.cOnHandlerBallHit, f = t.cOnBallStop
        }, function(t) {
            d = t.BallHandlerStatusEffects
        }, function(t) {
            p = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var h, S, g, y, w, z, b;
            a._RF.push({}, "bf4b3qr9hFFJbXKfwVoxlD2", "StatusEffectFunSize", void 0);
            var B = l.ccclass,
                m = l.property;
            t("StatusEffectFunSize", (h = B("StatusEffectFunSize"), S = m(r), g = m(r), h((z = e((w = function(t) {
                function e() {
                    for (var e, i = arguments.length, a = new Array(i), l = 0; l < i; l++) a[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(a)) || this, n(e, "size", z, o(e)), n(e, "forceMultiplier", b, o(e)), e
                }
                i(e, t);
                var a = e.prototype;
                return a.activateStatusEffectOnPlayer = function(t) {
                    var e = t.node.scale.clone(),
                        i = (this.size - e.x) / 3;
                    s(t.node).to(.3, {
                        scale: new c(e.x + i, e.y + i, e.z + i)
                    }, {
                        easing: "backOut"
                    }).to(.3, {
                        scale: new c(e.x + 2 * i, e.y + 2 * i, e.z + 2 * i)
                    }, {
                        easing: "backOut"
                    }).to(.3, {
                        scale: new c(this.size, this.size, this.size)
                    }, {
                        easing: "backOut"
                    }).start(), t.owner.local && (t.aimWidget.node.scale = new c(.5, .5, .5), t.getComponent(d).hitForceMultiplier += this.forceMultiplier, t.node.on(u, this.onBallHit, this))
                }, a.onStatusEffectRemovedFromPlayer = function(t) {
                    s(t.node).call((function() {
                        t.rigidbody.isKinematic = !0
                    })).to(.3, {
                        scale: new c(1, 1, 1),
                        worldPosition: t.node.worldPosition.clone().add(new c(0, 2, 0))
                    }, {
                        easing: "quintOut"
                    }).delay(.1).call((function() {
                        t.rigidbody.isKinematic = !1
                    })).start(), t.owner.local && (t.aimWidget.node.scale = new c(1, 1, 1), t.getComponent(d).hitForceMultiplier -= this.forceMultiplier, t.node.off(u, this.onBallHit, this), t.node.off(f, this.onBallStop, this))
                }, a.onBallHit = function(t) {
                    t.node.on(f, this.onBallStop, this)
                }, a.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(f, this.onBallStop, this)
                }, e
            }(p)).prototype, "size", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 2
                }
            }), b = e(w.prototype, "forceMultiplier", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), y = w)) || y));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectGhostBall.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts", "./BallHandlerStatusEffects.ts"], (function(t) {
    var o, e, n, a, l, s, c;
    return {
        setters: [function(t) {
            o = t.inheritsLoose
        }, function(t) {
            e = t.cclegacy, n = t._decorator
        }, function(t) {
            a = t.cOnHandlerBallHit, l = t.cOnBallStop
        }, function(t) {
            s = t.StatusEffectPlayerTargetBase
        }, function(t) {
            c = t.BallHandlerStatusEffects
        }],
        execute: function() {
            var f;
            e._RF.push({}, "d054318zsFIq4GbbGg4Ydf4", "StatusEffectGhostBall", void 0);
            var i = n.ccclass;
            n.property, t("StatusEffectGhostBall", i("StatusEffectGhostBall")(f = function(t) {
                function e() {
                    return t.apply(this, arguments) || this
                }
                o(e, t);
                var n = e.prototype;
                return n.activateStatusEffectOnPlayer = function(t) {
                    t.getComponent(c).activateGhostMode(), t.owner.local && t.node.on(a, this.onBallHit, this)
                }, n.onStatusEffectRemovedFromPlayer = function(t) {
                    t.getComponent(c).deactivateGhostMode(), t.owner.local && (t.node.off(a, this.onBallHit, this), t.node.off(l, this.onBallStop, this))
                }, n.onBallHit = function(t) {
                    t.node.on(l, this.onBallStop, this)
                }, n.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(l, this.onBallStop, this)
                }, e
            }(s)) || f);
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectGravityPullTowardsOtherBalls.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./BallHandlerStatusEffects.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, a, r, l, n, o, i, s, u, c, f;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, r = t.initializerDefineProperty, l = t.assertThisInitialized
        }, function(t) {
            n = t.cclegacy, o = t._decorator, i = t.CCFloat
        }, function(t) {
            s = t.cOnHandlerBallHit, u = t.cOnBallStop
        }, function(t) {
            c = t.BallHandlerStatusEffects
        }, function(t) {
            f = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var h, p, g, d, B, y, S;
            n._RF.push({}, "03275w6ue1EQaj2Sk+suepf", "StatusEffectGravityPullTowardsOtherBalls", void 0);
            var v = o.ccclass,
                w = o.property;
            t("StatusEffectGravityPullTowardsOtherBalls", (h = v("StatusEffectGravityPullTowardsOtherBalls"), p = w(i), g = w(i), h((y = e((B = function(t) {
                function e() {
                    for (var e, a = arguments.length, n = new Array(a), o = 0; o < a; o++) n[o] = arguments[o];
                    return e = t.call.apply(t, [this].concat(n)) || this, r(e, "range", y, l(e)), r(e, "maxStrength", S, l(e)), e
                }
                a(e, t);
                var n = e.prototype;
                return n.activateStatusEffectOnPlayer = function(t, e) {
                    var a = t.getComponent(c);
                    a.gravityPullTowardsOtherBallsRange = this.range, a.gavityPullTowardsOtherBallsStrength = this.maxStrength, t.owner.local && t.node.on(s, this.onBallHit, this)
                }, n.onStatusEffectRemovedFromPlayer = function(t, e) {
                    var a = t.getComponent(c);
                    a.gravityPullTowardsOtherBallsRange = 0, a.gavityPullTowardsOtherBallsStrength = 0, t.owner.local && (t.node.off(s, this.onBallHit, this), t.node.off(u, this.onBallStop, this))
                }, n.onBallHit = function(t) {
                    t.node.on(u, this.onBallStop, this)
                }, n.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(u, this.onBallStop, this)
                }, e
            }(f)).prototype, "range", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), S = e(B.prototype, "maxStrength", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 10
                }
            }), d = B)) || d));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectGuesswork.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./DirectionWidget.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, n, o, s, i, r;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            n = t.cclegacy, o = t._decorator
        }, function(t) {
            s = t.cOnHandlerBallHit
        }, function(t) {
            i = t.DirectionWidget
        }, function(t) {
            r = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var a;
            n._RF.push({}, "34ebeaxhz1BfplxvMmIL2Z5", "StatusEffectGuesswork", void 0);
            var c = o.ccclass;
            o.property, t("StatusEffectGuesswork", c("StatusEffectGuesswork")(a = function(t) {
                function n() {
                    return t.apply(this, arguments) || this
                }
                e(n, t);
                var o = n.prototype;
                return o.activateStatusEffectOnPlayer = function(t) {
                    t.owner.local && (t.aimWidget.SetInvisible(!0), t.node.on(s, this.consumeCharge, this))
                }, o.onStatusEffectRemovedFromPlayer = function(t) {
                    t.owner.local && (t.aimWidget.SetInvisible(!1), t.aimWidget.node.getComponentsInChildren(i).forEach((function(t) {
                        t.disable()
                    })), t.node.off(s, this.consumeCharge, this))
                }, n
            }(r)) || a);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectHoleMagnet.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts", "./BallHandlerStatusEffects.ts", "./gameManager.ts", "./Hole.ts"], (function(t) {
    var e, n, o, a, l, r, i, s, f, c, u, p, d, g, h;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, a = t.assertThisInitialized
        }, function(t) {
            l = t.cclegacy, r = t._decorator, i = t.Prefab, s = t.CCFloat, f = t.Vec3
        }, function(t) {
            c = t.cOnHandlerBallHit, u = t.cOnBallStop
        }, function(t) {
            p = t.StatusEffectPlayerTargetBase
        }, function(t) {
            d = t.BallHandlerStatusEffects
        }, function(t) {
            g = t.GameManager
        }, function(t) {
            h = t.cEnteredHole
        }],
        execute: function() {
            var H, y, S, v, E, B, b, m, M, w, P;
            l._RF.push({}, "4876ab5GZFLgpuGgKNzy3gl", "StatusEffectHoleMagnet", void 0);
            var z = r.ccclass,
                F = r.property;
            t("StatusEffectHoleMagnet", (H = z("StatusEffectHoleMagnet"), y = F(i), S = F(s), v = F(s), E = F(f), H((m = e((b = function(t) {
                function e() {
                    for (var e, n = arguments.length, l = new Array(n), r = 0; r < n; r++) l[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(l)) || this, o(e, "fxHoleMagnet", m, a(e)), o(e, "radius", M, a(e)), o(e, "strength", w, a(e)), o(e, "offset", P, a(e)), e
                }
                n(e, t);
                var l = e.prototype;
                return l.activateStatusEffectOnPlayer = function(t, e) {
                    var n = this,
                        o = g.Instance.currentMode,
                        a = t.getComponent(d);
                    o.GetEndLocationsFromHole(o.currentHole).forEach((function(e) {
                        var o = e.worldPosition.clone().add(n.offset),
                            l = null;
                        t.owner.local && ((l = n.instantiateEffect(t, n.fxHoleMagnet)).worldPosition = o, t.node.on(c, n.onBallHit, n), t.node.on(h, n.onEnterHole, n)), a.addGravityWell(n, o, n.radius, n.strength, l, !0)
                    }))
                }, l.onStatusEffectRemovedFromPlayer = function(t, e) {
                    t.getComponent(d).removeGravityWell(this), t.owner.local && (t.node.off(c, this.onBallHit, this), t.node.off(u, this.onBallStop, this))
                }, l.onBallHit = function(t) {
                    t.node.on(u, this.onBallStop, this)
                }, l.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(u, this.onBallStop, this), t.node.off(h, this.onEnterHole, this)
                }, l.onEnterHole = function(t, e) {
                    var n, o, a;
                    this.onBallStop(null == (n = t.localState) ? void 0 : n.visual), null == (o = t.localState) || null == (a = o.visual) || a.node.off(h, this.onEnterHole, this)
                }, e
            }(p)).prototype, "fxHoleMagnet", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), M = e(b.prototype, "radius", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), w = e(b.prototype, "strength", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), P = e(b.prototype, "offset", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new f
                }
            }), B = b)) || B));
            l._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./StatusEffectBase.ts", "./AttackTrail.ts"], (function(t) {
    var e, a, s, n, f, r, c, i, o, u, l, d;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, s = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            f = t.cclegacy, r = t._decorator, c = t.Prefab, i = t.instantiate, o = t.Component
        }, function(t) {
            u = t.GameManager
        }, function(t) {
            l = t.StatusEffectBase
        }, function(t) {
            d = t.AttackTrail
        }],
        execute: function() {
            var g, p, E, h, S;
            f._RF.push({}, "14efcAIuuxBsK9tfLwFEZq/", "StatusEffectManager", void 0);
            var _ = r.ccclass,
                v = r.property,
                T = t("cOnStatusEffectAddedToTarget", "on-status-effect-added-to-target"),
                m = t("cOnStatusEffectRemovedFromTarget", "on-status-effect-removed-from-target");
            t("StatusEffectManager", (g = _("StatusEffectManager"), p = v(c), g((S = e((h = function(t) {
                function e() {
                    for (var e, a = arguments.length, f = new Array(a), r = 0; r < a; r++) f[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(f)) || this, s(e, "powerupAttackTrailPrefab", S, n(e)), e._allStatusEffectsPrefabMap = new Map, e._allStatusEffects = [], e._pendingStatusEffects = new Map, e
                }
                a(e, t);
                var f = e.prototype;
                return f.onLoad = function() {
                    u.Instance.currentMode.statusEffectManager = this
                }, f.registerStatusEffect = function(t) {
                    var e = this._allStatusEffectsPrefabMap.get(t);
                    if (!e) {
                        var a = i(t);
                        return this.node.addChild(a), (e = a.getComponent(l)).statusEffectId = this._allStatusEffects.length, e.statusEffectManager = this, this._allStatusEffects.push(e), this._allStatusEffectsPrefabMap.set(t, e), e
                    }
                    return e
                }, f.applyStatusEffectToTarget = function(t, e, a) {
                    a >= 0 && a < this._allStatusEffects.length && this._allStatusEffects[a].applyStatusEffectToTarget(t, e)
                }, f.consumeStatusEffectCharge = function(t, e) {
                    e >= 0 && e < this._allStatusEffects.length && t.target && (t.target.consumeStatusEffectCharge(this._allStatusEffects[e], t) || console.error("failed to consume status effect for effect id " + e + " target data"), this._pendingStatusEffects.delete(t))
                }, f.restoreStatusEffectOnTarget = function(t, e, a) {
                    return e >= 0 && e < this._allStatusEffects.length ? (this._allStatusEffects[e].shouldActivateEffect(t) && this._allStatusEffects[e].activateStatusEffectOnTarget(t, a), this._allStatusEffects[e]) : null
                }, f.onStatusEffectAddedToTarget = function(t, e, a) {
                    this.node.emit(T, t, e, a)
                }, f.onStatusEffectRemovedFromTarget = function(t, e) {
                    this.node.emit(m, t, e), this._pendingStatusEffects.delete(t)
                }, f.abortPendingStatusEffects = function(t) {
                    var e = this;
                    this._pendingStatusEffects.forEach((function(a, s) {
                        s.target == t.target && (a.abort(), e._pendingStatusEffects.delete(s))
                    }))
                }, f.onAboutToAddStatusEffect = function(t, e, a, s) {
                    var n = t.target.owner;
                    if (n && e && e.owner != n && n.netPlayer) {
                        var f = e.owner.netPlayer.localState.visual,
                            r = n.netPlayer.localState.visual;
                        if (f && r && f.node && r.node) {
                            var c = i(this.powerupAttackTrailPrefab),
                                o = c.getComponent(d);
                            s.reverseAttackTrailDirection ? o.init(r.node, f.node, s.applicationDelay, a) : o.init(f.node, r.node, s.applicationDelay, a), this._pendingStatusEffects.set(t, o), this.node.scene.addChild(c)
                        }
                    } else a && a()
                }, e
            }(o)).prototype, "powerupAttackTrailPrefab", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = h)) || E));
            f._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectModifyAimWidget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts", "./BallHandlerStatusEffects.ts"], (function(i) {
    var t, e, r, o, a, n, l, f, u, c, d;
    return {
        setters: [function(i) {
            t = i.applyDecoratedDescriptor, e = i.inheritsLoose, r = i.initializerDefineProperty, o = i.assertThisInitialized
        }, function(i) {
            a = i.cclegacy, n = i._decorator, l = i.CCFloat
        }, function(i) {
            f = i.cOnHandlerBallHit, u = i.cOnBallStop
        }, function(i) {
            c = i.StatusEffectPlayerTargetBase
        }, function(i) {
            d = i.BallHandlerStatusEffects
        }],
        execute: function() {
            var s, p, h, g, M, m, y, v, b, S, B, W, E;
            a._RF.push({}, "92bbejSYopC1JmdB/reC4LK", "StatusEffectModifyAimWidget", void 0);
            var A = n.ccclass,
                H = n.property;
            i("StatusEffectModifyAimWidget", (s = A("StatusEffectModifyAimWidget"), p = H(l), h = H(l), g = H(l), M = H(l), m = H(l), s((b = t((v = function(i) {
                function t() {
                    for (var t, e = arguments.length, a = new Array(e), n = 0; n < e; n++) a[n] = arguments[n];
                    return t = i.call.apply(i, [this].concat(a)) || this, r(t, "amplitudeModifier", b, o(t)), r(t, "frequencyModifier", S, o(t)), r(t, "strengthModifier", B, o(t)), r(t, "verticalModifier", W, o(t)), r(t, "gravityModifier", E, o(t)), t
                }
                e(t, i);
                var a = t.prototype;
                return a.activateStatusEffectOnPlayer = function(i) {
                    i.owner.local && (i.aimWidget.addAmplitudeMultiplier(this.amplitudeModifier), i.aimWidget.addFrequencyMultiplier(this.frequencyModifier), i.aimWidget.addVerticalMultiplier(this.verticalModifier), i.aimWidget.addGravityMultiplier(this.gravityModifier), i.getComponent(d).hitForceMultiplier += this.strengthModifier, i.node.on(f, this.onBallHit, this))
                }, a.onStatusEffectRemovedFromPlayer = function(i) {
                    i.owner.local && (i.aimWidget.removeAmplitudeMultiplier(this.amplitudeModifier), i.aimWidget.removeFrequencyMultiplier(this.frequencyModifier), i.aimWidget.removeVerticalMultiplier(this.verticalModifier), i.aimWidget.removeGravityMultiplier(this.gravityModifier), i.getComponent(d).hitForceMultiplier -= this.strengthModifier, i.node.off(f, this.onBallHit, this), i.node.off(u, this.onBallStop, this))
                }, a.onBallHit = function(i) {
                    i.node.on(u, this.onBallStop, this)
                }, a.onBallStop = function(i) {
                    this.consumeCharge(i), i.node.off(u, this.onBallStop, this)
                }, a.canApplyToTarget = function(i) {
                    return !i.target.hasActiveStatusEffect(this, i)
                }, t
            }(c)).prototype, "amplitudeModifier", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), S = t(v.prototype, "frequencyModifier", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), B = t(v.prototype, "strengthModifier", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), W = t(v.prototype, "verticalModifier", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), E = t(v.prototype, "gravityModifier", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), y = v)) || y));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectMultipleAimArrows.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./DirectionWidget.ts", "./StatusEffectPlayerTargetBase.ts"], (function(e) {
    var i, t, r, o, a, n, l, u, c, s, f;
    return {
        setters: [function(e) {
            i = e.applyDecoratedDescriptor, t = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, n = e._decorator, l = e.CCFloat, u = e.Color
        }, function(e) {
            c = e.cOnHandlerBallHit
        }, function(e) {
            s = e.DirectionWidget
        }, function(e) {
            f = e.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var d, p, m, g, y, h, M, w, A;
            a._RF.push({}, "a9b2aG3rZBPXZjz16Ez/GF0", "StatusEffectMultipleAimArrows", void 0);
            var b = n.ccclass,
                C = n.property;
            e("StatusEffectMultipleAimArrows", (d = b("StatusEffectMultipleAimArrows"), p = C(l), m = C(l), g = C([u]), d((M = i((h = function(e) {
                function i() {
                    for (var i, t = arguments.length, a = new Array(t), n = 0; n < t; n++) a[n] = arguments[n];
                    return i = e.call.apply(e, [this].concat(a)) || this, r(i, "amplitudeModifier", M, o(i)), r(i, "frequencyModifier", w, o(i)), r(i, "arrowColors", A, o(i)), i
                }
                t(i, e);
                var a = i.prototype;
                return a.activateStatusEffectOnPlayer = function(e) {
                    e.owner.local && (e.aimWidget.aimArrowColors = this.arrowColors, e.aimWidget.addAmplitudeMultiplier(this.amplitudeModifier), e.aimWidget.addFrequencyMultiplier(this.frequencyModifier), e.node.on(c, this.consumeCharge, this))
                }, a.onStatusEffectRemovedFromPlayer = function(e) {
                    e.owner.local && (e.aimWidget.aimArrowColors = [u.WHITE], e.aimWidget.removeAmplitudeMultiplier(this.amplitudeModifier), e.aimWidget.removeFrequencyMultiplier(this.frequencyModifier), e.aimWidget.node.getComponentsInChildren(s).forEach((function(e) {
                        e.disable()
                    })), e.node.off(c, this.consumeCharge, this))
                }, i
            }(f)).prototype, "amplitudeModifier", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), w = i(h.prototype, "frequencyModifier", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -.1
                }
            }), A = i(h.prototype, "arrowColors", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), y = h)) || y));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectPlayerTargetBase.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./StatusEffectBase.ts", "./BallHandlerStatusEffects.ts", "./AudioEventInstance.ts", "./prefabManager.ts"], (function(t) {
    var e, a, n, i, r, o, l, c, u, f, s, p, v, h;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, o = t._decorator, l = t.Prefab, c = t.CCBoolean, u = t.Color
        }, function(t) {
            f = t.StatusEffectBase
        }, function(t) {
            s = t.BallHandlerStatusEffects, p = t.VFXAttachType
        }, function(t) {
            v = t.AudioEventInstance
        }, function(t) {
            h = t.PrefabManager
        }],
        execute: function() {
            var y, b, d, g, P, E, S, T, m, A, w, B, C, O, x, z, F, I, D, H;
            r._RF.push({}, "6f37cEmedxJD7WvBuupZ9uC", "StatusEffectPlayerTargetBase", void 0);
            var R = o.ccclass,
                X = o.property;
            o.type, t("StatusEffectPlayerTargetBase", (y = R("StatusEffectPlayerTargetBase"), b = X(v), d = X(v), g = X(l), P = X(l), E = X(c), S = X(c), T = X(u), m = X(c), y((B = e((w = function(t) {
                function e() {
                    for (var e, a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "audioEventOnActivate", B, i(e)), n(e, "audioEventOnDeactivate", C, i(e)), n(e, "fxPrefab", O, i(e)), n(e, "fxToAttachToPlayer", x, i(e)), n(e, "followBallOrientation", z, i(e)), n(e, "applyBallColorToAttachedFX", F, i(e)), n(e, "tintScale", I, i(e)), n(e, "tintColor", D, i(e)), n(e, "canActivateInHole", H, i(e)), e
                }
                a(e, t);
                var r = e.prototype;
                return r.activateStatusEffectOnTarget = function(t, e) {
                    var a = t.target.owner.netPlayer.localState.visual;
                    if (a && a.node) {
                        if (this.fxPrefab && this.instantiateEffect(a, this.fxPrefab), this.audioEventOnActivate && this.audioEventOnActivate.Activate(), this.fxToAttachToPlayer) a.getComponent(s).attachVfx(this, h.Instance.getInstance(this.fxToAttachToPlayer), this.followBallOrientation ? p.Parent : p.FollowPosition, this.applyBallColorToAttachedFX, this.tintScale, this.tintColor);
                        this.activateStatusEffectOnPlayer(a, t, e)
                    }
                }, r.onStatusEffectRemovedFromTarget = function(t) {
                    var e = t.target.owner.netPlayer.localState.visual;
                    if (e) {
                        if (this.onStatusEffectRemovedFromPlayer(e, t), this.fxToAttachToPlayer) e.getComponent(s).removeVfx(this);
                        this.audioEventOnDeactivate && this.audioEventOnDeactivate.Activate()
                    }
                }, r.activateStatusEffectOnPlayer = function(t, e, a) {}, r.onStatusEffectRemovedFromPlayer = function(t, e) {}, r.consumeCharge = function(t) {
                    var e = t.owner.localState.golfPlayer;
                    e && e.consumeStatusEffectCharge(this)
                }, r.instantiateEffect = function(t, e) {
                    var a = h.Instance.getInstance(e);
                    return t.node.scene.addChild(a), a.setWorldPosition(t.node.getWorldPosition()), a
                }, r.canApplyToTarget = function(t) {
                    var e = t.target.owner.netPlayer.localState.visual;
                    return this.canActivateInHole || !1 === (null == e ? void 0 : e.inHole)
                }, e
            }(f)).prototype, "audioEventOnActivate", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), C = e(w.prototype, "audioEventOnDeactivate", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), O = e(w.prototype, "fxPrefab", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), x = e(w.prototype, "fxToAttachToPlayer", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), z = e(w.prototype, "followBallOrientation", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), F = e(w.prototype, "applyBallColorToAttachedFX", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !1
                }
            }), I = e(w.prototype, "tintScale", [X], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), D = e(w.prototype, "tintColor", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new u(1, 1, 1, 1)
                }
            }), H = e(w.prototype, "canActivateInHole", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), A = w)) || A));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectPrefabSpawner.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./StatusEffectBase.ts", "./StatusEffectSpawnedInstance.ts", "./prefabManager.ts"], (function(t) {
    var e, a, n, r, i, s, o, c, f, u, l;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
        }, function(t) {
            i = t.cclegacy, s = t._decorator, o = t.Prefab, c = t.Vec3
        }, function(t) {
            f = t.StatusEffectBase
        }, function(t) {
            u = t.StatusEffectSpawnedInstance
        }, function(t) {
            l = t.PrefabManager
        }],
        execute: function() {
            var p, d, g, h, b, v, w, S, m;
            i._RF.push({}, "9ba37D+Iz9BmInCw9dK457T", "StatusEffectPrefabSpawner", void 0);
            var D = s.ccclass,
                _ = s.property;
            t("SpawnedInstanceTargetData", (function() {
                this.target = void 0, this.position = void 0, this.id = void 0
            })), t("StatusEffectPrefabSpawner", (p = D("StatusEffectPrefabSpawner"), d = _(o), g = _(o), h = _(c), p((w = e((v = function(t) {
                function e() {
                    for (var e, a = arguments.length, i = new Array(a), s = 0; s < a; s++) i[s] = arguments[s];
                    return e = t.call.apply(t, [this].concat(i)) || this, n(e, "prefab", w, r(e)), n(e, "previewPrefab", S, r(e)), n(e, "groundOffset", m, r(e)), e._instances = [], e
                }
                a(e, t);
                var i = e.prototype;
                return i.allowMultipleInstances = function() {
                    return !0
                }, i.activateStatusEffectOnTarget = function(t, e) {
                    var a = l.Instance.getInstance(this.prefab);
                    if (a) {
                        var n = a.getComponent(u);
                        n.initialize(this, t, e), a.worldPosition = c.clone(n.targetData.position).add(this.groundOffset), n.targetData.dir && n.targetData.up && a.lookAt(c.clone(n.targetData.dir).add(a.worldPosition), n.targetData.up), this._instances.push(n), this.node.scene.addChild(a)
                    }
                }, i.onStatusEffectRemovedFromTarget = function(t) {
                    for (var e = t, a = this._instances.length - 1; a >= 0; --a) {
                        var n;
                        if (null != (n = this._instances[a]) && n.isValid) {
                            if (this.compareTargetData(this._instances[a].targetData, e)) {
                                var r;
                                null != (r = this._instances[a].node) && r.isValid && this._instances[a].node.destroy(), this._instances.splice(a, 1);
                                break
                            }
                        } else this._instances.splice(a, 1)
                    }
                }, i.consumeCharge = function(t, e) {
                    void 0 === e && (e = !1);
                    var a = t.target.owner;
                    (a.IsPrimaryUser() || e) && a.sendConsumeStatusEffectCharge(t, this.statusEffectId)
                }, i.getChargesLeft = function(t) {
                    return t.target.getChargesLeft(this, t)
                }, i.compareTargetData = function(t, e) {
                    return t.id === e.id
                }, i.onChargeConsumed = function() {
                    var t = this;
                    this._instances.forEach((function(e) {
                        e.refreshChargesLeft(t.getChargesLeft(e.targetData))
                    }))
                }, e
            }(f)).prototype, "prefab", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), S = e(v.prototype, "previewPrefab", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), m = e(v.prototype, "groundOffset", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new c
                }
            }), b = v)) || b));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectRandomForce.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CameraNoise.ts", "./BallHandler.ts", "./BallHandlerStatusEffects.ts", "./gameManager.ts", "./StatusEffectPlayerTargetBase.ts", "./AudioEventInstance.ts"], (function(e) {
    var t, n, a, i, o, r, l, c, s, u, f, p, m, d, h, g, y, b;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, a = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, r = e._decorator, l = e.CCFloat, c = e.Prefab
        }, function(e) {
            s = e.CameraNoiseSetting, u = e.CameraNoise
        }, function(e) {
            f = e.cOnHandlerBallHit, p = e.cOnBallStop
        }, function(e) {
            m = e.BallHandlerStatusEffects, d = e.EffectRange, h = e.cOnRandomForceApplied
        }, function(e) {
            g = e.GameManager
        }, function(e) {
            y = e.StatusEffectPlayerTargetBase
        }, function(e) {
            b = e.AudioEventInstance
        }],
        execute: function() {
            var S, v, E, B, R, w, F, A, D, C, N, P, z, H, O, x, I;
            o._RF.push({}, "1b1924nw/RJ0aIKrtqbNSN2", "StatusEffectRandomForce", void 0);
            var M = r.ccclass,
                _ = r.property;
            e("StatusEffectRandomForce", (S = M("StatusEffectRandomForce"), v = _(l), E = _(l), B = _(l), R = _(l), w = _(c), F = _(s), A = _(b), S((N = t((C = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                    return t = e.call.apply(e, [this].concat(o)) || this, a(t, "minStrength", N, i(t)), a(t, "maxStrength", P, i(t)), a(t, "minDelay", z, i(t)), a(t, "maxDelay", H, i(t)), a(t, "forceDirectionPrefab", O, i(t)), a(t, "cameraNoiseSetting", x, i(t)), a(t, "audioEventOnApply", I, i(t)), t
                }
                n(t, e);
                var o = t.prototype;
                return o.activateStatusEffectOnPlayer = function(e, t) {
                    var n = e.getComponent(m);
                    n.enableRandomForce(new d(this.minStrength, this.maxStrength), new d(this.minDelay, this.maxDelay), this.forceDirectionPrefab), e.owner.local && e.node.on(f, this.onBallHit, this), n.node.on(h, this.onRandomForceApplied, this)
                }, o.onStatusEffectRemovedFromPlayer = function(e, t) {
                    var n = e.getComponent(m);
                    n.disableRandomForce(), e.owner.local && (e.node.off(f, this.onBallHit, this), e.node.off(p, this.onBallStop, this)), n.node.off(h, this.onRandomForceApplied, this)
                }, o.onBallHit = function(e) {
                    e.node.on(p, this.onBallStop, this)
                }, o.onBallStop = function(e) {
                    this.consumeCharge(e), e.node.off(p, this.onBallStop, this)
                }, o.onRandomForceApplied = function(e) {
                    var t;
                    e.owner.local && ((null == (t = this.cameraNoiseSetting) ? void 0 : t.decay) > 0 && g.Instance.currentMode.playerCamera.node.emit(u.cAddCameraNoise, this.cameraNoiseSetting));
                    this.audioEventOnApply && this.audioEventOnApply.Activate()
                }, t
            }(y)).prototype, "minStrength", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), P = t(C.prototype, "maxStrength", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), z = t(C.prototype, "minDelay", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), H = t(C.prototype, "maxDelay", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), O = t(C.prototype, "forceDirectionPrefab", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), x = t(C.prototype, "cameraNoiseSetting", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = t(C.prototype, "audioEventOnApply", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), D = C)) || D));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectReversiball.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts"], (function(e) {
    var t, a, r, s, i;
    return {
        setters: [function(e) {
            t = e.inheritsLoose
        }, function(e) {
            a = e.cclegacy, r = e._decorator
        }, function(e) {
            s = e.cOnHandlerBallHit
        }, function(e) {
            i = e.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var n;
            a._RF.push({}, "87883bpHCNOJoCoov5Gsxbz", "StatusEffectReversiball", void 0);
            var o = r.ccclass;
            r.property, e("StatusEffectReversiball", o("StatusEffectReversiball")(n = function(e) {
                function a() {
                    return e.apply(this, arguments) || this
                }
                t(a, e);
                var r = a.prototype;
                return r.activateStatusEffectOnPlayer = function(e) {
                    e.owner.local && (e.aimWidget.reverse = !0, e.aimWidget.SetReversiball(!0), e.node.on(s, this.consumeCharge, this))
                }, r.onStatusEffectRemovedFromPlayer = function(e) {
                    e.owner.local && (e.aimWidget.reverse = !1, e.aimWidget.SetReversiball(!1), e.node.off(s, this.consumeCharge, this))
                }, a
            }(i)) || n);
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectRewind.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./StatusEffectPlayerTargetBase.ts", "./CameraNoise.ts"], (function(e) {
    var t, a, r, n, i, o, c, s, l, u;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, a = e.inheritsLoose, r = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, o = e._decorator
        }, function(e) {
            c = e.GameManager
        }, function(e) {
            s = e.StatusEffectPlayerTargetBase
        }, function(e) {
            l = e.CameraNoiseSetting, u = e.CameraNoise
        }],
        execute: function() {
            var f, p, g, h, y;
            i._RF.push({}, "48b04yWtsNF+ZJKArjqGLnD", "StatusEffectRewind", void 0);
            var d = o.ccclass,
                m = o.property;
            e("StatusEffectRewind", (f = d("StatusEffectRewind"), p = m(l), f((y = t((h = function(e) {
                function t() {
                    for (var t, a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(i)) || this, r(t, "cameraNoiseSetting", y, n(t)), t
                }
                a(t, e);
                var i = t.prototype;
                return i.activateStatusEffectOnPlayer = function(e) {
                    var t, a = this;
                    (this.instantiateEffect(e, this.fxPrefab), e.reversePath((function() {
                        e.owner.local && (c.Instance.currentMode.localGolfPlayer.RemoveStroke(), a.consumeCharge(e))
                    })), e.owner.local && (null == (t = this.cameraNoiseSetting) ? void 0 : t.decay) > 0) && c.Instance.currentMode.playerCamera.node.emit(u.cAddCameraNoise, this.cameraNoiseSetting)
                }, i.canApplyToTarget = function(e) {
                    var t = e.target.owner.netPlayer.localState.visual;
                    return !!t && (!e.target.hasActiveStatusEffect(this, e) && !t.inHole && t.hasReversePath())
                }, t
            }(s)).prototype, "cameraNoiseSetting", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), g = h)) || g));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffects.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(t) {
    var e, s, a, f, c;
    return {
        setters: [function(t) {
            e = t.extends, s = t.createClass
        }, function(t) {
            a = t.cclegacy, f = t._decorator
        }, function(t) {
            c = t.GameManager
        }],
        execute: function() {
            a._RF.push({}, "a6ea0+rhW9DLKmCshsk7R7J", "StatusEffects", void 0);
            f.ccclass, f.property;
            var i = t("ActiveStatusEffect", (function(t, e, s, a, f) {
                this.statusEffectRef = void 0, this.startTime = void 0, this.instigator = void 0, this.chargesLeft = void 0, this.targetData = void 0, this.statusEffectRef = t, this.startTime = e, this.instigator = a, this.chargesLeft = s, this.targetData = f
            }));
            t("StatusEffects", function() {
                function t() {
                    this._activeStatusEffects = [], this._owner = null, this._statusEffectManager = null, this._areStatusEffectsSuspended = !1, this._isImmuneToStatusEffects = !1
                }
                var a = t.prototype;
                return a.init = function(t) {
                    this._owner = t
                }, a.initStatusEffects = function() {
                    var t = this;
                    if (this._statusEffectManager = c.Instance.currentMode.statusEffectManager, this._owner) {
                        var s = this._owner.getActiveStatusEffectStates() || [],
                            a = c.Instance.currentMode;
                        s.forEach((function(s) {
                            var f = e({
                                    target: t
                                }, s.target_data),
                                c = a.getStatusEffectTargetById(s.instigator_id),
                                n = t._statusEffectManager.restoreStatusEffectOnTarget(f, s.effect_id, c),
                                r = new i(n, s.start_time, s.charges_left, c, f);
                            t._activeStatusEffects.push(r), t._statusEffectManager.onStatusEffectAddedToTarget(f, r, !0)
                        }))
                    }
                }, a.getBallHitAudio = function() {
                    for (var t = 0; t < this._activeStatusEffects.length; t++)
                        if (this._activeStatusEffects[t].statusEffectRef.ballHitOverride) return this._activeStatusEffects[t].statusEffectRef.ballHitOverride;
                    return null
                }, a.suspendActiveStatusEffects = function() {
                    this._areStatusEffectsSuspended || (this._areStatusEffectsSuspended = !0, this._activeStatusEffects.forEach((function(t) {
                        t.statusEffectRef.onStatusEffectRemovedFromTarget(t.targetData)
                    })))
                }, a.unsuspendActiveStatusEffects = function() {
                    this._areStatusEffectsSuspended && (this._areStatusEffectsSuspended = !1, this._activeStatusEffects.forEach((function(t) {
                        t.statusEffectRef.activateStatusEffectOnTarget(t.targetData, t.instigator)
                    })))
                }, a.enableImmunity = function() {
                    this._isImmuneToStatusEffects || (this._isImmuneToStatusEffects = !0)
                }, a.disableImmunity = function() {
                    this._isImmuneToStatusEffects && (this._isImmuneToStatusEffects = !1)
                }, a.hasActiveStatusEffect = function(t, e) {
                    return -1 != this.findActiveStatusEffectIndex(t, e)
                }, a.addActiveStatusEffect = function(t, s, a, f) {
                    var n = this.findActiveStatusEffectIndex(t, f),
                        r = c.Instance.currentMode.IsPrimaryUser();
                    if (n >= 0 && !t.allowMultipleInstances()) {
                        var u = this._activeStatusEffects[n];
                        if (u.startTime = s, u.chargesLeft = t.charges(), r) {
                            var o = this._owner.getActiveStatusEffectStates(),
                                h = this.findActiveStatusEffectStateIndex(o, t, f);
                            if (h >= 0) {
                                var E = o[h];
                                E.start_time = s, E.charges_left = u.chargesLeft, this._owner.setActiveStatusEffectStates(o)
                            } else console.error("Failed to find status effect state info for effect: " + u.statusEffectRef.uiName)
                        }
                        return !1
                    }
                    var S, d = new i(t, s, t.charges(), a, f);
                    if (this._activeStatusEffects.push(d), r) {
                        var g = this._owner.getActiveStatusEffectStates() || [],
                            v = e({}, f);
                        delete v.target, g.push({
                            effect_id: t.statusEffectId,
                            start_time: s,
                            charges_left: d.chargesLeft,
                            instigator_id: null == a ? void 0 : a.owner.uid,
                            target_data: v
                        }), this._owner.setActiveStatusEffectStates(g)
                    }
                    return null == (S = this._statusEffectManager) || S.onStatusEffectAddedToTarget(f, d, !1), !0
                }, a.clearActiveStatusEffects = function() {
                    for (var t = this._activeStatusEffects.length - 1; t >= 0; --t) {
                        var e = this._activeStatusEffects[t];
                        this.onStatusEffectRemoved(e, e.targetData)
                    }
                    this._activeStatusEffects = []
                }, a.getChargesLeft = function(t, e) {
                    var s = this._activeStatusEffects.findIndex((function(s) {
                        return s.statusEffectRef == t && (!t.allowMultipleInstances() || t.compareTargetData(e, s.targetData))
                    }));
                    return s >= 0 ? this._activeStatusEffects[s].chargesLeft : -1
                }, a.consumeStatusEffectCharge = function(e, s) {
                    if (t.debugInfiniteStatusEffectCharges) return !1;
                    var a = this._activeStatusEffects.findIndex((function(t) {
                        return t.statusEffectRef == e && (!e.allowMultipleInstances() || e.compareTargetData(s, t.targetData))
                    }));
                    if (a >= 0) {
                        var f = this._activeStatusEffects[a];
                        if (f.chargesLeft = f.chargesLeft - 1, f.chargesLeft <= 0 && (this._activeStatusEffects.splice(a, 1), this.onStatusEffectRemoved(f, s)), this._owner.canUpdateServerState()) {
                            var c = this._owner.getActiveStatusEffectStates(),
                                i = this.findActiveStatusEffectStateIndex(c, e, s);
                            i >= 0 && i < c.length && c[i] && (c[i].charges_left = f.chargesLeft), f.chargesLeft > 0 || c.splice(i, 1), this._owner.setActiveStatusEffectStates(c)
                        }
                        return f.chargesLeft > 0 && f.statusEffectRef.onChargeConsumed(), f.chargesLeft <= 0
                    }
                    return !1
                }, a.onStatusEffectRemoved = function(t, s) {
                    var a, f = e({
                        data: t.targetData.data
                    }, s.data);
                    t.targetData.data = f, this.areStatusEffectsSuspended || t.statusEffectRef.onStatusEffectRemovedFromTarget(t.targetData), null == (a = this._statusEffectManager) || a.onStatusEffectRemovedFromTarget(t.targetData, t)
                }, a.findActiveStatusEffectIndex = function(t, e) {
                    return this._activeStatusEffects.findIndex((function(s) {
                        return s.statusEffectRef == t && (!t.allowMultipleInstances() || t.compareTargetData(e, s.targetData))
                    }))
                }, a.findActiveStatusEffectStateIndex = function(t, e, s) {
                    return t ? t.findIndex((function(t) {
                        return t.effect_id == e.statusEffectId && (!e.allowMultipleInstances() || e.compareTargetData(s, t.target_data))
                    })) : -1
                }, a.updateStatusEffects = function() {
                    for (var t = c.Instance.currentMode.IsPrimaryUser(), e = this._activeStatusEffects.length - 1; e >= 0; --e) {
                        var s = this._activeStatusEffects[e];
                        if (s.startTime > 0) {
                            var a = s.startTime + s.statusEffectRef.durationInMS();
                            if (c.Instance.getServerTime() >= a && (this._activeStatusEffects.splice(e, 1), this.onStatusEffectRemoved(s, s.targetData), t)) {
                                var f = this._owner.getActiveStatusEffectStates();
                                this.findActiveStatusEffectStateIndex(f, s.statusEffectRef, s.targetData) >= 0 && (f.splice(e, 1), this._owner.setActiveStatusEffectStates(f))
                            }
                        }
                    }
                }, a.finishHole = function(t, e) {
                    this._activeStatusEffects.forEach((function(s) {
                        s.statusEffectRef.onHoleComplete(t, e)
                    }))
                }, a.startNewHole = function(t) {
                    this._activeStatusEffects.forEach((function(e) {
                        e.statusEffectRef.onStartNewHole(t)
                    }))
                }, s(t, [{
                    key: "areStatusEffectsSuspended",
                    get: function() {
                        return this._areStatusEffectsSuspended
                    }
                }, {
                    key: "isImmuneToStatusEffects",
                    get: function() {
                        return this._isImmuneToStatusEffects
                    }
                }, {
                    key: "owner",
                    get: function() {
                        return this._owner
                    }
                }, {
                    key: "activeStatusEffects",
                    get: function() {
                        return this._activeStatusEffects
                    }
                }]), t
            }()).debugInfiniteStatusEffectCharges = !1, a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectSpawnedInstance.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./AudioEventInstance.ts", "./gameManager.ts"], (function(t) {
    var e, i, n, a, r, o, s, l, h, u, c, d, g, f, p;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, a = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, o = t._decorator, s = t.MeshRenderer, l = t.Prefab, h = t.Color, u = t.Collider, c = t.instantiate, d = t.Component
        }, function(t) {
            g = t.BallHandler
        }, function(t) {
            f = t.AudioEventInstance
        }, function(t) {
            p = t.GameManager
        }],
        execute: function() {
            var v, C, w, b, y, m, E, A, D, L, O, _, S, I, z, M, P, T, H, R, U;
            r._RF.push({}, "48d33t+SKtAP7yZcsOCxsF6", "StatusEffectSpawnedInstance", void 0);
            var x = o.ccclass,
                B = o.property;
            o.type, t("StatusEffectSpawnedInstance", (v = x("StatusEffectSpawnedInstance"), C = B([s]), w = B([f]), b = B(f), y = B(f), m = B(l), E = B(h), A = B(h), D = B(s), v((_ = e((O = function(t) {
                function e() {
                    for (var e, i = arguments.length, r = new Array(i), o = 0; o < i; o++) r[o] = arguments[o];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "consumeChargeOnCollisionEnter", _, a(e)), n(e, "chargesLeftIndicator", S, a(e)), n(e, "audioEventsOnHit", I, a(e)), n(e, "audioEventOnSpawn", z, a(e)), n(e, "audioEventOnDestroy", M, a(e)), n(e, "spawnOnDestroy", P, a(e)), n(e, "spawnLifetimeMS", T, a(e)), n(e, "activeChargeColor", H, a(e)), n(e, "inactiveChargeColor", R, a(e)), n(e, "instigatorAvatar", U, a(e)), e.targetData = void 0, e.owner = void 0, e.instigator = void 0, e._collider = null, e._avatarUrl = null, e
                }
                i(e, t);
                var r = e.prototype;
                return r.onLoad = function() {
                    this._collider = this.getComponent(u), null == this._collider && (this._collider = this.getComponentInChildren(u)), this.consumeChargeOnCollisionEnter && this._collider && (this._collider.isTrigger ? this._collider.on("onTriggerEnter", this.onTriggerEnter, this) : this._collider.on("onCollisionEnter", this.onCollision, this))
                }, r.onAvatarLoaded = function(t) {
                    var e;
                    null != (e = this.instigatorAvatar) && e.isValid && (this.instigatorAvatar.node.active = !0, this.instigatorAvatar.material.setProperty("albedoMap", t))
                }, r.initialize = function(e, i, n) {
                    var a;
                    if (this.owner = e, this.targetData = i, this.instigator = n, t.prototype.onEnable && t.prototype.onEnable.call(this), this.handleAudio(this.audioEventOnSpawn), this.refreshChargesLeft(this.owner.getChargesLeft(this.targetData)), null != (a = this.instigatorAvatar) && a.isValid && (this.instigatorAvatar.node.active = !1, this.instigator)) {
                        var r = this.instigator.owner;
                        if (null != r && r.netPlayer) {
                            var o = r.netPlayer.getUser();
                            o && (this._avatarUrl = o.avatar_url, p.Instance.avatarManager.requestAvatarTexture(this._avatarUrl, this.onAvatarLoaded.bind(this)))
                        }
                    }
                }, r.onDisable = function() {
                    if (t.prototype.onDisable && t.prototype.onDisable.call(this), this._avatarUrl && p.Instance.avatarManager.cancelAvatarTextureRequest(this._avatarUrl, this.onAvatarLoaded.bind(this)), this.handleAudio(this.audioEventOnDestroy), this.spawnOnDestroy) {
                        var e = c(this.spawnOnDestroy);
                        e.worldPosition = this.node.worldPosition, e.worldRotation = this.node.worldRotation, this.node.scene.addChild(e), this.spawnLifetimeMS > 0 && setTimeout((function() {
                            e.destroy()
                        }), this.spawnLifetimeMS)
                    }
                }, r.handleAudio = function(t) {
                    t && t.Activate()
                }, r.onCollision = function(t) {
                    var e = t.otherCollider.getComponent(g);
                    if (e) {
                        var i = this.owner.getChargesLeft(this.targetData) - 1;
                        e.owner.local && this.owner.consumeCharge(this.targetData, !0), i >= 0 && this.audioEventsOnHit.length > i && this.handleAudio(this.audioEventsOnHit[i])
                    }
                }, r.onTriggerEnter = function(t) {
                    t.otherCollider.getComponent(g) && (this.refreshChargesLeft(this.owner.getChargesLeft(this.targetData) - 1), this.owner.consumeCharge(this.targetData))
                }, r.refreshChargesLeft = function(t) {
                    for (var e = 0; e < this.chargesLeftIndicator.length; ++e) this.chargesLeftIndicator[e].material.setProperty("mainColor", e < t ? this.activeChargeColor : this.inactiveChargeColor)
                }, e
            }(d)).prototype, "consumeChargeOnCollisionEnter", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), S = e(O.prototype, "chargesLeftIndicator", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), I = e(O.prototype, "audioEventsOnHit", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), z = e(O.prototype, "audioEventOnSpawn", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), M = e(O.prototype, "audioEventOnDestroy", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = e(O.prototype, "spawnOnDestroy", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), T = e(O.prototype, "spawnLifetimeMS", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -1
                }
            }), H = e(O.prototype, "activeChargeColor", [E], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new h(1, 0, 0)
                }
            }), R = e(O.prototype, "inactiveChargeColor", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new h
                }
            }), U = e(O.prototype, "instigatorAvatar", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), L = O)) || L));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectSpawnedInstanceWithDirection.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./StatusEffectSpawnedInstance.ts"], (function(t) {
    var e, n, i, c, a;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            n = t.cclegacy, i = t._decorator, c = t.Vec3
        }, function(t) {
            a = t.StatusEffectSpawnedInstance
        }],
        execute: function() {
            var s;
            n._RF.push({}, "2326bhxNtdJ47RbXLgJbkFX", "StatusEffectSpawnedInstanceWithDirection", void 0);
            var o = i.ccclass;
            i.property, t("StatusEffectSpawnedInstanceWithDirection", o("StatusEffectSpawnedInstanceWithDirection")(s = function(t) {
                function n() {
                    return t.apply(this, arguments) || this
                }
                return e(n, t), n.prototype.initialize = function(e, n, i) {
                    t.prototype.initialize.call(this, e, n, i), this.node.forward = c.clone(n.dir)
                }, n
            }(a)) || s);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectSpawnedInstanceWithPath.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PathMover.ts", "./StatusEffectSpawnedInstance.ts"], (function(t) {
    var e, n, o, a, c, s;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            n = t.cclegacy, o = t._decorator, a = t.Vec3
        }, function(t) {
            c = t.PathMover
        }, function(t) {
            s = t.StatusEffectSpawnedInstance
        }],
        execute: function() {
            var i;
            n._RF.push({}, "41792AlMxJAJJdvW47U/32F", "StatusEffectSpawnedInstanceWithPath", void 0);
            var u = o.ccclass;
            o.property, t("StatusEffectSpawnedInstanceWithPath", u("StatusEffectSpawnedInstanceWithPath")(i = function(t) {
                function n() {
                    return t.apply(this, arguments) || this
                }
                e(n, t);
                var o = n.prototype;
                return o.initialize = function(e, n, o) {
                    var s = this;
                    t.prototype.initialize.call(this, e, n, o);
                    var i = this.getComponent(c),
                        u = [],
                        h = n;
                    h.path.forEach((function(t) {
                        u.push(a.clone(t))
                    })), i.startPath(u, h.startTime), i.node.on(c.evtOnPathCompleted, this.onPathCompleted, this), this.scheduleOnce((function() {
                        s.onPathCompleted(), s.scheduleOnce((function() {
                            s.node.destroy()
                        }), 5)
                    }), i.cycleTime + 2)
                }, o.onSpawnedFromPool = function() {}, o.onReturnToPool = function() {
                    this.unscheduleAllCallbacks()
                }, o.onPathCompleted = function() {
                    this.owner.consumeCharge(this.targetData)
                }, n
            }(s)) || i);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectStealPowerUp.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var a, e, n, r, s, o;
    return {
        setters: [function(t) {
            a = t.inheritsLoose
        }, function(t) {
            e = t.cclegacy, n = t._decorator, r = t.randomRangeInt
        }, function(t) {
            s = t.GameManager
        }, function(t) {
            o = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var c;
            e._RF.push({}, "55ea2VBnXhC1q/rpZlZkOQR", "StatusEffectStealPowerUp", void 0);
            var d = n.ccclass;
            n.property, t("StatusEffectStealPowerUp", d("StatusEffectStealPowerUp")(c = function(t) {
                function e() {
                    return t.apply(this, arguments) || this
                }
                a(e, t);
                var n = e.prototype;
                return n.activateStatusEffectOnPlayer = function(t, a, e) {
                    var n = s.Instance.currentMode,
                        r = a.powerup_to_steal_id,
                        o = null == e ? void 0 : e.owner;
                    if (void 0 !== r) {
                        if (t.owner.local ? n.powerupManager.removeStolenCardFromHand(r) : o && o.netPlayer.local && (n.powerupManager.putStolenCardInHand(r), o.netPlayer.state.cards_in_hand || (o.netPlayer.state.cards_in_hand = []), o.netPlayer.state.cards_in_hand.push(r), o.netPlayer.stateUpdated()), t.owner.local || !t.owner.isConnected() && n.IsPrimaryUser()) {
                            var c = t.owner;
                            if (c.state.cards_in_hand)
                                for (var d = 0; d < c.state.cards_in_hand.length; ++d)
                                    if (c.state.cards_in_hand[d] == r) {
                                        c.state.cards_in_hand.splice(d, 1), c.stateUpdated();
                                        break
                                    }
                        }
                        n.powerupManager.refreshStateOfCardsInHand()
                    }
                }, n.getAdditionalTargetData = function(t) {
                    var a = t.owner.netPlayer;
                    if (a.state.cards_in_hand && a.state.cards_in_hand.length > 0) {
                        var e = r(0, a.state.cards_in_hand.length);
                        return {
                            powerup_to_steal_id: a.state.cards_in_hand[e]
                        }
                    }
                    return null
                }, n.canApplyToTarget = function(t) {
                    var a = t.target.owner.netPlayer;
                    return a.state.cards_in_hand && a.state.cards_in_hand.length > 0
                }, e
            }(o)) || c);
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectTwistedAim.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BallHandler.ts", "./StatusEffectPlayerTargetBase.ts"], (function(e) {
    var t, i, r, n, a, o, c, s, u;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, r = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, o = e._decorator, c = e.CCFloat
        }, function(e) {
            s = e.cOnHandlerBallHit
        }, function(e) {
            u = e.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var f, l, d, p, y;
            a._RF.push({}, "94120+0WUlGkpQH2gXlz+AO", "StatusEffectTwistedAim", void 0);
            var m = o.ccclass,
                h = o.property;
            e("StatusEffectTwistedAim", (f = m("StatusEffectTwistedAim"), l = h(c), f((y = t((p = function(e) {
                function t() {
                    for (var t, i = arguments.length, a = new Array(i), o = 0; o < i; o++) a[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(a)) || this, r(t, "frequencyModifier", y, n(t)), t
                }
                i(t, e);
                var a = t.prototype;
                return a.activateStatusEffectOnPlayer = function(e) {
                    e.owner.local && (e.aimWidget.spinAimDirection = !0, e.aimWidget.addFrequencyMultiplier(this.frequencyModifier), e.node.on(s, this.consumeCharge, this))
                }, a.onStatusEffectRemovedFromPlayer = function(e) {
                    e.owner.local && (e.aimWidget.spinAimDirection = !1, e.aimWidget.removeFrequencyMultiplier(this.frequencyModifier), e.node.off(s, this.consumeCharge, this))
                }, t
            }(u)).prototype, "frequencyModifier", [l], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 40
                }
            }), d = p)) || d));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/StatusEffectZanyBall.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CameraNoise.ts", "./BallHandler.ts", "./BallHandlerStatusEffects.ts", "./gameManager.ts", "./StatusEffectPlayerTargetBase.ts"], (function(t) {
    var e, a, i, n, r, l, o, s, c, u, f, p, h, y, g, m;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, i = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, l = t._decorator, o = t.CCFloat, s = t.PhysicMaterial, c = t.Prefab
        }, function(t) {
            u = t.CameraNoiseSetting, f = t.CameraNoise
        }, function(t) {
            p = t.cOnHandlerBallHit, h = t.cOnBallStop
        }, function(t) {
            y = t.BallHandlerStatusEffects
        }, function(t) {
            g = t.GameManager
        }, function(t) {
            m = t.StatusEffectPlayerTargetBase
        }],
        execute: function() {
            var S, d, B, M, b, H, E, P, v, C, F;
            r._RF.push({}, "f48d7iPLp9OWJguWOZwk9Bk", "StatusEffectZanyBall", void 0);
            var w = l.ccclass,
                N = l.property;
            t("StatusEffectZanyBall", (S = w("StatusEffectZanyBall"), d = N(o), B = N(s), M = N(c), b = N(u), S((P = e((E = function(t) {
                function e() {
                    for (var e, a = arguments.length, r = new Array(a), l = 0; l < a; l++) r[l] = arguments[l];
                    return e = t.call.apply(t, [this].concat(r)) || this, i(e, "forceMultiplier", P, n(e)), i(e, "physicsMaterial", v, n(e)), i(e, "alternateWallHitFX", C, n(e)), i(e, "cameraNoiseSetting", F, n(e)), e
                }
                a(e, t);
                var r = e.prototype;
                return r.activateStatusEffectOnPlayer = function(t) {
                    t.pushPhysicsMaterial(this.physicsMaterial, this.alternateWallHitFX), t.owner.local && (t.getComponent(y).hitForceMultiplier += this.forceMultiplier, t.aimWidget.SetZany(!0), t.node.on(p, this.onBallHit, this))
                }, r.onStatusEffectRemovedFromPlayer = function(t) {
                    t && (t.popPhysicsMaterial(this.physicsMaterial), t.owner.local && (t.getComponent(y).hitForceMultiplier -= this.forceMultiplier, t.aimWidget.SetZany(!1), t.node.off(p, this.onBallHit, this), t.node.off(h, this.onBallStop, this)))
                }, r.onBallHit = function(t) {
                    (t.node.on(h, this.onBallStop, this), this.cameraNoiseSetting) && g.Instance.currentMode.playerCamera.node.emit(f.cAddCameraNoise, this.cameraNoiseSetting)
                }, r.onBallStop = function(t) {
                    this.consumeCharge(t), t.node.off(h, this.onBallStop, this)
                }, r.canApplyToTarget = function(t) {
                    return !t.target.hasActiveStatusEffect(this, t)
                }, e
            }(m)).prototype, "forceMultiplier", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), v = e(E.prototype, "physicsMaterial", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = e(E.prototype, "alternateWallHitFX", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), F = e(E.prototype, "cameraNoiseSetting", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), H = E)) || H));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/Teleporter.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./BallHandler.ts", "./BallEffectZone.ts", "./CameraNoise.ts"], (function(e) {
    var t, o, n, i, r, l, a, s, c, u, d, p, f, w, g, y, b, h, m, v, P;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, n = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, l = e._decorator, a = e.Node, s = e.ParticleSystem, c = e.Prefab, u = e.CCFloat, d = e.Vec3, p = e.Mat4, f = e.toRadian, w = e.Quat, g = e.tween, y = e.instantiate
        }, function(e) {
            b = e.GameManager
        }, function(e) {
            h = e.DisableControlsReason
        }, function(e) {
            m = e.BallEffectZone
        }, function(e) {
            v = e.CameraNoiseSetting, P = e.CameraNoise
        }],
        execute: function() {
            var T, C, k, S, O, I, z, N, M, R, x, V, L, E, G, W, _, A, B, Q, D;
            r._RF.push({}, "661b3G4LiBO5IGWdnXuOEqr", "Teleporter", void 0);
            var F = l.ccclass,
                K = l.property;
            e("Teleporter", (T = F("Teleporter"), C = K(a), k = K(s), S = K(c), O = K(c), I = K(v), z = K(v), N = K(a), M = K(s), R = K(u), T((L = t((V = function(e) {
                function t() {
                    for (var t, o = arguments.length, r = new Array(o), l = 0; l < o; l++) r[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "linked", L, i(t)), n(t, "linkedParticle", E, i(t)), n(t, "fxTeleportOut", G, i(t)), n(t, "fxTeleportIn", W, i(t)), n(t, "onTeleportInNoiseSetting", _, i(t)), n(t, "onTeleportOutNoiseSetting", A, i(t)), n(t, "hole", B, i(t)), n(t, "particleSystem", Q, i(t)), n(t, "cooldown", D, i(t)), t._teleporting = !1, t
                }
                o(t, e);
                var r = t.prototype;
                return r.onActivateEffect = function(e, t) {
                    if (!e.animating) {
                        var o = d.subtract(new d, t.otherCollider.node.worldPosition, t.selfCollider.node.worldPosition);
                        o.normalize();
                        var n = d.cross(new d, d.UP, o),
                            i = d.dot(n, d.RIGHT);
                        i < 0 ? this.teleport(e, !1) : i >= 0 && this.teleport(e, !0)
                    }
                }, r.teleport = function(e, t) {
                    var o = this;
                    if (this.linked && !e.teleporterCooldown) {
                        this.startCooldown(e);
                        var n = this.linked.parent.getWorldRT(new p);
                        t || n.rotate(f(180), d.UP);
                        var i = new w,
                            r = new d;
                        p.toRTS(n, i, r, null);
                        var l = d.transformQuat(new d, d.FORWARD, i),
                            a = r.y - this.node.parent.worldPosition.y,
                            s = new d;
                        e.rigidbody.getLinearVelocity(s), r.y = e.node.worldPosition.y + a;
                        var c = d.subtract(new d, e.node.worldPosition, this.node.worldPosition);
                        c.y = .5;
                        var u = w.rotationTo(new w, this.node.parent.forward, this.linked.parent.forward);
                        c = d.transformQuat(c, c, u), r.add(c);
                        var y = r.clone();
                        e.rigidbody.getLinearVelocity(r);
                        var h = r.length();
                        l = d.transformQuat(new d, r.normalize(), u);
                        var m = d.multiplyScalar(new d, l, h);
                        e.rigidbody.clearVelocity(), e.rigidbody.clearForces(), g(e.node).call((function() {
                            e.rigidbody.isKinematic = !0, null != o.fxTeleportIn && o.instantiateEffect(e, o.fxTeleportOut)
                        })).delay(.125).call((function() {
                            (e.ballVisual.active = !1, e.seeThroughVisual.active = !1, e.shadowQuad.active = !1, e.owner.local) && b.Instance.currentMode.playerCamera.node.emit(P.cAddCameraNoise, o.onTeleportOutNoiseSetting)
                        })).to(.125, {
                            position: y
                        }).set({
                            position: y
                        }).call((function() {
                            if (e.owner.local) {
                                var t = o.getLocalGolfPlayer();
                                t && t.BallTeleported()
                            }
                            null != o.fxTeleportIn && o.instantiateEffect(e, o.fxTeleportIn)
                        })).delay(.25).call((function() {
                            (e.ballVisual.active = !0, e.seeThroughVisual.active = !0, e.shadowQuad.active = !0, e.owner.local) && b.Instance.currentMode.playerCamera.node.emit(P.cAddCameraNoise, o.onTeleportInNoiseSetting);
                            o._teleporting = !1, e.rigidbody.isKinematic = !1, null == e || e.enableControls(), e.rigidbody.setLinearVelocity(m), (m = d.multiplyScalar(new d, l, 1.5)).y = 0, y.add(m), e.node.setWorldPosition(y), e.node.setWorldRotation(i)
                        })).start()
                    }
                }, r.old_teleport = function(e) {
                    var t = this;
                    if (this.linked && !e.teleporterCooldown) {
                        this.startCooldown(e);
                        var o = this.linked.worldPosition.clone().add(new d(0, .5, 0));
                        e.disableControls(h.PowerupActive), e.rigidbody.isKinematic = !0;
                        var n = e.node.getScale();
                        null != this.hole && g(this.hole).to(.3, {
                            scale: new d(.5, .5, .5)
                        }, {
                            progress: function(e, o, n, i) {
                                var r = e + (o - e) * i;
                                return null != t.particleSystem && (t.particleSystem.shapeModule.radius = r), r
                            },
                            easing: "backOut"
                        }).delay(.5).to(.3, {
                            scale: new d(.1, .1, .1)
                        }, {
                            progress: function(e, o, n, i) {
                                var r = e + (o - e) * i;
                                return null != t.particleSystem && (t.particleSystem.shapeModule.radius = r), r
                            },
                            easing: "backOut"
                        }).start();
                        var i = new d(0, 0, 0);
                        d.lerp(i, e.node.worldPosition, this.node.worldPosition.clone().add(new d(0, .5, 0)), .75), g(e.node).to(.15, {
                            worldPosition: i
                        }, {
                            easing: "linear"
                        }).to(.25, {
                            worldPosition: this.node.worldPosition.clone().add(new d(0, -1.2, 0))
                        }, {
                            easing: "quadOut"
                        }).set({
                            position: o.clone().add(new d(0, -1.1, 0)),
                            scale: n
                        }).delay(.5).to(.4, {
                            position: o.clone().add(new d(0, 4, 0))
                        }, {
                            easing: "quadOut"
                        }).to(.7, {
                            scale: n,
                            position: o
                        }, {
                            easing: "bounceOut"
                        }).call((function() {
                            e.rigidbody.isKinematic = !1, e.enableControls()
                        })).start(), null != this.linked && g(this.linked).delay(.7).to(.3, {
                            scale: new d(.5, .5, .5)
                        }, {
                            progress: function(e, o, n, i) {
                                var r = e + (o - e) * i;
                                return null != t.linkedParticle && (t.linkedParticle.shapeModule.radius = r), r
                            },
                            easing: "backOut"
                        }).delay(.3).to(.2, {
                            scale: new d(.1, .1, .1)
                        }, {
                            progress: function(e, o, n, i) {
                                var r = e + (o - e) * i;
                                return null != t.linkedParticle && (t.linkedParticle.shapeModule.radius = r), r
                            },
                            easing: "backOut"
                        }).start()
                    }
                }, r.startCooldown = function(e) {
                    e.teleporterCooldown = !0, this.scheduleOnce((function() {
                        return e.teleporterCooldown = !1
                    }), this.cooldown)
                }, r.instantiateEffect = function(e, t) {
                    var o = y(t);
                    return e.node.scene.addChild(o), o.setWorldPosition(e.node.getWorldPosition()), o
                }, r.getLocalGolfPlayer = function() {
                    return b.Instance.currentMode.localGolfPlayer
                }, t
            }(m)).prototype, "linked", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = t(V.prototype, "linkedParticle", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = t(V.prototype, "fxTeleportOut", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), W = t(V.prototype, "fxTeleportIn", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), _ = t(V.prototype, "onTeleportInNoiseSetting", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), A = t(V.prototype, "onTeleportOutNoiseSetting", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), B = t(V.prototype, "hole", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Q = t(V.prototype, "particleSystem", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), D = t(V.prototype, "cooldown", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .5
                }
            }), x = V)) || x));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/TeleportZoneWidget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, r, o, n, i;
    return {
        setters: [function(e) {
            t = e.inheritsLoose
        }, function(e) {
            r = e.cclegacy, o = e._decorator, n = e.MeshRenderer, i = e.Component
        }],
        execute: function() {
            var a;
            r._RF.push({}, "3c6d1+VPPhDebqFxHdHl93v", "TeleportZoneWidget", void 0);
            var s = o.ccclass;
            o.property, e("TeleportZoneWidget", s("TeleportZoneWidget")(a = function(e) {
                function r() {
                    for (var t, r = arguments.length, o = new Array(r), n = 0; n < r; n++) o[n] = arguments[n];
                    return (t = e.call.apply(e, [this].concat(o)) || this)._renderer = void 0, t._timer = 0, t._alphaVariation = 15, t._alphaStart = 75, t
                }
                t(r, e);
                var o = r.prototype;
                return o.start = function() {
                    this._renderer = this.getComponent(n)
                }, o.update = function(e) {
                    var t = this._renderer.getMaterial(0),
                        r = (.5 * Math.sin(this._timer) + .5) * this._alphaVariation + this._alphaStart,
                        o = t.getProperty("mainColor");
                    o.a = r, t.setProperty("mainColor", o), this._timer += 10 * e
                }, r
            }(i)) || a);
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ThemeSwatch.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var r, t, i, o, a, n, c, l, s;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, t = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, n = e._decorator, c = e.Material, l = e.Color, s = e.Component
        }],
        execute: function() {
            var u, p, h, f, m, y, b;
            a._RF.push({}, "d4fbeS9b4pM7r6cM6qfYMlv", "ThemeSwatch", void 0);
            var v = n.ccclass,
                g = n.property;
            e("ThemeSwatch", (u = v("ThemeSwatch"), p = g([c]), h = g([l]), u((y = r((m = function(e) {
                function r() {
                    for (var r, t = arguments.length, a = new Array(t), n = 0; n < t; n++) a[n] = arguments[n];
                    return r = e.call.apply(e, [this].concat(a)) || this, i(r, "materials", y, o(r)), i(r, "colors", b, o(r)), r
                }
                return t(r, e), r.prototype.start = function() {
                    for (var e = 0; e < this.materials.length; e++) this.materials[e].setProperty("mainColor", this.colors[e])
                }, r
            }(s)).prototype, "materials", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), b = r(m.prototype, "colors", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), f = m)) || f));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ToggleRotateTween.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, i, n, o, r, a, u, l, s, f, c;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, a = t._decorator, u = t.Node, l = t.Vec3, s = t.Quat, f = t.tween, c = t.Component
        }],
        execute: function() {
            var h, g, p, b, m, y, w, R, T, O, z, _;
            r._RF.push({}, "fbf92LxXQJFQoDyQQZ46T4l", "ToggleRotateTween", void 0);
            var v = a.ccclass,
                d = a.property;
            t("ToggleRotateTween", (h = v("ToggleRotateTween"), g = d(u), p = d(l), b = d(l), h((w = e((y = function(t) {
                function e() {
                    for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "target", w, o(e)), n(e, "startOn", R, o(e)), n(e, "onRotation", T, o(e)), n(e, "onTime", O, o(e)), n(e, "offRotation", z, o(e)), n(e, "offTime", _, o(e)), e._isOn = !1, e
                }
                i(e, t);
                var r = e.prototype;
                return r.onLoad = function() {
                    this._isOn = this.startOn
                }, r.toggle = function() {
                    this.manualSet(!this._isOn)
                }, r.manualSet = function(t) {
                    if (t != this._isOn)
                        if (null == this.target && (this.target = this.node), this._isOn = t, this._isOn) {
                            var e = new s;
                            s.fromEuler(e, this.onRotation.x, this.onRotation.y, this.onRotation.z), f(this.target).to(this.onTime, {
                                rotation: e
                            }, {
                                easing: "quintOut"
                            }).start()
                        } else {
                            var i = new s;
                            s.fromEuler(i, this.offRotation.x, this.offRotation.y, this.offRotation.z), f(this.target).to(this.offTime, {
                                rotation: i
                            }, {
                                easing: "quintOut"
                            }).start()
                        }
                }, r.off = function() {
                    this.manualSet(!1)
                }, r.on = function() {
                    this.manualSet(!0)
                }, e
            }(c)).prototype, "target", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), R = e(y.prototype, "startOn", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), T = e(y.prototype, "onRotation", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l(0, 0, 0)
                }
            }), O = e(y.prototype, "onTime", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), z = e(y.prototype, "offRotation", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l(0, 0, 0)
                }
            }), _ = e(y.prototype, "offTime", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), m = y)) || m));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/ToggleTween.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var i, e, n, o, r, a, l, s, u, c;
    return {
        setters: [function(t) {
            i = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, a = t._decorator, l = t.Node, s = t.tween, u = t.Vec3, c = t.Component
        }],
        execute: function() {
            var p, f, g, h, b, m, w, y, d, T, O, z, _, P;
            r._RF.push({}, "f366dK1lQFOCJMzk846stHP", "ToggleTween", void 0);
            var v = a.ccclass,
                S = a.property;
            t("ToggleTween", (p = v("ToggleTween"), f = S(l), g = S(l), h = S(l), b = S(l), p((y = i((w = function(t) {
                function i() {
                    for (var i, e = arguments.length, r = new Array(e), a = 0; a < e; a++) r[a] = arguments[a];
                    return i = t.call.apply(t, [this].concat(r)) || this, n(i, "target", y, o(i)), n(i, "startOn", d, o(i)), n(i, "downPosition", T, o(i)), n(i, "onTime", O, o(i)), n(i, "upPosition", z, o(i)), n(i, "offTime", _, o(i)), n(i, "contentHolder", P, o(i)), i.childCount = void 0, i._isOn = !1, i
                }
                e(i, t);
                var r = i.prototype;
                return r.onLoad = function() {
                    this._isOn = this.startOn
                }, r.toggle = function() {
                    this.manualSet(!this._isOn)
                }, r.manualSet = function(t) {
                    t != this._isOn && (null == this.target && (this.target = this.node), this._isOn = t, this._isOn ? s(this.target).to(this.onTime, {
                        position: new u(this.target.position.x, this.upPosition.position.y, 0)
                    }, {
                        easing: "quintOut"
                    }).start() : s(this.target).to(this.offTime, {
                        position: new u(this.target.position.x, this.downPosition.position.y, 0)
                    }, {
                        easing: "quintOut"
                    }).start())
                }, r.off = function() {
                    this.manualSet(!1)
                }, r.on = function() {
                    this.manualSet(!0)
                }, i
            }(c)).prototype, "target", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), d = i(w.prototype, "startOn", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), T = i(w.prototype, "downPosition", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), O = i(w.prototype, "onTime", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), z = i(w.prototype, "upPosition", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), _ = i(w.prototype, "offTime", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1
                }
            }), P = i(w.prototype, "contentHolder", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), m = w)) || m));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/TournamentScoreDisplay.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./TournamentScoreEntry.ts", "./gameManager.ts", "./GolfMode.ts", "./PlayerNameplate.ts", "./audioController.ts", "./Effect.ts"], (function(e) {
    var t, n, r, o, a, i, c, l, s, u, d, f, p, h, m, y, v, b, g, S, P, E;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, i = e._decorator, c = e.Node, l = e.Prefab, s = e.Label, u = e.Vec3, d = e.tween, f = e.instantiate, p = e.Component
        }, function(e) {
            h = e.TournamentScoreEntry
        }, function(e) {
            m = e.GameManager
        }, function(e) {
            y = e.cGameScoreUpdate, v = e.cGameStateUpdate, b = e.GameState
        }, function(e) {
            g = e.PlayerNameplate
        }, function(e) {
            S = e.AudioController, P = e.AudioEventType
        }, function(e) {
            E = e.Effect
        }],
        execute: function() {
            var M, I, T, C, w, U, _, G, O, z, L, N, D, F, A, k, B;
            a._RF.push({}, "84c32EtpC9PFbUzdpRcp7M1", "TournamentScoreDisplay", void 0);
            var H = i.ccclass,
                R = i.property;
            e("SortablePlayerEntry", (function() {
                this.score = void 0, this.username = void 0, this.entry = void 0
            })), e("TournamentScoreDisplay", (M = H("TournamentScoreDisplay"), I = R(c), T = R(l), C = R(s), w = R(c), U = R(c), _ = R([s]), G = R(E), M((L = t((z = function(e) {
                function t() {
                    for (var t, n = arguments.length, a = new Array(n), i = 0; i < n; i++) a[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(a)) || this, r(t, "content", L, o(t)), r(t, "tournamentScorePrefab", N, o(t)), r(t, "continueLabel", D, o(t)), r(t, "closeButton", F, o(t)), r(t, "scoreModal", A, o(t)), r(t, "parLabels", k, o(t)), r(t, "victoryFX", B, o(t)), t._scoreEntryHeight = -1, t._gameOverMode = !1, t
                }
                n(t, e);
                var a = t.prototype;
                return a.start = function() {}, a.onEnable = function() {
                    !0 === this.scoreModal.active && (this.scoreModal.active = !1)
                }, a.close = function() {
                    var e = this;
                    this.node.setScale(u.ONE.clone()), d(this.node).to(.1, {
                        scale: new u(1.1, 1.1, 1.1)
                    }).to(.1, {
                        scale: new u(1, 1, 1)
                    }).call((function() {
                        var t, n;
                        e.node.active = !1;
                        var r = m.Instance.currentMode;
                        null == r || null == (t = r.node) || t.off(y, e.onScoresUpdate.bind(e)), null == r || null == (n = r.node) || n.off(v, e.onGameStateUpdate.bind(e))
                    })).start()
                }, a.onGameStateUpdate = function(e) {
                    e != b.Play && this.close()
                }, a.displayPlayers = function() {
                    if (this.node.active) this.close();
                    else {
                        var e = m.Instance.currentMode;
                        this._gameOverMode = e.gameState == b.TournamentOver, this.continueLabel.string = this._gameOverMode ? "CONTINUE" : "CLOSE";
                        var t = !this.node.active;
                        if (this.node.active = !0, e.node.on(y, this.onScoresUpdate.bind(this)), e.node.on(v, this.onGameStateUpdate.bind(this)), t && (this.node.setScale(new u(.9, .9, .9)), d(this.node).to(.1, {
                                scale: new u(1.05, 1.05, 1.05)
                            }).to(.1, {
                                scale: new u(1, 1, 1)
                            }).start()), e.UpdateScoreTotals(), e.IsLocalPlayersGameOver()) {
                            for (var n = [], r = Number.POSITIVE_INFINITY, o = e.GetTournamentScoreTotals(), a = 0; a < this.content.children.length; ++a) {
                                var i = this.content.children[a].getComponent(g);
                                if (i.player) {
                                    var c = o.get(i.playerId);
                                    if (!(c <= r)) break;
                                    r = c, n.push(i.player)
                                }
                            }
                            S.Instance.triggerAudio(P.evtGameOver)
                        }
                    }
                }, a.onScoresUpdate = function(e, t, n) {
                    var r = this;
                    m.Instance.currentMode;
                    this._gameOverMode && n.forEach((function(e) {}));
                    var o = [];
                    e.forEach((function(e) {
                        if (e) {
                            var t = r.content.children.find((function(t) {
                                var n = t.getComponent(h);
                                return n && n.playerId == e.netPlayer.uid
                            }));
                            if (t || (t = f(r.tournamentScorePrefab), r.content.addChild(t)), n.has(e.netPlayer.uid) && n.get(e.netPlayer.uid), t) t.getComponent(h).setUser(e, e.netPlayer.state.tourney_score || [], !1), r._scoreEntryHeight = t._uiProps.uiTransformComp.height, o.push(t)
                        }
                    })), this.content.children.forEach((function(e) {
                        o.find((function(t) {
                            return t == e
                        })) || (e.removeFromParent(), e.destroy())
                    }));
                    for (var a = [], i = this.content.children.length - 1; i >= 0; i--) {
                        var c = this.content.children[i],
                            l = c.getComponent(g),
                            s = l.player;
                        s && s.getUser() && a.push({
                            score: n.get(l.playerId),
                            username: s.getUser().username,
                            entry: c
                        })
                    }
                    this.sortPlayerEntries(a)
                }, a.sortPlayerEntries = function(e) {
                    e.sort((function(e, t) {
                        var n = e.score - t.score;
                        return 0 == n ? e.username.localeCompare(t.username) : n
                    }));
                    for (var t = 0; t < e.length; ++t) e[t].entry.setSiblingIndex(t)
                }, a.onClickContinue = function() {
                    this._gameOverMode && setTimeout((function() {
                        m.Instance.currentMode.ContinueGame()
                    }), 500), this.close()
                }, t
            }(p)).prototype, "content", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), N = t(z.prototype, "tournamentScorePrefab", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = t(z.prototype, "continueLabel", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), F = t(z.prototype, "closeButton", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), A = t(z.prototype, "scoreModal", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = t(z.prototype, "parLabels", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), B = t(z.prototype, "victoryFX", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), O = z)) || O));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/TournamentScoreEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlayerNameplate.ts", "./gameManager.ts"], (function(e) {
    var r, t, o, n, i, a, l, c, u, s, p, f, y;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, t = e.inheritsLoose, o = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, l = e.Label, c = e.Node, u = e.Sprite, s = e.Component, p = e.Color
        }, function(e) {
            f = e.PlayerNameplate
        }, function(e) {
            y = e.GameManager
        }],
        execute: function() {
            var b, d, g, m, h, v, C, P, w, S, I, z, T, B;
            i._RF.push({}, "f5c58vrTKBKlY1DaYJGp+hh", "TournamentScoreEntry", void 0);
            var E = a.ccclass,
                D = a.property;
            e("TournamentScoreEntry", (b = E("TournamentScoreEntry"), d = D([l]), g = D(l), m = D(c), h = D(u), b((P = r((C = function(e) {
                function r() {
                    for (var r, t = arguments.length, i = new Array(t), a = 0; a < t; a++) i[a] = arguments[a];
                    return r = e.call.apply(e, [this].concat(i)) || this, o(r, "Scores", P, n(r)), o(r, "Total", w, n(r)), o(r, "WinnerIndicator", S, n(r)), o(r, "BallColorIndicator", I, n(r)), o(r, "defaultScoreColor", z, n(r)), o(r, "aboveParColor", T, n(r)), o(r, "belowParColor", B, n(r)), r.playerId = void 0, r
                }
                return t(r, e), r.prototype.setUser = function(e, r, t) {
                    var o = this;
                    if (e.netPlayer.getUser()) {
                        this.node.getComponent(f).setUser(e.netPlayer);
                        var n = r.reduce((function(e, r) {
                            return e + r
                        }), 0);
                        this.playerId = e.netPlayer.uid;
                        var i = y.Instance.currentMode;
                        this.Scores.forEach((function(e, t) {
                            e.color = o.defaultScoreColor, t < r.length ? e.string = "" + r[t] : e.string = "-"
                        })), this.Total.string = "" + n, this.BallColorIndicator.color = i.getPlayerUIColor(e.netPlayer), this.WinnerIndicator.active = t
                    } else console.error("missing user for player " + e.netPlayer.uid)
                }, r
            }(s)).prototype, "Scores", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), w = r(C.prototype, "Total", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = r(C.prototype, "WinnerIndicator", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = r(C.prototype, "BallColorIndicator", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), z = r(C.prototype, "defaultScoreColor", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p
                }
            }), T = r(C.prototype, "aboveParColor", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p
                }
            }), B = r(C.prototype, "belowParColor", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new p
                }
            }), v = C)) || v));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/TournamentVictoryScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./gameManager.ts", "./GameStateTournamentOver.ts", "./PlayerNameplate.ts", "./TournamentScoreDisplay.ts", "./VictoryScreen.ts"], (function(e) {
    var t, n, r, o, i, a, s, l, c, u, h, f, d, p, g, m, v, y, b, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, s = e.Color, l = e.CCInteger, c = e.Node, u = e.Vec3, h = e.tween, f = e.Component
        }, function(e) {
            d = e.AudioController, p = e.AudioEventType
        }, function(e) {
            g = e.GameManager
        }, function(e) {
            m = e.GameStateTournamentOver, v = e.cTournamentOver
        }, function(e) {
            y = e.PlayerNameplate
        }, function(e) {
            b = e.TournamentScoreDisplay
        }, function(e) {
            w = e.VictoryScreen
        }],
        execute: function() {
            var S, P, C, T, N, O, z, x, G, I, M, F, Y, A, D, E, V, L, B, k, U, _, q, J, R;
            i._RF.push({}, "cd25e6j7PZK8ZdTxo0euiC2", "TournamentVictoryScreen", void 0);
            var j = a.ccclass,
                Z = a.property;
            e("TournamentVictoryScreen", (S = j("TournamentVictoryScreen"), P = Z(s), C = Z(l), T = Z(s), N = Z(l), O = Z(s), z = Z(l), x = Z(b), G = Z(m), I = Z(c), M = Z([y]), F = Z([c]), S((D = t((A = function(e) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(i)) || this, r(t, "FirstPlaceColor", D, o(t)), r(t, "FirstPlaceYOffset", E, o(t)), r(t, "SecondPlaceColor", V, o(t)), r(t, "SecondPlaceYOffset", L, o(t)), r(t, "ThirdPlaceColor", B, o(t)), r(t, "ThirdPlaceYOffset", k, o(t)), r(t, "ScoreBoard", U, o(t)), r(t, "gameState", _, o(t)), r(t, "shroud", q, o(t)), r(t, "winnerNameplates", J, o(t)), r(t, "ScoreCards", R, o(t)), t
                }
                n(t, e);
                var i = t.prototype;
                return i.onLoad = function() {
                    this.gameState.node.on(v, this.onTournamentOver.bind(this))
                }, i.onTournamentOver = function() {
                    this.node.active = !0
                }, i.onEnable = function() {
                    var e = this,
                        t = g.Instance.currentMode;
                    t.UpdateScoreTotals();
                    var n = t.GetTournamentScoreTotals(),
                        r = [];
                    if (n.forEach((function(e, t) {
                            r.push({
                                id: t,
                                score: e
                            })
                        })), r.sort((function(e, t) {
                            return e.score - t.score
                        })), t.GetNetGame() && t.GetNetGame().players) {
                        if (0 == r.length) return this.node.active = !1, void g.Instance.currentMode.ContinueGame();
                        var o = [],
                            i = [],
                            a = [],
                            s = r[0].score;
                        o.push(r[0]);
                        for (var l = -1, c = 1, f = 1; f < r.length; f++) {
                            if (r[f].score != s) {
                                l = r[f].score;
                                break
                            }
                            c++, o.push(r[f])
                        }
                        if (o.length > 1) 2 == o.length && r.length >= 3 && a.push(r[2]);
                        else {
                            console.log("index " + c);
                            for (var m = c; m < r.length; m++) {
                                if (r[m].score != l) {
                                    l = r[m].score;
                                    break
                                }
                                c++, i.push(r[m])
                            }
                            if (o.length + i.length < 3) {
                                console.log("index " + c);
                                for (var v = c; v < r.length && r[v].score == l; v++) a.push(r[v])
                            }
                        }
                        console.log("First " + JSON.stringify(o) + " second " + JSON.stringify(i) + " third " + JSON.stringify(a));
                        var y = t.GetNetGame().players,
                            b = 0,
                            S = Math.min(o.length, this.winnerNameplates.length);
                        c = 0;
                        for (var P = 0; P < S; P++) {
                            var C = this.winnerNameplates[b++];
                            C.node.active = !0;
                            var T = new u(C.node.position.x, this.FirstPlaceYOffset, C.node.position.z);
                            C.node.setPosition(T);
                            var N = y.get(o[c].id);
                            if (N) {
                                c++, C.setUser(N);
                                var O = C.getComponent(w);
                                O && (O.setText("1ST PLACE"), O.setIconColor(this.FirstPlaceColor))
                            }
                        }
                        S = Math.min(i.length, Math.max(b, this.winnerNameplates.length)), c = 0;
                        for (var z = 0; z < S; z++) {
                            var x = this.winnerNameplates[b++];
                            x.node.active = !0;
                            var G = new u(x.node.position.x, this.SecondPlaceYOffset, x.node.position.z);
                            x.node.setPosition(G);
                            var I = y.get(i[c].id);
                            if (I) {
                                c++, x.setUser(I);
                                var M = x.getComponent(w);
                                M && (M.setText("2ND PLACE"), M.setIconColor(this.SecondPlaceColor))
                            }
                        }
                        S = Math.min(a.length, Math.max(b, this.winnerNameplates.length)), c = 0;
                        for (var F = 0; F < S; F++) {
                            var Y = this.winnerNameplates[b++];
                            Y.node.active = !0;
                            var A = new u(Y.node.position.x, this.SecondPlaceYOffset, Y.node.position.z);
                            Y.node.setPosition(A);
                            var D = y.get(a[c].id);
                            if (D) {
                                c++, Y.setUser(D);
                                var E = Y.getComponent(w);
                                E && (E.setText("3RD PLACE"), E.setIconColor(this.ThirdPlaceColor))
                            }
                        }
                        for (var V = S = o.length + i.length + a.length; V < this.winnerNameplates.length; V++) this.winnerNameplates[V].node.active = !1;
                        d.Instance.triggerAudio(p.evtGameOver), this.ScoreBoard.close(), this.shroud.scale = new u(0, this.shroud.scale.y, 0), h(this.shroud).to(.5, {
                            scale: new u(1, this.shroud.scale.y, 0)
                        }, {
                            easing: "backOut"
                        }).start(), h(this.shroud).delay(4.9).to(.3, {
                            scale: new u(0, this.shroud.scale.y, 0)
                        }, {
                            easing: "quartIn"
                        }).start(), h(this.node).set({
                            scale: new u(1, 1, 1)
                        }).delay(5).to(.2, {
                            scale: new u(1.1, 1.1, 1.1)
                        }, {
                            easing: "quartOut"
                        }).to(.2, {
                            scale: new u(0, 0, 0)
                        }, {
                            easing: "quartIn"
                        }).call((function() {
                            e.node.active = !1, e.ScoreBoard.displayPlayers()
                        })).start(), this.ScoreCards.forEach((function(e) {
                            e.active = !1
                        }))
                    }
                }, t
            }(f)).prototype, "FirstPlaceColor", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s
                }
            }), E = t(A.prototype, "FirstPlaceYOffset", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 78
                }
            }), V = t(A.prototype, "SecondPlaceColor", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s
                }
            }), L = t(A.prototype, "SecondPlaceYOffset", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 32
                }
            }), B = t(A.prototype, "ThirdPlaceColor", [O], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s
                }
            }), k = t(A.prototype, "ThirdPlaceYOffset", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 25
                }
            }), U = t(A.prototype, "ScoreBoard", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = t(A.prototype, "gameState", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), q = t(A.prototype, "shroud", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), J = t(A.prototype, "winnerNameplates", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), R = t(A.prototype, "ScoreCards", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), Y = A)) || Y));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionChangeCameraView.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CameraBrain.ts", "./LevelCameraManager.ts", "./gameManager.ts", "./GolfMode.ts", "./UIActionComponent.ts"], (function(e) {
    var a, n, t, r, i, o, c, l, s, u, m, C, v, d;
    return {
        setters: [function(e) {
            a = e.applyDecoratedDescriptor, n = e.inheritsLoose, t = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, o = e._decorator, c = e.LabelComponent
        }, function(e) {
            l = e.cOnCameraTransition
        }, function(e) {
            s = e.LevelCameraManager, u = e.ActiveCamera, m = e.cOverrideActiveCamera
        }, function(e) {
            C = e.GameManager
        }, function(e) {
            v = e.GameState
        }, function(e) {
            d = e.UIActionComponent
        }],
        execute: function() {
            var p, f, g, h, y;
            i._RF.push({}, "3b649XvQQxCWJDY6eviN2UD", "UIActionChangeCameraView", void 0);
            var I = o.ccclass,
                L = o.property;
            e("UIActionChangeCameraView", (p = I("UIActionChangeCameraView"), f = L(c), p((y = a((h = function(e) {
                function a() {
                    for (var a, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                    return a = e.call.apply(e, [this].concat(i)) || this, t(a, "cameraLabel", y, r(a)), a
                }
                n(a, e);
                var i = a.prototype;
                return i.onLoad = function() {
                    e.prototype.onLoad.call(this), C.Instance.cameraBrain.node.on(l, this.onCameraTransition, this), this.node.active = !1
                }, i.onCameraTransition = function(e) {
                    this.cameraLabel && (this.cameraLabel.string = (e + 1).toString())
                }, i.onGameStateUpdateInternal = function(e) {
                    this.node.active = e == v.Play
                }, i.onButtonClickedInternal = function() {
                    var e, a = null == (e = C.Instance.currentMode.currentLevel) ? void 0 : e.node.getComponent(s);
                    if (a) {
                        var n = a.getActiveCamera();
                        if (n == u.Player && C.Instance.currentMode.SelectedPlayerId(C.Instance.currentMode.GetSelectedPlayerId()), (n += 1) > u.Level && (n = u.Player), n != u.Player) {
                            var t = a.getHoleCamera();
                            null != t && t.isValid && (t.reorientFromPrevCamera = !0), a.levelCamera && (a.levelCamera.reorientFromPrevCamera = !0)
                        }
                        C.Instance.currentMode.node.emit(m, n)
                    }
                }, a
            }(d)).prototype, "cameraLabel", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), g = h)) || g));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionComponent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts"], (function(t) {
    var n, e, o, a, i, r, c, d, l, s, u, p, h;
    return {
        setters: [function(t) {
            n = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, a = t.assertThisInitialized
        }, function(t) {
            i = t.cclegacy, r = t._decorator, c = t.Node, d = t.Button, l = t.Component
        }, function(t) {
            s = t.GameManager
        }, function(t) {
            u = t.cLocalPlayerStateUpdate, p = t.cPlayersUpdate, h = t.cGameStateUpdate
        }],
        execute: function() {
            var f, y, U, I, m;
            i._RF.push({}, "7c62bSHLwZOk4bLuVKDc3sp", "UIActionComponent", void 0);
            var v = r.ccclass,
                C = r.property;
            t("UIActionComponent", (f = v("UIActionComponent"), y = C(c), f((m = n((I = function(t) {
                function n() {
                    for (var n, e = arguments.length, i = new Array(e), r = 0; r < e; r++) i[r] = arguments[r];
                    return n = t.call.apply(t, [this].concat(i)) || this, o(n, "overrideButtonNode", m, a(n)), n
                }
                e(n, t);
                var i = n.prototype;
                return i.onLoad = function() {
                    this.overrideButtonNode ? this.overrideButtonNode.on(d.EventType.CLICK, this.onButtonClicked.bind(this)) : this.node.on(d.EventType.CLICK, this.onButtonClicked.bind(this));
                    var t = s.Instance;
                    t.currentMode.node.on(u, this.onPlayerStateUpdate.bind(this)), t.currentMode.node.on(p, this.onPlayersUpdated.bind(this)), t.currentMode.node.on(h, this.onGameStateUpdate.bind(this))
                }, i.onButtonClicked = function() {
                    this.onButtonClickedInternal()
                }, i.onButtonClickedInternal = function() {}, i.onGameStateUpdate = function(t) {
                    this.onGameStateUpdateInternal(t)
                }, i.onGameStateUpdateInternal = function(t) {}, i.onPlayerStateUpdate = function(t, n) {
                    this.onPlayerStateUpdateInternal(t, n)
                }, i.onPlayerStateUpdateInternal = function(t, n) {}, i.onPlayersUpdated = function(t) {
                    this.onPlayersUpdatedInternal(t)
                }, i.onPlayersUpdatedInternal = function(t) {}, n
            }(l)).prototype, "overrideButtonNode", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), U = I)) || U));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionInvite.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./UIActionComponent.ts", "./GolfMode.ts", "./activity.ts"], (function(t) {
    var e, n, i, o, r, a, c, l, u, s;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, a = t._decorator, c = t.CCBoolean
        }, function(t) {
            l = t.UIActionComponent
        }, function(t) {
            u = t.GameState
        }, function(t) {
            s = t.default
        }],
        execute: function() {
            var p, f, v, d, y;
            r._RF.push({}, "c4f13iIwLVCOoZCMFGZ1K0N", "UIActionInvite", void 0);
            var I = a.ccclass,
                h = a.property;
            t("UIActionInvite", (p = I("UIActionInvite"), f = h(c), p((y = e((d = function(t) {
                function e() {
                    for (var e, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, i(e, "requirePlayMode", y, o(e)), e
                }
                n(e, t);
                var r = e.prototype;
                return r.onLoad = function() {
                    t.prototype.onLoad.call(this), this.node.active = !1
                }, r.onGameStateUpdateInternal = function(t) {
                    this.requirePlayMode ? this.node.active = s.canInvitePeople && t == u.Play : this.node.active = s.canInvitePeople
                }, e
            }(l)).prototype, "requirePlayMode", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return !0
                }
            }), v = d)) || v));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionOpenModalWindow.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ModalWindowManager.ts"], (function(n) {
    var o, e, i, t, a, r, l, c, d, s, p;
    return {
        setters: [function(n) {
            o = n.applyDecoratedDescriptor, e = n.inheritsLoose, i = n.initializerDefineProperty, t = n.assertThisInitialized
        }, function(n) {
            a = n.cclegacy, r = n._decorator, l = n.Prefab, c = n.Button, d = n.Component, s = n.Vec3
        }, function(n) {
            p = n.ModalWindowManager
        }],
        execute: function() {
            var u, w, f, h, y, M;
            a._RF.push({}, "7b803YUvn5EtZhHgAoN4OYy", "UIActionOpenModalWindow", void 0);
            var W = r.ccclass,
                b = r.property;
            n("UIActionOpenModalWindow", (u = W("UIActionOpenModalWindow"), w = b(l), u((y = o((h = function(n) {
                function o() {
                    for (var o, e = arguments.length, a = new Array(e), r = 0; r < e; r++) a[r] = arguments[r];
                    return o = n.call.apply(n, [this].concat(a)) || this, i(o, "modalWindow", y, t(o)), i(o, "scale", M, t(o)), o
                }
                e(o, n);
                var a = o.prototype;
                return a.onLoad = function() {
                    this.node.on(c.EventType.CLICK, this.openModalWindow.bind(this))
                }, a.openModalWindow = function() {
                    var n = this.node.getComponent(c);
                    n && n.enabled && p.showModalWindow(this.modalWindow, {
                        scale: this.scale
                    })
                }, o
            }(d)).prototype, "modalWindow", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), M = o(h.prototype, "scale", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return s.ONE.clone()
                }
            }), f = h)) || f));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionScreenshot.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./UIActionComponent.ts"], (function(t) {
    var n, e, o, c, r, i;
    return {
        setters: [function(t) {
            n = t.inheritsLoose
        }, function(t) {
            e = t.cclegacy, o = t._decorator, c = t.director, r = t.Director
        }, function(t) {
            i = t.UIActionComponent
        }],
        execute: function() {
            var s;
            e._RF.push({}, "74fcemvy2xIe7mwP7Nt7nbH", "UIActionScreenshot", void 0);
            var u = o.ccclass;
            o.property, t("UIActionScreenshot", u("UIActionScreenshot")(s = function(t) {
                function e() {
                    return t.apply(this, arguments) || this
                }
                return n(e, t), e.prototype.onButtonClickedInternal = function() {
                    c.once(r.EVENT_AFTER_DRAW, (function() {
                        document.getElementById("GameCanvas").toDataURL()
                    }))
                }, e
            }(i)) || s);
            e._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionShowInviteDialog.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./UIActionComponent.ts"], (function(n) {
    var t, o, e, i, c;
    return {
        setters: [function(n) {
            t = n.inheritsLoose
        }, function(n) {
            o = n.cclegacy, e = n._decorator
        }, function(n) {
            i = n.GameManager
        }, function(n) {
            c = n.UIActionComponent
        }],
        execute: function() {
            var r;
            o._RF.push({}, "f9a80ffOvlGkZ7Zz3Z5+XyO", "UIActionShowInviteDialog", void 0);
            var a = e.ccclass;
            e.property, n("UIActionShowInviteDialog", a("UIActionShowInviteDialog")(r = function(n) {
                function o() {
                    return n.apply(this, arguments) || this
                }
                return t(o, n), o.prototype.onButtonClickedInternal = function() {
                    i.Instance.currentMode.ShowInviteDialog()
                }, o
            }(c)) || r);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActionSpectateGame.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./UIActionComponent.ts"], (function(e) {
    var t, a, n, o, r, c, i, l, s, p, u;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, a = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, c = e._decorator, i = e.Node, l = e.Button
        }, function(e) {
            s = e.GameManager
        }, function(e) {
            p = e.GameState
        }, function(e) {
            u = e.UIActionComponent
        }],
        execute: function() {
            var d, f, h, m, y, I, P;
            r._RF.push({}, "9aed1F2Go1LB4K6XXyE3nhz", "UIActionSpectateGame", void 0);
            var v = c.ccclass,
                g = c.property;
            e("UIActionSpectateGame", (d = v("UIActionSpectateGame"), f = g(i), h = g(i), d((I = t((y = function(e) {
                function t() {
                    for (var t, a = arguments.length, r = new Array(a), c = 0; c < a; c++) r[c] = arguments[c];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "spectatePanels", I, o(t)), n(t, "headerBar", P, o(t)), t
                }
                a(t, e);
                var r = t.prototype;
                return r.onLoad = function() {
                    e.prototype.onLoad.call(this), null != this.spectatePanels && (this.spectatePanels.active = !1)
                }, r.onButtonClickedInternal = function() {
                    var e = this.node.getComponent(l);
                    e && e.enabled && s.Instance.currentMode.SpectateGame()
                }, r.onPlayerStateUpdateInternal = function(e, t) {
                    if (this.spectatePanels) {
                        var a = s.Instance.currentMode;
                        this.spectatePanels.active = a.IsLocalPlayerInGame() && a.gameState == p.Play
                    }
                }, r.onPlayersUpdatedInternal = function(e) {
                    var t = s.Instance.currentMode;
                    this.spectatePanels && (this.spectatePanels.active = t.IsLocalPlayerInGame() && t.gameState == p.Play)
                }, t
            }(u)).prototype, "spectatePanels", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = t(y.prototype, "headerBar", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), m = y)) || m));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActiveStatusEffect.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./gameManager.ts", "./PowerupManager.ts", "./PlayerNameplate.ts"], (function(t) {
    var e, i, o, n, a, s, r, c, u, l, h, f, p, d, g, _, E, T, v, y;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized, a = t.createClass
        }, function(t) {
            s = t.cclegacy, r = t._decorator, c = t.Sprite, u = t.Node, l = t.Label, h = t.Vec3, f = t.tween, p = t.Tween, d = t.Component
        }, function(t) {
            g = t.isMobile, _ = t.SMALL_SCALE
        }, function(t) {
            E = t.GameManager
        }, function(t) {
            T = t.cHidePowerupTooltip, v = t.cShowPowerupTooltip
        }, function(t) {
            y = t.PlayerNameplate
        }],
        execute: function() {
            var b, w, m, L, M, S, P, R, A, I, U, C, D;
            s._RF.push({}, "325366PURxBuqJnlW6ITGd3", "UIActiveStatusEffect", void 0);
            var k = r.ccclass,
                O = r.property;
            t("UIActiveStatusEffect", (b = k("UIActiveStatusEffect"), w = O(c), m = O(u), L = O(l), M = O(u), S = O(c), b((A = e((R = function(t) {
                function e() {
                    for (var e, i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                    return e = t.call.apply(t, [this].concat(a)) || this, o(e, "icon", A, n(e)), o(e, "durationIndicator", I, n(e)), o(e, "chargesLeftLabel", U, n(e)), o(e, "instigatorAvatarRoot", C, n(e)), o(e, "background", D, n(e)), e._statusEffect = void 0, e._powerupManager = void 0, e._layoutPos = void 0, e._interactable = !1, e._showingTooltip = !1, e._touchTime = -1, e
                }
                i(e, t);
                var s = e.prototype;
                return s.start = function() {
                    g() ? (this.node.on(u.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(u.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(u.EventType.TOUCH_CANCEL, this.onTouchEnd, this)) : (this.node.on(u.EventType.MOUSE_ENTER, this.onMouseEnter, this), this.node.on(u.EventType.MOUSE_LEAVE, this.onMouseLeave, this)), this._powerupManager = E.Instance.currentMode.powerupManager
                }, s.onTouchStart = function(t) {
                    this._touchTime = Date.now()
                }, s.onTouchEnd = function(t) {
                    this.hideTooltip(), this._touchTime = -1
                }, s.init = function(t) {
                    this.icon.spriteFrame = t.statusEffectRef.icon, this._statusEffect = t;
                    var e = t.instigator ? t.instigator.owner : null;
                    e && e.netPlayer && this.getComponent(y).setUser(e.netPlayer);
                    this.durationIndicator.active = !this._statusEffect.statusEffectRef.isShortDuration(), this.chargesLeftLabel.node.active = !1, this.instigatorAvatarRoot.active = e && e.netPlayer && !e.netPlayer.local, this.background.color = t.statusEffectRef.cardColor
                }, s.setLayoutPos = function(t) {
                    this.node.position = t, this._layoutPos = t
                }, s.onDestroy = function() {
                    this._showingTooltip && this._powerupManager.node.emit(T)
                }, s.update = function() {
                    if (this.durationIndicator.active) {
                        var t = this._statusEffect.statusEffectRef.durationInMS(),
                            e = E.Instance.getServerTime() - this._statusEffect.startTime;
                        this.durationIndicator.setScale(new h(1, 1 - e / t, 1))
                    } else this.chargesLeftLabel.node.active && (this.chargesLeftLabel.string = "" + this._statusEffect.chargesLeft);
                    g() && (this._touchTime > 0 && Date.now() - this._touchTime > 250 && !this._showingTooltip && this.showTooltip())
                }, s.showTooltip = function() {
                    if (this._interactable) {
                        this._showingTooltip = !0, f(this.node).to(.2, {
                            position: this._layoutPos.clone().add(new h(-15, 0, 0))
                        }, {
                            easing: "backOut"
                        }).start();
                        var t = new h(-550, 0, 0),
                            e = t.clone();
                        h.transformMat4(e, t, this.node.worldMatrix), this._powerupManager.node.emit(v, this._statusEffect.statusEffectRef.uiName, this._statusEffect.statusEffectRef.uiDescription, e)
                    }
                }, s.hideTooltip = function() {
                    this._interactable && (this._showingTooltip = !1, f(this.node).to(.2, {
                        position: this._layoutPos.clone()
                    }, {
                        easing: "backOut"
                    }).start(), this._powerupManager.node.emit(T))
                }, s.onStatusEffectRemoved = function() {
                    var t = this;
                    p.stopAllByTarget(this.node), f(this.node).delay(this._statusEffect.statusEffectRef.isShortDuration() ? .5 : 0).to(.3, {
                        scale: _
                    }, {
                        easing: "elasticOut"
                    }).call((function() {
                        t.node.destroy()
                    })).start()
                }, s.onMouseEnter = function(t) {
                    this.showTooltip()
                }, s.onMouseLeave = function(t) {
                    this.hideTooltip()
                }, a(e, [{
                    key: "statusEffect",
                    get: function() {
                        return this._statusEffect
                    }
                }, {
                    key: "interactable",
                    get: function() {
                        return this._interactable
                    },
                    set: function(t) {
                        this._interactable = t
                    }
                }]), e
            }(d)).prototype, "icon", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), I = e(R.prototype, "durationIndicator", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), U = e(R.prototype, "chargesLeftLabel", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = e(R.prototype, "instigatorAvatarRoot", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), D = e(R.prototype, "background", [S], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = R)) || P));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIActiveStatusEffectsPanel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./gameManager.ts", "./StatusEffectManager.ts", "./UIActiveStatusEffect.ts", "./PowerupCard.ts"], (function(t) {
    var e, a, i, n, s, o, c, f, r, u, l, d, v, h, p, E, S, g, y, P, m, w;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, a = t.inheritsLoose, i = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            s = t.cclegacy, o = t._decorator, c = t.Prefab, f = t.Node, r = t.CCFloat, u = t.Canvas, l = t.instantiate, d = t.AnimationComponent, v = t.tween, h = t.Vec3, p = t.Component
        }, function(t) {
            E = t.getComponentInParent, S = t.SMALL_SCALE
        }, function(t) {
            g = t.GameManager
        }, function(t) {
            y = t.cOnStatusEffectAddedToTarget, P = t.cOnStatusEffectRemovedFromTarget
        }, function(t) {
            m = t.UIActiveStatusEffect
        }, function(t) {
            w = t.PowerupCard
        }],
        execute: function() {
            var R, b, A, C, _, L, I, M, U;
            s._RF.push({}, "31390dgwu9J9ZUa4977A3JG", "UIActiveStatusEffectsPanel", void 0);
            var H = o.ccclass,
                z = o.property;
            t("UIActiveStatusEffectsPanel", (R = H("UIActiveStatusEffectsPanel"), b = z(c), A = z(f), C = z(r), R((I = e((L = function(t) {
                function e() {
                    for (var e, a = arguments.length, s = new Array(a), o = 0; o < a; o++) s[o] = arguments[o];
                    return e = t.call.apply(t, [this].concat(s)) || this, i(e, "activeStatusEffectPrefab", I, n(e)), i(e, "activeStatusEffectsRoot", M, n(e)), i(e, "itemHeight", U, n(e)), e._activeStatusEffects = [], e._padding = 5, e
                }
                a(e, t);
                var s = e.prototype;
                return s.start = function() {
                    var t = g.Instance.currentMode;
                    t.statusEffectManager.node.on(y, this.onStatusEffectAdded, this), t.statusEffectManager.node.on(P, this.onStatusEffectRemoved, this)
                }, s.onStatusEffectAdded = function(t, e, a) {
                    var i, n = this,
                        s = null == (i = t.target) ? void 0 : i.owner;
                    if (s && s.netPlayer && s.netPlayer.local) {
                        var o = E(this.node, u),
                            c = l(this.activeStatusEffectPrefab),
                            f = c.getComponent(m);
                        f.init(e), this._activeStatusEffects.push(f), f.interactable = !1;
                        var r = c.getComponent(d);
                        if (a) this.activeStatusEffectsRoot.addChild(c), f.interactable = !0, c.setScale(new h(.35, .35, .35)), r.play(r.clips[1].name), this.updateLayout();
                        else {
                            var p, g = null == (p = e.instigator) ? void 0 : p.owner;
                            o.node.addChild(c);
                            var y = g && g.netPlayer && g.netPlayer.local ? w.nextActiveStatusEffectSpawnPosition : null;
                            if (y) c.worldPosition = y, r.play(r.clips[0].name), v(c).to(.4, {
                                worldPosition: this.activeStatusEffectsRoot.worldPosition.clone().add(this.getLayoutPosition(this.activeStatusEffectsRoot.children.length))
                            }, {
                                easing: "quartIn"
                            }).call((function() {
                                n.activeStatusEffectsRoot.addChild(c), f.interactable = !0, n.updateLayout()
                            })).start();
                            else {
                                r.play(r.clips[1].name), c.setPosition(new h(0, 2 * this.itemHeight, 0)), c.setScale(S);
                                var P = e.statusEffectRef.getApplicationDelay(),
                                    R = v(c).delay(P > 0 ? P + .25 : 0).to(.6, {
                                        scale: new h(.6, .6, .6)
                                    }, {
                                        easing: "elasticOut"
                                    }).delay(.2);
                                (e.statusEffectRef.durationInSeconds < 0 || !e.statusEffectRef.isShortDuration()) && R.to(.6, {
                                    worldPosition: this.activeStatusEffectsRoot.worldPosition.clone().add(this.getLayoutPosition(this.activeStatusEffectsRoot.children.length)),
                                    scale: new h(.35, .35, .35)
                                }, {
                                    easing: "quadIn"
                                }).call((function() {
                                    n.activeStatusEffectsRoot.addChild(c), f.interactable = !0, n.updateLayout()
                                })), R.start()
                            }
                        }
                    }
                }, s.onStatusEffectRemoved = function(t, e) {
                    var a, i = null == (a = t.target) ? void 0 : a.owner;
                    if (i && i.netPlayer && i.netPlayer.local) {
                        for (var n = 0; n < this._activeStatusEffects.length; ++n) {
                            var s = this._activeStatusEffects[n];
                            if (s.statusEffect.statusEffectRef == e.statusEffectRef) {
                                this._activeStatusEffects.splice(n, 1), s.onStatusEffectRemoved();
                                break
                            }
                        }
                        this.updateLayout()
                    }
                }, s.getLayoutPosition = function(t) {
                    return new h(0, t * (-this.itemHeight - this._padding))
                }, s.updateLayout = function() {
                    for (var t = 0; t < this._activeStatusEffects.length; ++t) this._activeStatusEffects[t].setLayoutPos(new h(0, t * (-this.itemHeight - this._padding)))
                }, e
            }(p)).prototype, "activeStatusEffectPrefab", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), M = e(L.prototype, "activeStatusEffectsRoot", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), U = e(L.prototype, "itemHeight", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 70
                }
            }), _ = L)) || _));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UICannotJoinGameReason.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GameMode.ts", "./GolfMode.ts"], (function(e) {
    var n, o, t, a, i, s, r, c, d, l, h, u;
    return {
        setters: [function(e) {
            n = e.inheritsLoose
        }, function(e) {
            o = e.cclegacy, t = e._decorator, a = e.Label, i = e.Component
        }, function(e) {
            s = e.GameManager
        }, function(e) {
            r = e.CannotJoinGameReason
        }, function(e) {
            c = e.cPlayersUpdate, d = e.cGameScoreUpdate, l = e.cGameStateUpdate, h = e.cJoinGameCooldownEnded, u = e.cCurrentHoleUpdate
        }],
        execute: function() {
            var m;
            o._RF.push({}, "a1cb7rgD9xBnJajo0Aa8NrS", "UICannotJoinGameReason", void 0);
            var G = t.ccclass;
            t.property, e("UICannotJoinGameReason", G("UICannotJoinGameReason")(m = function(e) {
                function o() {
                    for (var n, o = arguments.length, t = new Array(o), a = 0; a < o; a++) t[a] = arguments[a];
                    return (n = e.call.apply(e, [this].concat(t)) || this)._label = null, n
                }
                n(o, e);
                var t = o.prototype;
                return t.onLoad = function() {
                    this._label = this.node.getComponent(a), this._label.string = "";
                    var e = s.Instance;
                    e.currentMode.node.on(c, this.onPlayersUpdate.bind(this)), e.currentMode.node.on(d, this.onScoresUpdate.bind(this)), e.currentMode.node.on(l, this.onGameStateUpdate.bind(this)), e.currentMode.node.on(h, this.onJoinGameCooldownEnded.bind(this)), e.currentMode.node.on(u, this.onCurrentHoleUpdate.bind(this)), this.node.active = !1
                }, t.onCurrentHoleUpdate = function(e) {
                    this.refreshCannotJoinGame()
                }, t.onPlayersUpdate = function(e) {
                    this.refreshCannotJoinGame()
                }, t.onScoresUpdate = function(e, n) {
                    this.refreshCannotJoinGame()
                }, t.onGameStateUpdate = function(e) {
                    this.refreshCannotJoinGame()
                }, t.onJoinGameCooldownEnded = function() {
                    this.refreshCannotJoinGame()
                }, t.refreshCannotJoinGame = function() {
                    if (s.Instance.currentMode.IsLocalPlayerInGame()) this.node.active = !1;
                    else {
                        var e = s.Instance.currentMode,
                            n = e.CanJoinGame(),
                            o = e.AllPlayersFinishedGame();
                        switch (n) {
                            case r.None:
                                this.node.active = !1;
                                break;
                            case r.GameFull:
                                this.node.active = !0, this._label.string = "Game Is Full";
                                break;
                            case r.GameInProgress:
                                this.node.active = !1;
                                break;
                            case r.JoinCooldown:
                                this.node.active = !0, this._label.string = "You have been kicked to make room for someone else to play. Please wait to join back in."
                        }
                        this.node.active = this.node.active && !o
                    }
                }, o
            }(i)) || m);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UICourseSelectButton.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, r, o, i, n, l, a, u, c, s, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, o = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, l = e._decorator, a = e.Button, u = e.Node, c = e.Label, s = e.Sprite, p = e.Component
        }],
        execute: function() {
            var b, h, y, f, m, d, g, v, C, I, z, B, w;
            n._RF.push({}, "29d4cW+Q3xC1IC47pmYtBFr", "UICourseSelectButton", void 0);
            var S = l.ccclass,
                P = l.property;
            e("UICourseSelectButton", (b = S("UICourseSelectButton"), h = P(a), y = P(u), f = P(c), m = P(c), d = P(s), b((C = t((v = function(e) {
                function t() {
                    for (var t, r = arguments.length, n = new Array(r), l = 0; l < r; l++) n[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(n)) || this, o(t, "button", C, i(t)), o(t, "localPlayerVoteIndicator", I, i(t)), o(t, "voteCount", z, i(t)), o(t, "courseName", B, i(t)), o(t, "courseThumbnail", w, i(t)), t
                }
                r(t, e);
                var n = t.prototype;
                return n.updateVotes = function(e, t) {
                    this.voteCount.string = "" + e, this.localPlayerVoteIndicator.active = t
                }, n.init = function(e, t) {
                    this.courseName.string = e, this.courseThumbnail.spriteFrame = t
                }, n.setEnabled = function(e) {
                    this.courseThumbnail.grayscale = !e, this.button.enabled = e
                }, t
            }(p)).prototype, "button", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = t(v.prototype, "localPlayerVoteIndicator", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), z = t(v.prototype, "voteCount", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), B = t(v.prototype, "courseName", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), w = t(v.prototype, "courseThumbnail", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), g = v)) || g));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UICreditEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, r, i, n, o, a, l, c;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, i = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, a = e._decorator, l = e.Label, c = e.Component
        }],
        execute: function() {
            var u, p, s, y, d, f, b;
            o._RF.push({}, "5f190VVkCNFUKULS+Ub+Qwe", "UICreditEntry", void 0);
            var h = a.ccclass,
                U = a.property;
            e("UICreditEntry", (u = h("UICreditEntry"), p = U(l), s = U(l), u((f = t((d = function(e) {
                function t() {
                    for (var t, r = arguments.length, o = new Array(r), a = 0; a < r; a++) o[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(o)) || this, i(t, "creditName", f, n(t)), i(t, "creditTitle", b, n(t)), t
                }
                return r(t, e), t.prototype.start = function() {}, t
            }(c)).prototype, "creditName", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), b = t(d.prototype, "creditTitle", [s], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), y = d)) || y));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UICreditsScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./UICreditEntry.ts"], (function(e) {
    var t, i, n, r, o, l, c, a, s, u, f, d, p, b, h, y;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, l = e._decorator, c = e.Prefab, a = e.ScrollView, s = e.JsonAsset, u = e.Node, f = e.instantiate, d = e.Label, p = e.tween, b = e.Tween, h = e.Component
        }, function(e) {
            y = e.UICreditEntry
        }],
        execute: function() {
            var C, g, m, w, v, T, P, S, z, E, I, V, U;
            o._RF.push({}, "0ceeb0hihlOJYPlZJ6cR8Kh", "UICreditsScreen", void 0);
            var L = l.ccclass,
                _ = l.property;
            e("UICreditsScreen", (C = L("UICreditsScreen"), g = _(c), m = _(c), w = _(a), v = _(s), T = _(u), C((z = t((S = function(e) {
                function t() {
                    for (var t, i = arguments.length, o = new Array(i), l = 0; l < i; l++) o[l] = arguments[l];
                    return t = e.call.apply(e, [this].concat(o)) || this, n(t, "sectionTitlePrefab", z, r(t)), n(t, "sectionEntryPrefab", E, r(t)), n(t, "scrollView", I, r(t)), n(t, "credits", V, r(t)), n(t, "rootContent", U, r(t)), t.modal = void 0, t
                }
                i(t, e);
                var o = t.prototype;
                return o.tryClose = function() {
                    this.modal.tryClose(!1)
                }, o.init = function(e, t) {
                    var i = this,
                        n = this.credits.json.credits;
                    n && n.forEach((function(e) {
                        if (e.title && e.title.length > 0) {
                            var t = f(i.sectionTitlePrefab),
                                n = t.getComponent(d);
                            n && (n.string = e.title, i.rootContent.addChild(t))
                        }
                        e.entries && e.entries.forEach((function(e) {
                            var t = f(i.sectionEntryPrefab),
                                n = t.getComponent(y);
                            n && (n.creditName.string = e.name, n.creditTitle.string = e.title, i.rootContent.addChild(t))
                        }))
                    }))
                }, o.autoScroll = function() {
                    var e = this,
                        t = 1;
                    this.scrollView.scrollToTop(.5), setTimeout((function() {
                        p(e.node).repeatForever(p(e.node).delay(.001).call((function() {
                            (t -= .001) <= 0 && (b.stopAllByTarget(e.node), setTimeout((function() {
                                t = 1, e.autoScroll()
                            }), 2e3)), e.scrollView.scrollToPercentVertical(t)
                        }))).start()
                    }), 1e3)
                }, o.onShow = function() {
                    this.scrollView.scrollToTopLeft(.1), this.autoScroll()
                }, o.onHide = function() {
                    p(this.node).stop()
                }, o.onHidden = function() {}, o.validateClose = function(e) {
                    return !0
                }, o.onSubmit = function() {}, o.onCancel = function() {}, t
            }(h)).prototype, "sectionTitlePrefab", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), E = t(S.prototype, "sectionEntryPrefab", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = t(S.prototype, "scrollView", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), V = t(S.prototype, "credits", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), U = t(S.prototype, "rootContent", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = S)) || P));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UICurrentHole.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfMode.ts", "./gameManager.ts", "./UIPlayerInfoBase.ts"], (function(e) {
    var t, n, o, a, r, i, l, c, s, u, d, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, i = e._decorator, l = e.Label
        }, function(e) {
            c = e.cCurrentHoleUpdate, s = e.cGameStateUpdate, u = e.GameState
        }, function(e) {
            d = e.GameManager
        }, function(e) {
            p = e.UIPlayerInfoBase
        }],
        execute: function() {
            var h, f, y, U, v;
            r._RF.push({}, "a5e001/qeNDrYj9l1q+Pdoy", "UICurrentHole", void 0);
            var I = i.ccclass,
                g = i.property;
            e("UICurrentHole", (h = I("UICurrentHole"), f = g(l), h((v = t((U = function(e) {
                function t() {
                    for (var t, n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(r)) || this, o(t, "holeText", v, a(t)), t
                }
                n(t, e);
                var r = t.prototype;
                return r.onLoad = function() {
                    e.prototype.onLoad.call(this);
                    var t = d.Instance;
                    t.currentMode.node.on(c, this.onCurrentHoleUpdate.bind(this)), t.currentMode.node.on(s, this.onGameStateUpdate.bind(this)), this.holeText.string = "", this.node.active = !1
                }, r.onEnable = function() {}, r.onDisable = function() {}, r.onCurrentHoleUpdate = function(e) {
                    this.holeText.string = "" + e, this.node.active || (this.node.active = !0)
                }, r.onGameStateUpdate = function(e) {
                    e == u.Play ? this.node.active = !0 : e != u.CourseSelect && e != u.GameplayModeSelect || (this.node.active = !1)
                }, r.onPlayerStateUpdateInternal = function(e, t) {}, r.onPlayersUpdateInternal = function(e) {}, t
            }(p)).prototype, "holeText", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), y = U)) || y));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UICurrentHoleStrokes.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./UIPlayerInfoBase.ts"], (function(e) {
    var t, r, n, a, o, s, i, c, l;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, s = e._decorator, i = e.Label
        }, function(e) {
            c = e.GameManager
        }, function(e) {
            l = e.UIPlayerInfoBase
        }],
        execute: function() {
            var u, p, I, d, y, f, h;
            o._RF.push({}, "5c1ba3lTaBJ+7PD01o7GJ8n", "UICurrentHoleStrokes", void 0);
            var k = s.ccclass,
                v = s.property;
            e("UICurrentHoleStrokes", (u = k("UICurrentHoleStrokes"), p = v(i), I = v(i), u((f = t((y = function(e) {
                function t() {
                    for (var t, r = arguments.length, o = new Array(r), s = 0; s < r; s++) o[s] = arguments[s];
                    return t = e.call.apply(e, [this].concat(o)) || this, n(t, "strokeText", f, a(t)), n(t, "maxStrokesText", h, a(t)), t
                }
                r(t, e);
                var o = t.prototype;
                return o.onLoad = function() {
                    e.prototype.onLoad.call(this), this.strokeText.string = "", this.maxStrokesText.string = "", this.node.active = !1
                }, o.onPlayerStateUpdateInternal = function(e, t) {
                    if (e.state) {
                        var r = c.Instance.currentMode,
                            n = r.GetParValue(r.currentHole);
                        e.state.strokes >= 0 && n > 0 && (this.strokeText.string = "" + e.state.strokes, this.maxStrokesText.string = "" + n, !c.Instance.currentMode.IsLocalPlayerInGame() || c.Instance.currentMode.IsLocalPlayersGameOver() ? this.node.active = !1 : this.node.active || (this.node.active = !0))
                    }
                }, o.onPlayersUpdateInternal = function(e) {
                    c.Instance.currentMode.IsLocalPlayerInGame() && !c.Instance.currentMode.IsLocalPlayersGameOver() || (this.node.active = !1)
                }, t
            }(l)).prototype, "strokeText", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), h = t(y.prototype, "maxStrokesText", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), d = y)) || d));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIDialogModal.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var n, i, t, o, r, a, l, s;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, i = e.inheritsLoose, t = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, l = e.Label, s = e.Component
        }],
        execute: function() {
            var c, u, f, g, p, d, h;
            r._RF.push({}, "b8745FFC5tFbY9r9ro15XLg", "UIDialogModal", void 0);
            var b = a.ccclass,
                m = a.property;
            e("UIDialogModal", (c = b("UIDialogModal"), u = m(l), f = m(l), c((d = n((p = function(e) {
                function n() {
                    for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return (n = e.call.apply(e, [this].concat(r)) || this).modal = void 0, t(n, "message", d, o(n)), t(n, "header", h, o(n)), n
                }
                i(n, e);
                var r = n.prototype;
                return r.init = function(e, n) {
                    if (n) {
                        var i = n;
                        this.message.string = i.message, this.header.string = i.header
                    }
                }, r.setMessage = function(e) {
                    this.message.string = e
                }, r.onShow = function() {}, r.onHide = function() {}, r.onHidden = function() {}, r.validateClose = function(e) {
                    return !0
                }, r.onSubmit = function() {}, r.onCancel = function() {}, n
            }(s)).prototype, "message", [u], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), h = n(p.prototype, "header", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), g = p)) || g));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIDrawLine.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, n, r, o, i, a, s, c, p, u;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, n = t.inheritsLoose, r = t.initializerDefineProperty, o = t.assertThisInitialized, i = t.createClass
        }, function(t) {
            a = t.cclegacy, s = t._decorator, c = t.Vec2, p = t.GraphicsComponent, u = t.Component
        }],
        execute: function() {
            var l, d, y, P, f, h, w, _, b;
            a._RF.push({}, "a56bezmnHpEZqAwfuJVM+X1", "UIDrawLine", void 0);
            var g = s.ccclass,
                v = s.property,
                D = s.executeInEditMode;
            t("UIDrawLine", (l = g("UIDrawLine"), d = v(c), y = v(c), P = v(c), f = v(c), l(h = D((_ = e((w = function(t) {
                function e() {
                    for (var e, n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(i)) || this, r(e, "_startPoint", _, o(e)), r(e, "_endPoint", b, o(e)), e
                }
                n(e, t);
                var a = e.prototype;
                return a.onLoad = function() {
                    this.redraw()
                }, a.onEnable = function() {
                    this.redraw()
                }, a.redraw = function() {
                    var t = this.node.getComponent(p);
                    t.clear(), t.moveTo(this.startPoint.x, this.startPoint.y), t.lineTo(this.endPoint.x, this.endPoint.y), t.stroke(), t.fill()
                }, i(e, [{
                    key: "startPoint",
                    get: function() {
                        return this._startPoint
                    },
                    set: function(t) {
                        this._startPoint = t, this.redraw()
                    }
                }, {
                    key: "endPoint",
                    get: function() {
                        return this._endPoint
                    },
                    set: function(t) {
                        this._endPoint = t, this.redraw()
                    }
                }]), e
            }(u)).prototype, "_startPoint", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new c
                }
            }), e(w.prototype, "startPoint", [y], Object.getOwnPropertyDescriptor(w.prototype, "startPoint"), w.prototype), b = e(w.prototype, "_endPoint", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new c
                }
            }), e(w.prototype, "endPoint", [f], Object.getOwnPropertyDescriptor(w.prototype, "endPoint"), w.prototype), h = w)) || h) || h));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIGameLogPanel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GameLogManager.ts", "./gameManager.ts"], (function(e) {
    var t, o, r, n, i, a, l, g, c, s, u, d, h;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, o = e.inheritsLoose, r = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, l = e.RichText, g = e.Color, c = e.Node, s = e.Input, u = e.Component
        }, function(e) {
            d = e.GameLogManager
        }, function(e) {
            h = e.GameManager
        }],
        execute: function() {
            var m, f, p, I, b, y, C, v, P, L, T, G, N, w, O, E, F;
            i._RF.push({}, "9acd0k/V7pH+bzpUkXsyDlZ", "UIGameLogPanel", void 0);
            var k = a.ccclass,
                z = a.property,
                M = function(e) {
                    return e[e.Instigator = 0] = "Instigator", e[e.Target = 1] = "Target", e
                }(M || {});
            e("UIGameLogPanel", (m = k("UIGameLogPanel"), f = z(l), p = z(g), I = z(g), b = z(g), y = z(g), C = z(c), v = z(c), m((T = t((L = function(e) {
                function t() {
                    for (var t, o = arguments.length, i = new Array(o), a = 0; a < o; a++) i[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(i)) || this, r(t, "logText", T, n(t)), r(t, "instigatorColor", G, n(t)), r(t, "targetColor", N, n(t)), r(t, "selfTargetColor", w, n(t)), r(t, "holeInOneColor", O, n(t)), r(t, "logRoot", E, n(t)), r(t, "logBackground", F, n(t)), t
                }
                o(t, e);
                var i = t.prototype;
                return i.start = function() {
                    h.Instance.node.dgOn(d.evtOnGameLogEventRecieved, this.onGameLogEvent.bind(this)), h.Instance.node.dgOn(d.evtClearGameLog, this.onGameLogCleared.bind(this)), this.logRoot.active = !1, this.logBackground.on(s.EventType.MOUSE_WHEEL, this.onMouseWheel, this)
                }, i.onMouseWheel = function(e) {
                    null != e && e.stopImmediatePropagation && e.stopImmediatePropagation()
                }, i.onGameLogEvent = function(e) {
                    var t = this.logText.string;
                    t = t.concat("\n" + this.getLogString(e)), this.logText.string = t;
                    for (var o = 0; o < this.logText.node.children.length; ++o) this.logText.node.children[o].active = !0;
                    this.logRoot.active = !0
                }, i.onGameLogCleared = function() {
                    this.logText.string = "", this.logRoot.active = !1
                }, i.onPlayerClicked = function(e, t) {
                    h.Instance.currentMode.SelectedPlayerId(t)
                }, i.getLogString = function(e) {
                    return "<color=#CCCCCC>[Hole " + e.hole + "]</color>  " + this.getActionString(e)
                }, i.getActionString = function(e) {
                    if (e.action) {
                        if (!e.targetId && e.instigatorId) return this.getFormatedPlayerName(e.instigatorName, e.instigatorId, M.Instigator) + " " + e.action;
                        if (e.targetId && e.instigatorId) return this.getFormatedPlayerName(e.instigatorName, e.instigatorId, M.Instigator) + " " + e.action + " " + this.getFormatedPlayerName(e.targetName, e.targetId, M.Target);
                        if (e.targetId) return this.getFormatedPlayerName(e.instigatorName, e.instigatorId, M.Instigator) + " " + e.action
                    } else if (e.holeInOnePlayerId) return this.getFormatedPlayerName(e.holeInOnePlayerName, e.holeInOnePlayerId, M.Target) + " got a <color=#" + this.holeInOneColor.toHEX("#rrggbb") + "> HOLE IN ONE!!!</color>";
                    return ""
                }, i.getFormatedPlayerName = function(e, t, o) {
                    var r;
                    switch (o) {
                        case M.Instigator:
                            r = this.instigatorColor;
                            break;
                        case M.Target:
                            r = h.Instance.currentMode.GetLocalPlayerId() == t ? this.selfTargetColor : this.targetColor
                    }
                    return "<color=#" + r.toHEX("#rrggbb") + ' click="onPlayerClicked" param="' + t + '">' + e + "</color>"
                }, t
            }(u)).prototype, "logText", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), G = t(L.prototype, "instigatorColor", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new g("00F300")
                }
            }), N = t(L.prototype, "targetColor", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new g("00F300")
                }
            }), w = t(L.prototype, "selfTargetColor", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new g("00F300")
                }
            }), O = t(L.prototype, "holeInOneColor", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new g("#c465df")
                }
            }), E = t(L.prototype, "logRoot", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), F = t(L.prototype, "logBackground", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), P = L)) || P));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIHoleTimer.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./utils.ts", "./gameManager.ts", "./GolfMode.ts"], (function(e) {
    var t, n, i, o, r, a, s, u, c, l, m, p, h, d, g, f, T;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, s = e.Label, u = e.tween, c = e.Vec3, l = e.Tween, m = e.Component
        }, function(e) {
            p = e.AudioController, h = e.AudioEventType
        }, function(e) {
            d = e.formatTime
        }, function(e) {
            g = e.GameManager
        }, function(e) {
            f = e.cGameStateUpdate, T = e.GameState
        }],
        execute: function() {
            var v, _, b, y, I;
            r._RF.push({}, "06b47xXoD1CnKIbTDXgXwdt", "UIHoleTimer", void 0);
            var L = a.ccclass,
                W = a.property;
            e("UIHoleTimer", (v = L("UIHoleTimer"), _ = W(s), v((I = t((y = function(e) {
                function t() {
                    for (var t, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, i(t, "timerLabel", I, o(t)), t._near30Timeout = !1, t._near10Timeout = !1, t
                }
                n(t, e);
                var r = t.prototype;
                return r.onLoad = function() {
                    g.Instance.currentMode.node.on(f, this.onGameStateUpdate.bind(this)), this.node.active = !1
                }, r.onGameStateUpdate = function(e) {
                    e == T.Play ? this.node.active = !0 : e != T.CourseSelect && e != T.GameplayModeSelect || (this.node.active = !1, this.stopWarning10(), this.stopWarning30())
                }, r.startWarning30 = function() {
                    this._near30Timeout = !0, p.Instance.triggerAudio(h.evtUI30SecLeft)
                }, r.stopWarning30 = function() {
                    this._near30Timeout = !1
                }, r.startWarning10 = function() {
                    this._near10Timeout = !0, u(this.timerLabel.node).repeatForever(u(this.timerLabel.node).to(.15, {
                        scale: new c(1.25, 1.25, 1.25)
                    }, {
                        easing: "expoIn"
                    }).call((function() {
                        p.Instance.triggerAudio(h.evtUICountdown)
                    })).delay(.7).to(.15, {
                        scale: new c(1, 1, 1)
                    }, {
                        easing: "expoOut"
                    })).start()
                }, r.stopWarning10 = function() {
                    this._near10Timeout = !1, l.stopAllByTarget(this.timerLabel.node)
                }, r.update = function(e) {
                    var t = g.Instance.currentMode,
                        n = t.holeTimeLeft;
                    n <= 31e3 ? (this._near30Timeout || this.startWarning30(), n <= 11e3 && !this._near10Timeout ? this.startWarning10() : n > 11e3 && this._near10Timeout && this.stopWarning10()) : (n > 31e3 || n <= 0) && (this._near30Timeout && this.stopWarning30(), this._near10Timeout && this.stopWarning10()), this.timerLabel.string = d(t.holeTimeLeft)
                }, t
            }(m)).prototype, "timerLabel", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), b = y)) || b));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIHWAcceleration.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./activity.ts"], (function(t) {
    var e, c, n, o, i;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            c = t.cclegacy, n = t._decorator, o = t.Component
        }, function(t) {
            i = t.default
        }],
        execute: function() {
            var r;
            c._RF.push({}, "31aecf3xixByockZ2Q+cGiS", "UIHWAcceleration", void 0);
            var a = n.ccclass;
            n.property, t("UIHWAcceleration", a("UIHWAcceleration")(r = function(t) {
                function c() {
                    return t.apply(this, arguments) || this
                }
                return e(c, t), c.prototype.start = function() {
                    this.node.active = !i.hwAccelerationIsEnabled
                }, c
            }(o)) || r);
            c._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UILeaderboard.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./gameManager.ts", "./GolfMode.ts", "./PlayerNameplate.ts", "./LeaderboardEntry.ts", "./golfUI.ts", "./ToggleTween.ts", "./ToggleRotateTween.ts", "./audioController.ts", "./ScoreDisplay.ts", "./TournamentScoreDisplay.ts"], (function(e) {
    var n, t, o, r, a, i, l, s, d, c, u, h, p, g, f, y, b, m, I, v, P, C, T, w, O, S, U, E, L, M, A, F;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, t = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, i = e._decorator, l = e.Prefab, s = e.Node, d = e.Toggle, c = e.Tween, u = e.tween, h = e.Vec3, p = e.instantiate, g = e.Component
        }, function(e) {
            f = e.getComponentInParent, y = e.isMobile, b = e.SMALL_SCALE
        }, function(e) {
            m = e.GameManager
        }, function(e) {
            I = e.cPlayersUpdate, v = e.cGameScoreUpdate, P = e.cSelectedPlayerChanged, C = e.PlayerPhase
        }, function(e) {
            T = e.PlayerNameplate
        }, function(e) {
            w = e.LeaderboardEntry, O = e.cLeaderboardEntryClicked
        }, function(e) {
            S = e.GolfUI
        }, function(e) {
            U = e.ToggleTween
        }, function(e) {
            E = e.ToggleRotateTween
        }, function(e) {
            L = e.AudioController, M = e.AudioEventType
        }, function(e) {
            A = e.ScoreDisplay
        }, function(e) {
            F = e.TournamentScoreDisplay
        }],
        execute: function() {
            var B, G, z, D, H, N, k, _, R, x, W, j, q, J, V, Z, K, Q, X;
            a._RF.push({}, "4a813Z2TzxJuoaPqSPWIIux", "UILeaderboard", void 0);
            var Y = i.ccclass,
                $ = i.property;
            e("UILeaderboard", (B = Y("UILeaderboard"), G = $(l), z = $(s), D = $(s), H = $(s), N = $(U), k = $(s), _ = $(d), R = $(F), B((j = n((W = function(e) {
                function n() {
                    for (var n, t = arguments.length, a = new Array(t), i = 0; i < t; i++) a[i] = arguments[i];
                    return n = e.call.apply(e, [this].concat(a)) || this, o(n, "leaderboardEntryPrefab", j, r(n)), o(n, "leaderboardContent", q, r(n)), o(n, "popOutButton", J, r(n)), o(n, "waitingOnPlayersToFinishIndicator", V, r(n)), o(n, "correctBoardPos", Z, r(n)), o(n, "mobileToggleHelper", K, r(n)), o(n, "nameplateToggle", Q, r(n)), o(n, "tournamentDisplayCard", X, r(n)), n.isOpen = !1, n.wasAutoOpened = !1, n
                }
                t(n, e);
                var a = n.prototype;
                return a.onLoad = function() {
                    var e = f(this.node, S);
                    null == e || e.node.on(S.evtEnableGameUI, this.onEnableGameUI.bind(this)), this.nameplateToggle.isChecked = null == e ? void 0 : e.isShowingNameplates(), this.waitingOnPlayersToFinishIndicator.active = !1, this.node.active = !1, y() || (this.mobileToggleHelper.active = !1)
                }, a.start = function() {
                    this.close()
                }, a.onEnableGameUI = function(e) {
                    if (this.node.active = e, m.Instance.currentMode.node.off(I, this.onPlayersUpdate.bind(this)), m.Instance.currentMode.node.off(v, this.onScoresUpdate.bind(this)), m.Instance.currentMode.node.off(P, this.refreshLeaderboardEntries.bind(this)), e) {
                        m.Instance.currentMode.node.on(I, this.onPlayersUpdate.bind(this)), m.Instance.currentMode.node.on(v, this.onScoresUpdate.bind(this)), m.Instance.currentMode.node.on(P, this.refreshLeaderboardEntries.bind(this));
                        var n = f(this.node, S);
                        this.nameplateToggle.isChecked = null == n ? void 0 : n.isShowingNameplates()
                    }
                }, a.onPlayersUpdate = function(e) {
                    for (var n = this.leaderboardContent.children.length - 1; n >= 0; --n) {
                        var t = this.leaderboardContent.children[n],
                            o = t.getComponent(T),
                            r = e.get(o.playerId);
                        r && r.isConnected() || (this.leaderboardContent.removeChild(t), t.destroy())
                    }
                    m.Instance.currentMode.UpdateScoreTotals()
                }, a.onScoresUpdate = function(e, n) {
                    var t = this,
                        o = m.Instance.currentMode;
                    n.forEach((function(n, r) {
                        var a = e.get(r);
                        a && t.updatePlayerEntry(a.netPlayer, (function() {
                            return [n, o.currentHole]
                        }))
                    }));
                    for (var r = [], a = this.leaderboardContent.children.length - 1; a >= 0; a--) {
                        var i = this.leaderboardContent.children[a],
                            l = i.getComponent(T),
                            s = l.player;
                        s && s.getUser() && r.push({
                            score: n.get(l.playerId),
                            username: s.getUser().username,
                            entry: i
                        })
                    }
                    A.sortPlayerEntries(r)
                }, a.refreshWaitingOnPlayersIndicator = function() {
                    var e = this,
                        n = m.Instance.currentMode,
                        t = n.GetPlayer(n.GetLocalPlayerId()),
                        o = n.IsLocalPlayerInGame() && t && (t.state.phase == C.HoleDone || t.state.phase == C.GameOver) && !n.AllPlayersFinishedHole();
                    this.waitingOnPlayersToFinishIndicator.active != o && (this.waitingOnPlayersToFinishIndicator.active ? (c.stopAllByTarget(this.waitingOnPlayersToFinishIndicator), u(this.waitingOnPlayersToFinishIndicator).to(.2, {
                        scale: b
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        e.waitingOnPlayersToFinishIndicator.active = !1
                    })).start(), this.wasAutoOpened && this.isOpen && this.close(), this.wasAutoOpened = !1) : (c.stopAllByTarget(this.waitingOnPlayersToFinishIndicator), this.waitingOnPlayersToFinishIndicator.active = !0, u(this.waitingOnPlayersToFinishIndicator).to(.2, {
                        scale: h.ONE
                    }, {
                        easing: "backIn"
                    }).start(), this.isOpen || (this.open(), this.wasAutoOpened = !0)))
                }, a.updatePlayerEntry = function(e, n) {
                    var t = this.leaderboardContent.children.find((function(n) {
                        var t = n.getComponent(T);
                        return t && t.playerId == e.uid
                    }));
                    if (t) {
                        var o = t.getComponent(T);
                        o && n && o.node.emit(w.evtUIScoreUpdate, n())
                    } else if (e.isConnected() && e.localState.visual) {
                        var r = p(this.leaderboardEntryPrefab),
                            a = r.getComponent(T);
                        a && (a.setUser(e), n && a.node.emit(w.evtUIScoreUpdate, n())), r.on(O, (function(e) {
                            m.Instance.currentMode.SelectedPlayerId(e)
                        })), this.leaderboardContent.addChild(r)
                    }
                }, a.refreshLeaderboardEntries = function() {
                    this.leaderboardContent.children.forEach((function(e) {
                        e.getComponent(w).refreshButtonState()
                    }))
                }, a.toggle = function() {
                    this.isOpen ? (L.Instance.triggerAudio(M.evtScoreHide), this.close()) : (L.Instance.triggerAudio(M.evtScoreShow), this.open())
                }, a.close = function() {
                    this.isOpen = !1;
                    var e = this.node.getComponentInChildren(U);
                    null != e && e.off();
                    var n = this.node.getComponentInChildren(E);
                    null != n && n.off(), null != this.popOutButton && (this.popOutButton.active = !1);
                    var t = f(this.node, S);
                    null == t || t.onCloseScorecard()
                }, a.open = function() {
                    this.isOpen = !0;
                    var e = this.node.getComponentInChildren(U);
                    null != e && e.on();
                    var n = this.node.getComponentInChildren(E);
                    null != n && n.on(), null != this.popOutButton && (this.popOutButton.active = !0);
                    var t = f(this.node, S);
                    null == t || t.onOpenScorecard()
                }, a.togglePlayerNameplates = function() {
                    var e = f(this.node, S);
                    null == e || e.togglePlayerNameplates()
                }, a.displayScoreboard = function() {
                    if (!m.Instance.currentMode.AllPlayersFinishedGame()) {
                        var e = f(this.node, S);
                        null == e || e.displayScoreboard(), this.close()
                    }
                }, a.displayTournament = function() {
                    this.close(), this.tournamentDisplayCard.displayPlayers()
                }, n
            }(g)).prototype, "leaderboardEntryPrefab", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), q = n(W.prototype, "leaderboardContent", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), J = n(W.prototype, "popOutButton", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), V = n(W.prototype, "waitingOnPlayersToFinishIndicator", [H], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), Z = n(W.prototype, "correctBoardPos", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), K = n(W.prototype, "mobileToggleHelper", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), Q = n(W.prototype, "nameplateToggle", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), X = n(W.prototype, "tournamentDisplayCard", [R], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = W)) || x));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPanelConnectScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./gameManager.ts", "./golfUI.ts", "./GolfMode.ts"], (function(e) {
    var t, n, i, o, a, r, l, c, u, p, s, f, b, h, g, m, y, S, d, G, I;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, r = e._decorator, l = e.Node, c = e.Sprite, u = e.CCInteger, p = e.Button, s = e.assetManager, f = e.resources, b = e.SpriteFrame, h = e.Vec3, g = e.Component
        }, function(e) {
            m = e.isMobile, y = e.inIFrame
        }, function(e) {
            S = e.GameManager
        }, function(e) {
            d = e.GolfUI
        }, function(e) {
            G = e.cGameStateUpdate, I = e.GameState
        }],
        execute: function() {
            var U, D, v, w, M, _, z, C, x, P, B, F, k, j, E, J, L;
            a._RF.push({}, "428d9hWt3JOn4wHzjJYJPwt", "UIPanelConnectScreen", void 0);
            var T = r.ccclass,
                A = r.property;
            e("UIPanelConnectScreen", (U = T("UIPanelConnectScreen"), D = A([l]), v = A(c), w = A(c), M = A(d), _ = A(u), z = A(u), C = A(p), U((B = t((P = function(e) {
                function t() {
                    for (var t, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    return t = e.call.apply(e, [this].concat(a)) || this, i(t, "toDisable", B, o(t)), i(t, "infoGraphic", F, o(t)), i(t, "logoGraphic", k, o(t)), i(t, "golfUI", j, o(t)), i(t, "gfxScaleDesktop", E, o(t)), i(t, "gfxScaleMobile", J, o(t)), i(t, "playButton", L, o(t)), t
                }
                n(t, e);
                var a = t.prototype;
                return a.onLoad = function() {
                    var e = this,
                        t = m() ? this.gfxScaleMobile : this.gfxScaleDesktop,
                        n = m() ? "puttparty_infographic_mobile" : "puttparty_infographic";
                    s.loadAny({
                        __requestType__: "path",
                        path: n
                    }, {
                        bundle: f.name
                    }, null, (function(n, i) {
                        n ? console.error(n) : (e.infoGraphic.spriteFrame = b.createWithImage(i), e.infoGraphic.node.setScale(new h(t, t, t)))
                    })), y() ? S.Instance.currentMode.node.on(G, this.onGameStateUpdate.bind(this)) : this.playButton && (this.playButton.node.active = !0)
                }, a.onGameStateUpdate = function(e) {
                    e != I.CourseSelect && e != I.GameplayModeSelect && e != I.TournamentSelect || this.onDisable()
                }, a.onEnable = function() {
                    this.toDisable.forEach((function(e) {
                        e.active = !1
                    }))
                }, a.onDisable = function() {
                    this.toDisable.forEach((function(e) {
                        e.active = !0
                    })), this.golfUI && this.golfUI.joinGame()
                }, t
            }(g)).prototype, "toDisable", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), F = t(P.prototype, "infoGraphic", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = t(P.prototype, "logoGraphic", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), j = t(P.prototype, "golfUI", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = t(P.prototype, "gfxScaleDesktop", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .5
                }
            }), J = t(P.prototype, "gfxScaleMobile", [z], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .45
                }
            }), L = t(P.prototype, "playButton", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), x = P)) || x));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIParLabel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GolfMode.ts", "./gameManager.ts"], (function(e) {
    var t, n, a, r, i, o, c, l, s, u;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, a = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, o = e._decorator, c = e.Label, l = e.Component
        }, function(e) {
            s = e.cParValueUpdate
        }, function(e) {
            u = e.GameManager
        }],
        execute: function() {
            var p, f, b, d, h;
            i._RF.push({}, "1b97beUfnBPq5xtSboz2bnp", "UIParLabel", void 0);
            var P = o.ccclass,
                g = o.property;
            e("UIParLabel", (p = P("UIParLabel"), f = g(c), p((h = t((d = function(e) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(i)) || this, a(t, "parText", h, r(t)), t
                }
                n(t, e);
                var i = t.prototype;
                return i.onLoad = function() {
                    u.Instance.currentMode.node.on(s, this.onParValueUpdate.bind(this)), this.parText.string = "", this.node.active = !1
                }, i.onEnable = function() {}, i.onDisable = function() {}, i.onParValueUpdate = function(e) {
                    this.parText.string = "Par " + e, this.node.active || (this.node.active = !0)
                }, t
            }(l)).prototype, "parText", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), b = d)) || b));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPatchNotes.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(t) {
    var e, o, n, i, r, a, l, c, s, u, f, p, h;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            r = t.cclegacy, a = t._decorator, l = t.Prefab, c = t.ScrollView, s = t.JsonAsset, u = t.Node, f = t.instantiate, p = t.Label, h = t.Component
        }],
        execute: function() {
            var d, b, g, y, C, N, P, m, v, w, S, z, H, I, E;
            r._RF.push({}, "2f46cFZLNFM8IyfhsTe7ihv", "UIPatchNotes", void 0);
            var L = a.ccclass,
                F = a.property;
            t("UIPatchNotes", (d = L("UIPatchNotes"), b = F(l), g = F(l), y = F(l), C = F(c), N = F(s), P = F(u), d((w = e((v = function(t) {
                function e() {
                    for (var e, o = arguments.length, r = new Array(o), a = 0; a < o; a++) r[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(r)) || this, n(e, "patchNotePrefab", w, i(e)), n(e, "patchNoteSubPrefab", S, i(e)), n(e, "patchHeaderPrefab", z, i(e)), n(e, "scrollView", H, i(e)), n(e, "notes", I, i(e)), n(e, "rootContent", E, i(e)), e.modal = void 0, e
                }
                o(e, t);
                var r = e.prototype;
                return r.tryClose = function() {
                    this.modal.tryClose(!1)
                }, r.init = function(t, e) {
                    var o = this;
                    this.notes.json.forEach((function(t) {
                        t.title && t.title.length > 0 && o.addHeader(t.title), t.entries && t.entries.forEach((function(t) {
                            o.addNote(t)
                        })), t.subEntries && t.subEntries.forEach((function(t) {
                            o.addSubNote(t)
                        }))
                    }))
                }, r.addHeader = function(t) {
                    var e = f(this.patchHeaderPrefab),
                        o = e.getComponent(p);
                    o && (o.string = t, this.rootContent.addChild(e))
                }, r.addNote = function(t) {
                    var e = f(this.patchNotePrefab),
                        o = e.getComponent(p);
                    o && (o.string = t + " ", this.rootContent.addChild(e))
                }, r.addSubNote = function(t) {
                    var e = f(this.patchNoteSubPrefab),
                        o = e.getComponent(p);
                    o && (o.string = t + " ", this.rootContent.addChild(e))
                }, r.onShow = function() {
                    this.scrollView.scrollToTopLeft(.1)
                }, r.onHide = function() {}, r.onHidden = function() {}, r.validateClose = function(t) {
                    return !0
                }, r.onSubmit = function() {}, r.onCancel = function() {}, e
            }(h)).prototype, "patchNotePrefab", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = e(v.prototype, "patchNoteSubPrefab", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), z = e(v.prototype, "patchHeaderPrefab", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = e(v.prototype, "scrollView", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), I = e(v.prototype, "notes", [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), E = e(v.prototype, "rootContent", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), m = v)) || m));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPlayerInfoBase.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts"], (function(e) {
    var n, t, a, o, r, s, c;
    return {
        setters: [function(e) {
            n = e.inheritsLoose
        }, function(e) {
            t = e.cclegacy, a = e._decorator, o = e.Component
        }, function(e) {
            r = e.GameManager
        }, function(e) {
            s = e.cLocalPlayerStateUpdate, c = e.cPlayersUpdate
        }],
        execute: function() {
            t._RF.push({}, "5a441MHBmxIoaPu/fcJVI7f", "UIPlayerInfoBase", void 0);
            a.ccclass, a.property, e("UIPlayerInfoBase", function(e) {
                function t() {
                    return e.apply(this, arguments) || this
                }
                n(t, e);
                var a = t.prototype;
                return a.onLoad = function() {
                    var e = r.Instance;
                    e.currentMode.node.on(s, this.onPlayerStateUpdate.bind(this)), e.currentMode.node.on(c, this.onPlayersUpdate.bind(this))
                }, a.onPlayerStateUpdate = function(e, n) {
                    this.onPlayerStateUpdateInternal(e, n)
                }, a.onPlayersUpdate = function(e) {
                    this.onPlayersUpdateInternal(e)
                }, a.onPlayersUpdateInternal = function(e) {}, t
            }(o));
            t._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPowerupTargetSelectListItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./utils.ts", "./gameManager.ts"], (function(e) {
    var t, r, o, a, n, i, l, c, s, u, p, d, y, g;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, o = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, i = e._decorator, l = e.Label, c = e.Sprite, s = e.Node, u = e.Component
        }, function(e) {
            p = e.AudioController, d = e.AudioEventType
        }, function(e) {
            y = e.DGEvent
        }, function(e) {
            g = e.GameManager
        }],
        execute: function() {
            var h, v, f, I, b, C, m, S, U, w, H, P, _, T, k, z, L, M;
            n._RF.push({}, "00d80TQsexLM7JlAnaJS6Mf", "UIPowerupTargetSelectListItem", void 0);
            var R = i.ccclass,
                D = i.property;
            e("UIPowerupTargetSelectListItem", (h = R("UIPowerupTargetSelectListItem"), v = D(l), f = D(l), I = D(c), b = D(s), C = D(l), m = D(s), h(((M = function(e) {
                function t() {
                    for (var t, r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];
                    return t = e.call.apply(e, [this].concat(n)) || this, o(t, "playerScore", P, a(t)), o(t, "playerHole", _, a(t)), o(t, "playerColorIndicator", T, a(t)), o(t, "localPlayerIndicator", k, a(t)), o(t, "playerHandCount", z, a(t)), o(t, "playerHandCountRoot", L, a(t)), t.nameplate = void 0, t
                }
                r(t, e);
                var n = t.prototype;
                return n.onLoad = function() {
                    this.node.dgOn(t.evtUIScoreUpdate, this.updateScore, this)
                }, n.onDestroy = function() {
                    this.node.dgOff(t.evtUIScoreUpdate, this.updateScore, this)
                }, n.attachToPlayer = function(e) {
                    if (e.getUser()) {
                        var t = 0;
                        if (e.state.stroke_total)
                            for (var r = 0; r < e.state.stroke_total.length; ++r) t += e.state.stroke_total[r];
                        var o = g.Instance.currentMode;
                        this.playerScore.string = " " + t + " ", this.playerHole.string = o.currentHole.toString(), console.log("set hole to: {hole}"), this.playerColorIndicator.color = g.Instance.currentMode.getPlayerUIColor(e), this.localPlayerIndicator.active = e.local, e.state.cards_in_hand ? (this.playerHandCount.string = "" + e.state.cards_in_hand.length, this.playerHandCountRoot.active = !0) : (this.playerHandCount.string = "", this.playerHandCountRoot.active = !1)
                    }
                }, n.updateScore = function(e) {
                    var t = g.Instance.currentMode,
                        r = e[0];
                    e[1];
                    if (this.playerScore.string = " " + r + " ", this.playerHole.string = t.currentHole.toString(), console.log("set hole to: {hole}"), this.nameplate) {
                        var o = this.nameplate.player;
                        o.state.cards_in_hand ? (this.playerHandCount.string = "" + o.state.cards_in_hand.length, this.playerHandCountRoot.active = !0) : (this.playerHandCount.string = "", this.playerHandCountRoot.active = !1)
                    }
                }, n.clickedOnMe = function() {
                    p.Instance.triggerAudio(d.evtUIClick), this.node.emit(t.evtUIPowerupTargetClicked, this.nameplate.playerId)
                }, t
            }(u)).evtUIScoreUpdate = void 0, M.evtUIPowerupTargetClicked = void 0, t(U = M, "evtUIScoreUpdate", [y], (w = (w = Object.getOwnPropertyDescriptor(U, "evtUIScoreUpdate")) ? w.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return w
                }
            }), U), t(U, "evtUIPowerupTargetClicked", [y], (H = (H = Object.getOwnPropertyDescriptor(U, "evtUIPowerupTargetClicked")) ? H.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return H
                }
            }), U), P = t(U.prototype, "playerScore", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), _ = t(U.prototype, "playerHole", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), T = t(U.prototype, "playerColorIndicator", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = t(U.prototype, "localPlayerIndicator", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), z = t(U.prototype, "playerHandCount", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), L = t(U.prototype, "playerHandCountRoot", [m], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = U)) || S));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPowerupTargetSelectModalWindow.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./PlayerNameplate.ts", "./ScoreDisplay.ts", "./UIPowerupTargetSelectListItem.ts"], (function(e) {
    var t, n, o, r, i, a, s, l, c, d, u, h, p, f, g, y, v, I, P, S;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, s = e.Prefab, l = e.Node, c = e.instantiate, d = e.Button, u = e.Vec3, h = e.Tween, p = e.tween, f = e.Component
        }, function(e) {
            g = e.GameManager
        }, function(e) {
            y = e.cPlayersUpdate, v = e.cGameScoreUpdate
        }, function(e) {
            I = e.PlayerNameplate
        }, function(e) {
            P = e.ScoreDisplay
        }, function(e) {
            S = e.UIPowerupTargetSelectListItem
        }],
        execute: function() {
            var m, w, b, C, T, U, M, E, R;
            i._RF.push({}, "0fd4973Wc9EsqyLIcr2Hbwt", "UIPowerupTargetSelectModalWindow", void 0);
            var k = a.ccclass,
                G = a.property;
            e("UIPowerupTargetSelectModalWindow", (m = k("UIPowerupTargetSelectModalWindow"), w = G(s), b = G(l), C = G(l), m((M = t((U = function(e) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(i)) || this, o(t, "listItemPrefab", M, r(t)), o(t, "listRoot", E, r(t)), o(t, "hoverIndicator", R, r(t)), t.modal = void 0, t.powerup = void 0, t.onTargetSelected = void 0, t
                }
                n(t, e);
                var i = t.prototype;
                return i.onLoad = function() {
                    this.node.active = !1
                }, i.setTargetSelectCallback = function(e) {
                    this.onTargetSelected = e
                }, i.onPlayersUpdate = function(e) {
                    var t = this;
                    if (this && this.node && this.node.isValid) {
                        for (var n = this.listRoot.children.length - 1; n >= 0; --n) {
                            var o = this.listRoot.children[n],
                                r = o.getComponent(I),
                                i = e.get(r.playerId);
                            i && i.isConnected() || (this.listRoot.removeChild(o), o.destroy())
                        }
                        e.forEach((function(e) {
                            t.updatePlayerEntry(e, null)
                        }))
                    }
                }, i.onScoresUpdate = function(e, t) {
                    var n = this;
                    if (this.node && this.node.isValid) {
                        var o = g.Instance.currentMode;
                        t.forEach((function(t, r) {
                            var i = e.get(r);
                            i && n.updatePlayerEntry(i.netPlayer, (function() {
                                return [t, o.currentHole]
                            }))
                        }));
                        for (var r = [], i = this.listRoot.children.length - 1; i >= 0; i--) {
                            var a = this.listRoot.children[i],
                                s = a.getComponent(I),
                                l = s.player;
                            l && l.getUser() && r.push({
                                score: t.get(s.playerId),
                                username: l.getUser().username,
                                entry: a
                            })
                        }
                        P.sortPlayerEntries(r)
                    }
                }, i.updatePlayerEntry = function(e, t) {
                    var n = this.listRoot.children.find((function(t) {
                        var n = t.getComponent(I);
                        return n && n.playerId == e.uid
                    }));
                    if (n) {
                        var o = n.getComponent(I);
                        o && t && o.node.emit(S.evtUIScoreUpdate, t())
                    } else if (e.isConnected() && this.powerup.canActivatePowerupOnTarget(e)) {
                        var r = c(this.listItemPrefab),
                            i = r.getComponent(I);
                        i && (i.setUser(e), t && i.node.emit(S.evtUIScoreUpdate, t())), r.dgOn(S.evtUIPowerupTargetClicked, this.onTargetClicked, this), r.getComponentInChildren(d).node.on(l.EventType.MOUSE_ENTER, this.onMouseEnter, this), this.listRoot.addChild(r)
                    }
                }, i.onMouseEnter = function(e) {
                    var t = e.target,
                        n = new u(t.worldPosition);
                    this.hoverIndicator.active = !0, h.stopAllByTarget(this.hoverIndicator), p(this.hoverIndicator).to(.2, {
                        worldPosition: n
                    }, {
                        easing: "quadIn"
                    }).start()
                }, i.onTargetClicked = function(e) {
                    if (this.onTargetSelected) {
                        var t = g.Instance.currentMode.GetGolfPlayersMap().get(e);
                        t ? this.onTargetSelected(t) : console.error("Failed to find Golf Player for selected target with id " + e)
                    }
                    this.unregisterCallbacks(), this.modal.tryClose(!0)
                }, i.init = function(e, t) {
                    t && t.powerup && (this.powerup = t.powerup)
                }, i.onShow = function() {
                    this.onTargetSelected && this.onCancel(), this.hoverIndicator.active = !1, this.registerCallbacks();
                    var e = g.Instance.currentMode;
                    this.onPlayersUpdate(e.GetPlayers()), this.onScoresUpdate(e.GetGolfPlayersMap(), e.GetScoreTotals())
                }, i.registerCallbacks = function() {
                    g.Instance.currentMode.node.on(y, this.onPlayersUpdate.bind(this)), g.Instance.currentMode.node.on(v, this.onScoresUpdate.bind(this))
                }, i.unregisterCallbacks = function() {
                    g.Instance.currentMode.node.off(y, this.onPlayersUpdate.bind(this)), g.Instance.currentMode.node.off(v, this.onScoresUpdate.bind(this))
                }, i.onHide = function() {
                    this.onTargetSelected = null, this.unregisterCallbacks()
                }, i.onHidden = function() {}, i.validateClose = function(e) {
                    return !0
                }, i.onSubmit = function() {}, i.onCancel = function() {
                    this.onTargetSelected && this.onTargetSelected(null), this.onTargetSelected = null, this.unregisterCallbacks()
                }, t
            }(f)).prototype, "listItemPrefab", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = t(U.prototype, "listRoot", [b], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), R = t(U.prototype, "hoverIndicator", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), T = U)) || T));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPowerupTooltip.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, i, n, o, r, a, s, l, c, u, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, a = e._decorator, s = e.Label, l = e.Vec3, c = e.Tween, u = e.tween, p = e.Component
        }],
        execute: function() {
            var d, h, f, g, w, y, v;
            r._RF.push({}, "a3068RkD2tHQZp6HzLMEWfp", "UIPowerupTooltip", void 0);
            var b = a.ccclass,
                T = a.property;
            e("UIPowerupTooltip", (d = b("UIPowerupTooltip"), h = T(s), f = T(s), d((y = t((w = function(e) {
                function t() {
                    for (var t, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(r)) || this, n(t, "header", y, o(t)), n(t, "description", v, o(t)), t
                }
                i(t, e);
                var r = t.prototype;
                return r.show = function(e, t, i) {
                    this.header.string = e, this.description.string = t, this.node.worldPosition = i;
                    var n = this.node.getScale().clone();
                    this.node.setScale(new l(0, n.y, n.z)), c.stopAllByTarget(this.node), u(this.node).to(.25, {
                        scale: new l(1, 1, 1)
                    }, {
                        easing: "quadOut"
                    }).start()
                }, r.hide = function() {
                    var e = this;
                    c.stopAllByTarget(this.node);
                    var t = this.node.getScale();
                    u(this.node).to(.25, {
                        scale: new l(0, t.y, t.z)
                    }, {
                        easing: "quadOut"
                    }).call((function() {
                        e.node.active = !1
                    })).start()
                }, t
            }(p)).prototype, "header", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), v = t(w.prototype, "description", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), g = w)) || g));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPreviousScoreEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var r, i, t, o, n, a, c, s, l;
    return {
        setters: [function(e) {
            r = e.applyDecoratedDescriptor, i = e.inheritsLoose, t = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            n = e.cclegacy, a = e._decorator, c = e.Label, s = e.Node, l = e.Component
        }],
        execute: function() {
            var u, p, y, v, d, f, h;
            n._RF.push({}, "2da3bSgCCVGb66S53cVtFsz", "UIPreviousScoreEntry", void 0);
            var b = a.ccclass,
                I = a.property;
            e("UIPreviousScoreEntry", (u = b("UIPreviousScoreEntry"), p = I(c), y = I(s), u((f = r((d = function(e) {
                function r() {
                    for (var r, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
                    return r = e.call.apply(e, [this].concat(n)) || this, t(r, "previousScore", f, o(r)), t(r, "winnerIndicator", h, o(r)), r.playerId = void 0, r.playerName = void 0, r
                }
                return i(r, e), r.prototype.setUser = function(e, r, i) {
                    e && (this.playerId = e.uid, this.playerName = e.userName, this.previousScore.string = r ? "" + r : "-", this.winnerIndicator.active = i)
                }, r
            }(l)).prototype, "previousScore", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), h = r(d.prototype, "winnerIndicator", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = d)) || v));
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIPreviousScoresPanel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./UIPreviousScoreEntry.ts", "./GolfMode.ts", "./ScoreDisplay.ts"], (function(e) {
    var n, r, t, o, i, a, c, s, u, l, f, p, d, h;
    return {
        setters: [function(e) {
            n = e.applyDecoratedDescriptor, r = e.inheritsLoose, t = e.initializerDefineProperty, o = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, a = e._decorator, c = e.Node, s = e.Prefab, u = e.instantiate, l = e.Component
        }, function(e) {
            f = e.GameManager
        }, function(e) {
            p = e.UIPreviousScoreEntry
        }, function(e) {
            d = e.cGameScoreUpdate
        }, function(e) {
            h = e.ScoreDisplay
        }],
        execute: function() {
            var v, y, P, m, g, b, S;
            i._RF.push({}, "9c860j7+H5Jg7MwXINErqqM", "UIPreviousScoresPanel", void 0);
            var U = a.ccclass,
                I = a.property;
            e("UIPreviousScoresPanel", (v = U("UIPreviousScoresPanel"), y = I(c), P = I(s), v((b = n((g = function(e) {
                function n() {
                    for (var n, r = arguments.length, i = new Array(r), a = 0; a < r; a++) i[a] = arguments[a];
                    return n = e.call.apply(e, [this].concat(i)) || this, t(n, "content", b, o(n)), t(n, "entryPrefab", S, o(n)), n
                }
                r(n, e);
                var i = n.prototype;
                return i.onLoad = function() {
                    f.Instance.currentMode.node.on(d, this.onScoresUpdate.bind(this))
                }, i.onScoresUpdate = function(e, n) {
                    this.refreshContent(e, n)
                }, i.refreshContent = function(e, n) {
                    var r = this,
                        t = Number.MAX_VALUE;
                    e.forEach((function(e) {
                        var n = e.previousScore();
                        n && n < t && (t = n)
                    }));
                    var o = [];
                    e.forEach((function(e) {
                        if (e) {
                            var n = r.content.children.find((function(n) {
                                var r = n.getComponent(p);
                                return r && r.playerId == e.netPlayer.uid
                            }));
                            n || (n = u(r.entryPrefab), r.content.addChild(n));
                            var i = e.previousScore();
                            if (n) n.getComponent(p).setUser(e, i, i == t), o.push(n)
                        }
                    })), this.content.children.forEach((function(e) {
                        o.find((function(n) {
                            return n == e
                        })) || (e.removeFromParent(), e.destroy())
                    }));
                    for (var i = [], a = this.content.children.length - 1; a >= 0; a--) {
                        var c = this.content.children[a],
                            s = c.getComponent(p);
                        i.push({
                            score: n.get(s.playerId),
                            username: s.playerName,
                            entry: c
                        })
                    }
                    h.sortPlayerEntries(i), this.node.active = t != Number.MAX_VALUE
                }, n
            }(l)).prototype, "content", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = n(g.prototype, "entryPrefab", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), m = g)) || m));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UISettingsMenuModalWindow.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts", "./audioElement.ts", "./utils.ts", "./activity.ts"], (function(e) {
    var i, t, l, n, r, o, u, s, a, d, c, S, m, h, f, g;
    return {
        setters: [function(e) {
            i = e.applyDecoratedDescriptor, t = e.inheritsLoose, l = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            r = e.cclegacy, o = e._decorator, u = e.Widget, s = e.Label, a = e.Slider, d = e.Node, c = e.Component
        }, function(e) {
            S = e.AudioController, m = e.AudioEventType
        }, function(e) {
            h = e.AudioChannel
        }, function(e) {
            f = e.isMobile
        }, function(e) {
            g = e.default
        }],
        execute: function() {
            var b, p, V, w, x, v, I, L, y, _, C, F, M, B, U, z, W, k, X, A, H, P, D, E, R, J, O, T, j, N;
            r._RF.push({}, "d8c2c4SrIRJ564LuWFJecg4", "UISettingsMenuModalWindow", void 0);
            var q = o.ccclass,
                G = o.property;
            e("UISettingsMenuModalWindow", (b = q("UISettingsMenuModalWindow"), p = G(u), V = G(u), w = G(u), x = G(s), v = G(s), I = G(s), L = G(s), y = G(a), _ = G(a), C = G(a), F = G(d), M = G(d), B = G(s), b((W = i((z = function(e) {
                function i() {
                    for (var i, t = arguments.length, r = new Array(t), o = 0; o < t; o++) r[o] = arguments[o];
                    return i = e.call.apply(e, [this].concat(r)) || this, l(i, "uiSFXfillBar", W, n(i)), l(i, "worldSFXBar", k, n(i)), l(i, "musicVolBar", X, n(i)), l(i, "uiSFXLabel", A, n(i)), l(i, "worldLabel", H, n(i)), l(i, "musicLabel", P, n(i)), l(i, "buildVersion", D, n(i)), l(i, "uiSfxVolumeSlider", E, n(i)), l(i, "worldSfxVolumeSlider", R, n(i)), l(i, "musicVolumeSlider", J, n(i)), l(i, "musicVolumeLabel", O, n(i)), l(i, "musicParentHolder", T, n(i)), l(i, "externalLink", j, n(i)), l(i, "externalLinkLabel", N, n(i)), i.modal = void 0, i._startingUiSfxVolume = void 0, i._startingWorldSfxVolume = void 0, i._startingMusicVolume = void 0, i
                }
                t(i, e);
                var r = i.prototype;
                return r.saveSettings = function() {
                    this.modal.tryClose(!0)
                }, r.tryClose = function() {
                    this.modal.tryClose(!1)
                }, r.clickSupportLink = function() {
                    g.openExternalLink(this.externalLink)
                }, r.showCredits = function() {}, r.onSlideChanged = function(e, i) {
                    switch (S.Instance.setVolumeSettingForChannel(i, e.progress), this.unscheduleAllCallbacks(), i) {
                        case h.UI_Sfx:
                            this.scheduleOnce((function() {
                                S.Instance.triggerAudio(m.evtScoreShow)
                            }), .1), this.updateSlider(this.uiSFXfillBar, this.uiSFXLabel, this.uiSfxVolumeSlider);
                            break;
                        case h.World_Sfx:
                            this.scheduleOnce((function() {
                                S.Instance.triggerAudio(m.evtBallHitWall)
                            }), .1), this.updateSlider(this.worldSFXBar, this.worldLabel, this.worldSfxVolumeSlider);
                            break;
                        default:
                            this.musicVolBar && this.updateSlider(this.musicVolBar, this.musicLabel, this.musicVolumeSlider)
                    }
                }, r.init = function(e, i) {
                    var t = this;
                    i.scale && (this.node.scale = i.scale), this.musicVolumeSlider && this.musicVolumeSlider.node.on("slide", (function(e) {
                        return t.onSlideChanged(e, h.Music)
                    })), this.uiSfxVolumeSlider.node.on("slide", (function(e) {
                        return t.onSlideChanged(e, h.UI_Sfx)
                    })), this.worldSfxVolumeSlider.node.on("slide", (function(e) {
                        return t.onSlideChanged(e, h.World_Sfx)
                    })), this.externalLinkLabel.string = this.externalLink
                }, r.onShow = function() {
                    var e;
                    S.Instance.triggerAudio(m.evtUISettingsUp), this._startingMusicVolume = S.Instance.volumeSettingForChannel(h.Music), this._startingUiSfxVolume = S.Instance.volumeSettingForChannel(h.UI_Sfx), this._startingWorldSfxVolume = S.Instance.volumeSettingForChannel(h.World_Sfx), this.musicVolumeSlider && (this.musicVolumeSlider.progress = this._startingMusicVolume), this.musicParentHolder.active = !f(), this.uiSfxVolumeSlider.progress = this._startingUiSfxVolume, this.worldSfxVolumeSlider.progress = this._startingWorldSfxVolume, this.musicVolBar && this.updateSlider(this.musicVolBar, this.musicLabel, this.musicVolumeSlider), this.updateSlider(this.uiSFXfillBar, this.uiSFXLabel, this.uiSfxVolumeSlider), this.updateSlider(this.worldSFXBar, this.worldLabel, this.worldSfxVolumeSlider);
                    var i = (null == (e = window._PuttEnv) ? void 0 : e.version) || "dev";
                    this.buildVersion.string = "Build Version: " + i
                }, r.onHide = function() {}, r.onHidden = function() {}, r.validateClose = function(e) {
                    return !0
                }, r.onSubmit = function() {
                    this.musicVolumeSlider && S.Instance.setVolumeSettingForChannel(h.Music, this.musicVolumeSlider.progress), S.Instance.setVolumeSettingForChannel(h.UI_Sfx, this.uiSfxVolumeSlider.progress), S.Instance.setVolumeSettingForChannel(h.World_Sfx, this.worldSfxVolumeSlider.progress), S.Instance.saveMixer(), S.Instance.triggerAudio(m.evtUISettingsDown)
                }, r.onCancel = function() {
                    this.musicVolumeSlider && S.Instance.setVolumeSettingForChannel(h.Music, this._startingMusicVolume), S.Instance.setVolumeSettingForChannel(h.UI_Sfx, this._startingUiSfxVolume), S.Instance.setVolumeSettingForChannel(h.World_Sfx, this._startingWorldSfxVolume), S.Instance.triggerAudio(m.evtUISettingsDown)
                }, r.updateSlider = function(e, i, t) {
                    e.right = 1 - t.progress;
                    var l = Math.floor(100 * t.progress).toString();
                    i.string = l + "%"
                }, i
            }(c)).prototype, "uiSFXfillBar", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), k = i(z.prototype, "worldSFXBar", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), X = i(z.prototype, "musicVolBar", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), A = i(z.prototype, "uiSFXLabel", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), H = i(z.prototype, "worldLabel", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), P = i(z.prototype, "musicLabel", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), D = i(z.prototype, "buildVersion", [L], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), E = i(z.prototype, "uiSfxVolumeSlider", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), R = i(z.prototype, "worldSfxVolumeSlider", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), J = i(z.prototype, "musicVolumeSlider", [C], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), O = i(z.prototype, "musicVolumeLabel", [F], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), T = i(z.prototype, "musicParentHolder", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), j = i(z.prototype, "externalLink", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return "https://dis.gd/bugreport"
                }
            }), N = i(z.prototype, "externalLinkLabel", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), U = z)) || U));
            r._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UISFXClickEvent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioController.ts"], (function(e) {
    var t, n, i, r, o, c, a, u, l, s;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            o = e.cclegacy, c = e._decorator, a = e.Button, u = e.Component
        }, function(e) {
            l = e.AudioEventType, s = e.AudioController
        }],
        execute: function() {
            var p, g, d, v, f;
            o._RF.push({}, "15377wgPXZJH6dB2kOL6ohT", "UISFXClickEvent", void 0);
            var h = c.ccclass,
                y = c.property;
            e("UISFXClickEvent", (p = h("UISFXClickEvent"), g = y({
                type: l
            }), p((f = t((v = function(e) {
                function t() {
                    for (var t, n = arguments.length, o = new Array(n), c = 0; c < n; c++) o[c] = arguments[c];
                    return t = e.call.apply(e, [this].concat(o)) || this, i(t, "audioEventToTrigger", f, r(t)), t
                }
                n(t, e);
                var o = t.prototype;
                return o.onLoad = function() {
                    this.node.on(a.EventType.CLICK, this.triggerSFX.bind(this))
                }, o.triggerSFX = function() {
                    var e = this.node.getComponent(a);
                    e && e.enabled && s.Instance.triggerAudio(this.audioEventToTrigger)
                }, t
            }(u)).prototype, "audioEventToTrigger", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return l.evtUIClick
                }
            }), d = v)) || d));
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UISpectatingOtherPlayerPanel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./utils.ts"], (function(e) {
    var t, n, o, i, a, r, c, s, l, u, d, h;
    return {
        setters: [function(e) {
            t = e.inheritsLoose
        }, function(e) {
            n = e.cclegacy, o = e._decorator, i = e.input, a = e.Input, r = e.Vec3, c = e.tween, s = e.KeyCode, l = e.Component
        }, function(e) {
            u = e.GameManager
        }, function(e) {
            d = e.cSelectedPlayerChanged
        }, function(e) {
            h = e.isMobile
        }],
        execute: function() {
            var p;
            n._RF.push({}, "55fd41ummBIQZOmSepWUbB4", "UISpectatingOtherPlayerPanel", void 0);
            var y = o.ccclass;
            e("UISpectatingOtherPlayerPanel", y("UISpectatingOtherPlayerPanel")(p = function(e) {
                function n() {
                    return e.apply(this, arguments) || this
                }
                t(n, e);
                var o = n.prototype;
                return o.start = function() {
                    u.Instance.currentMode.node.on(d, this.onSelectedPlayerChanged.bind(this)), h() || i.on(a.EventType.KEY_UP, this.onKeyUp, this), this.node.position = new r(0, 60, 0), this.node.active = !1
                }, o.onReturnToPlayer = function() {
                    var e = u.Instance.currentMode.GetLocalPlayerId();
                    "" !== e && u.Instance.currentMode.SelectedPlayerId(e)
                }, o.onSelectedPlayerChanged = function(e) {
                    var t = this;
                    !this.node.active || e && !e.netPlayer.local ? e && e.netPlayer && !this.node.active && !e.netPlayer.local && u.Instance.currentMode.IsLocalPlayerInGame() && (this.node.position = new r(0, 60, 0), this.node.active = !0, c(this.node).to(.2, {
                        position: new r(0, -60, 0)
                    }, {
                        easing: "quartOut"
                    }).start()) : (this.node.position = new r(0, -60, 0), c(this.node).to(.15, {
                        position: new r(0, 60, 0)
                    }).call((function() {
                        return t.node.active = !1
                    })).start())
                }, o.onKeyUp = function(e) {
                    if (this.node.active && !e.isStopped()) switch (e.keyCode) {
                        case s.ESCAPE:
                            this.onReturnToPlayer()
                    }
                }, n
            }(l)) || p);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UISpectatorsList.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./UserNameplate.ts"], (function(e) {
    var t, r, s, i, n, a, o, l, u, c, f, h, d, b, m, p, U, I;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, r = e.inheritsLoose, s = e.initializerDefineProperty, i = e.assertThisInitialized, n = e.createForOfIteratorHelperLoose
        }, function(e) {
            a = e.cclegacy, o = e._decorator, l = e.Prefab, u = e.Node, c = e.CCInteger, f = e.Label, h = e.instantiate, d = e.Component
        }, function(e) {
            b = e.GameManager
        }, function(e) {
            m = e.cUserJoined, p = e.cUserLeft, U = e.cPlayersUpdate
        }, function(e) {
            I = e.UserNameplate
        }],
        execute: function() {
            var L, y, g, v, x, P, N, G, M, _, z, V, C;
            a._RF.push({}, "41a69qjPTZNWIfrojuAIR1Z", "UISpectatorsList", void 0);
            var E = o.ccclass,
                w = o.property;
            e("UISpectatorsList", (L = E("UISpectatorsList"), y = w(l), g = w(u), v = w(c), x = w(f), P = w(u), L((M = t((G = function(e) {
                function t() {
                    for (var t, r = arguments.length, n = new Array(r), a = 0; a < r; a++) n[a] = arguments[a];
                    return t = e.call.apply(e, [this].concat(n)) || this, s(t, "listItemPrefab", M, i(t)), s(t, "userListRoot", _, i(t)), s(t, "maxNumVisiblePlayers", z, i(t)), s(t, "extraUsersLabel", V, i(t)), s(t, "extraUsersBG", C, i(t)), t._listItems = [], t
                }
                r(t, e);
                var a = t.prototype;
                return a.onLoad = function() {
                    var e = b.Instance;
                    e.currentMode.node.on(m, this.onUserJoined.bind(this)), e.currentMode.node.on(p, this.onUserLeft.bind(this)), e.currentMode.node.on(U, this.onPlayersUpdate.bind(this))
                }, a.onEnable = function() {
                    var e = this;
                    b.Instance.currentMode.GetNetGame().users.forEach((function(t) {
                        e.onUserJoined(t)
                    }))
                }, a.onPlayersUpdate = function(e) {
                    var t = this;
                    e.forEach((function(e) {
                        e.getUser() && t.onUserLeft(e.getUser())
                    })), this.refreshUserList()
                }, a.refreshUserList = function() {
                    for (var e, t = b.Instance.currentMode, r = t.GetNetGame().users, s = t.GetPlayers(), i = n(r); !(e = i()).done;) {
                        var a = e.value,
                            o = (a[0], a[1]);
                        if (!(this._listItems.length < this.maxNumVisiblePlayers)) break;
                        s.has(o.id) || this.addUser(o)
                    }
                    this.refreshExtraUsersLabel()
                }, a.refreshExtraUsersLabel = function() {
                    var e = this.usersNotVisible();
                    this.extraUsersLabel.node.active = e > 0, this.extraUsersBG.active = e > 0, this.extraUsersLabel.string = "+" + e
                }, a.onUserJoined = function(e) {
                    b.Instance.currentMode.GetPlayers().has(e.id) || (this.addUser(e), this.refreshExtraUsersLabel())
                }, a.addUser = function(e) {
                    if (!(this._listItems.length >= this.maxNumVisiblePlayers) && this._listItems.findIndex((function(t) {
                            return e.id == t.getComponent(I).userId
                        })) < 0) {
                        var t = h(this.listItemPrefab);
                        t.getComponent(I).setUser(e), this._listItems.push(t), this.userListRoot.addChild(t)
                    }
                }, a.onUserLeft = function(e) {
                    var t = this._listItems.findIndex((function(t) {
                        return e.id == t.getComponent(I).userId
                    }));
                    if (t >= 0) {
                        var r = this._listItems[t];
                        this._listItems.splice(t, 1), r.removeFromParent(), r.destroy(), this.usersNotVisible() > 0 && this.refreshUserList()
                    }
                    this.refreshExtraUsersLabel()
                }, a.usersNotVisible = function() {
                    var e = b.Instance.currentMode,
                        t = e.GetNetGame().users,
                        r = e.GetPlayers();
                    return Math.max(t.size - r.size - this.maxNumVisiblePlayers, 0)
                }, t
            }(d)).prototype, "listItemPrefab", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), _ = t(G.prototype, "userListRoot", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), z = t(G.prototype, "maxNumVisiblePlayers", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 8
                }
            }), V = t(G.prototype, "extraUsersLabel", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), C = t(G.prototype, "extraUsersBG", [P], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), N = G)) || N));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIThermalInfo.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Discord.mjs", "./events.mjs", "./common.mjs", "./responses.mjs", "./Constants.mjs", "./BigFlagUtils.mjs", "./decimal.mjs", "./PriceConstants.mjs", "./index2.mjs", "./BigInteger.mjs", "./index5.mjs", "./tslib.es6.mjs", "./activity.ts"], (function(t) {
    var e, r, l, n, i, a, o, s, h, c, m;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, r = t.inheritsLoose, l = t.initializerDefineProperty, n = t.assertThisInitialized
        }, function(t) {
            i = t.cclegacy, a = t._decorator, o = t.Label, s = t.Color, h = t.Component
        }, null, null, function(t) {
            c = t.ThermalStateTypeObject
        }, null, null, null, null, null, null, null, null, null, function(t) {
            m = t.default
        }],
        execute: function() {
            var u, T, p, f, g, C, b, I, S, d, j;
            i._RF.push({}, "1a80aD/WFVIML1mFYWkztWD", "UIThermalInfo", void 0);
            var y = a.ccclass,
                w = a.property;
            t("UIThermalInfo", (u = y("UIThermalInfo"), T = w(o), p = w(s), f = w(s), g = w(s), u((I = e((b = function(t) {
                function e() {
                    for (var e, r = arguments.length, i = new Array(r), a = 0; a < r; a++) i[a] = arguments[a];
                    return e = t.call.apply(t, [this].concat(i)) || this, l(e, "ThermalState", I, n(e)), l(e, "okColor", S, n(e)), l(e, "warnColor", d, n(e)), l(e, "criticalColor", j, n(e)), e
                }
                r(e, t);
                var i = e.prototype;
                return i.start = function() {
                    this.node.active = m.thermalStateIsEnabled, m.onThermalsChanged = this.onThermalsChanged.bind(this)
                }, i.onThermalsChanged = function(t, e) {
                    this.node.active = t, e == c.NOMINAL ? (this.ThermalState.string = "Thermal:Nominal", this.ThermalState.color = this.okColor) : e == c.FAIR ? (this.ThermalState.string = "Thermal:Fair", this.ThermalState.color = this.okColor) : e == c.SERIOUS ? (this.ThermalState.string = "Thermal:Serious", this.ThermalState.color = this.warnColor) : e == c.CRITICAL ? (this.ThermalState.string = "Thermal:Critical", this.ThermalState.color = this.criticalColor) : (this.ThermalState.string = "Thermal:Unknown", this.ThermalState.color = s.WHITE)
                }, e
            }(h)).prototype, "ThermalState", [T], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = e(b.prototype, "okColor", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s(0, 200, 0)
                }
            }), d = e(b.prototype, "warnColor", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s(255, 150, 0)
                }
            }), j = e(b.prototype, "criticalColor", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new s(200, 0, 0)
                }
            }), C = b)) || C));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UITimeRunningOutOnHole.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts", "./UIPlayerInfoBase.ts"], (function(e) {
    var i, o, t, n, l, s, a, r, h;
    return {
        setters: [function(e) {
            i = e.inheritsLoose
        }, function(e) {
            o = e.cclegacy, t = e._decorator, n = e.tween, l = e.Vec3
        }, function(e) {
            s = e.GameManager
        }, function(e) {
            a = e.GameState, r = e.PlayerPhase
        }, function(e) {
            h = e.UIPlayerInfoBase
        }],
        execute: function() {
            var c;
            o._RF.push({}, "78bdem/j8VMdLbBq8XTxSi8", "UITimeRunningOutOnHole", void 0);
            var f = t.ccclass;
            t.property, e("UITimeRunningOutOnHole", f("UITimeRunningOutOnHole")(c = function(e) {
                function o() {
                    for (var i, o = arguments.length, t = new Array(o), n = 0; n < o; n++) t[n] = arguments[n];
                    return (i = e.call.apply(e, [this].concat(t)) || this).cHiddenPosition = new l(0, -400, 0), i.cVisiblePosition = new l(0, -320, 0), i._localGolfPlayer = void 0, i._isShowing = !1, i._golfMode = void 0, i
                }
                i(o, e);
                var t = o.prototype;
                return t.start = function() {
                    this._golfMode = s.Instance.currentMode, this.node.position = this.cHiddenPosition
                }, t.onPlayerStateUpdateInternal = function(e, i) {
                    this.refreshLocalPlayer(i)
                }, t.onPlayersUpdateInternal = function(e) {
                    this.refreshLocalPlayer(e)
                }, t.refreshLocalPlayer = function(e) {
                    if (this._localGolfPlayer) this._localGolfPlayer && !e.has(this._localGolfPlayer.netPlayer.uid) && (this._localGolfPlayer = null, this.hide());
                    else {
                        var i = e.get(this._golfMode.GetLocalPlayerId());
                        i && (this._localGolfPlayer = i.localState.golfPlayer, this.node.position = this.cHiddenPosition, this._isShowing = !1)
                    }
                }, t.update = function(e) {
                    if (this._localGolfPlayer && this._golfMode.gameState == a.Play) {
                        var i = this._localGolfPlayer.netPlayer.state.phase == r.HoleDone || this._localGolfPlayer.netPlayer.state.phase == r.GameOver;
                        i || this._isShowing || !this._golfMode.holeTimeoutWarning ? !this._isShowing || this._golfMode.holeTimeoutWarning && !i || this.hide() : this.show()
                    } else this._isShowing && this.hide()
                }, t.show = function() {
                    this._isShowing = !0, n(this.node).to(.15, {
                        position: this.cVisiblePosition
                    }).start()
                }, t.hide = function() {
                    this._isShowing = !1, n(this.node).to(.15, {
                        position: this.cHiddenPosition
                    }).start()
                }, o
            }(h)) || c);
            o._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UITournamentButton.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GolfMode.ts"], (function(t) {
    var e, n, o, a, r, u, c, i;
    return {
        setters: [function(t) {
            e = t.inheritsLoose
        }, function(t) {
            n = t.cclegacy, o = t._decorator, a = t.Component
        }, function(t) {
            r = t.GameManager
        }, function(t) {
            u = t.cGameStateUpdate, c = t.GameState, i = t.GameplayMode
        }],
        execute: function() {
            var s;
            n._RF.push({}, "4080d5NbpdExqVto10hapOK", "UITournamentButton", void 0);
            var p = o.ccclass;
            o.property, t("UITournamentButton", p("UITournamentButton")(s = function(t) {
                function n() {
                    return t.apply(this, arguments) || this
                }
                e(n, t);
                var o = n.prototype;
                return o.start = function() {
                    r.Instance.currentMode.node.on(u, this.onGameStateUpdate.bind(this)), this.node.active = !1
                }, o.onGameStateUpdate = function(t) {
                    var e = r.Instance.currentMode;
                    this.node.active = t == c.Play && e.gameplayMode == i.Tournament
                }, n
            }(a)) || s);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UIWorldspaceNameplate.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts", "./physics.ts", "./gameManager.ts", "./StatusEffectManager.ts"], (function(e) {
    var t, a, i, n, s, o, r, l, c, f, u, h, d, p, v, m, y, S, g, I, E, b, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, a = e.inheritsLoose, i = e.initializerDefineProperty, n = e.assertThisInitialized
        }, function(e) {
            s = e.cclegacy, o = e._decorator, r = e.UITransform, l = e.Vec3, c = e.Vec2, f = e.Node, u = e.Sprite, h = e.clamp, d = e.lerp, p = e.PhysicsSystem, v = e.tween, m = e.input, y = e.Input, S = e.Component
        }, function(e) {
            g = e.isMobile
        }, function(e) {
            I = e.PhysicsGroups
        }, function(e) {
            E = e.GameManager
        }, function(e) {
            b = e.cOnStatusEffectAddedToTarget, w = e.cOnStatusEffectRemovedFromTarget
        }],
        execute: function() {
            var P, R, M, _, A, x, z, D, O, T, U, H, C, F;
            s._RF.push({}, "c0f87cIPSNDlLdSaGa29Mgr", "UIWorldspaceNameplate", void 0);
            var L = o.ccclass,
                V = o.property,
                N = o.executionOrder,
                W = e("cRefreshLayoutEvent", "RefreshLayout");
            e("UIWorldspaceNameplate", (P = L("UIWorldspaceNameplate"), R = N(100), M = V(r), _ = V(l), A = V(c), x = V(f), P(z = R((O = t((D = function(e) {
                function t() {
                    for (var t, a = arguments.length, s = new Array(a), o = 0; o < a; o++) s[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(s)) || this, i(t, "avatar", O, n(t)), i(t, "offset", T, n(t)), i(t, "scaleRange", U, n(t)), i(t, "maxDistance", H, n(t)), i(t, "autoHideDistance", C, n(t)), i(t, "activeStatusEffectsRoot", F, n(t)), t.margin = 10, t.timeIndex = null, t.mousePos = new c, t.isActive = !1, t.desiredVisibility = !0, t.wantedPosition = new l, t.wantedScale = new l(1, 1, 1), t.nameplate = null, t._activeStatusEffectIcons = void 0, t._startActive = !1, t._isInitialized = !1, t
                }
                a(t, e);
                var s = t.prototype;
                return s.start = function() {
                    this._isInitialized = !0, this._activeStatusEffectIcons = this.activeStatusEffectsRoot.getComponentsInChildren(u), this._activeStatusEffectIcons = this._activeStatusEffectIcons.filter((function(e) {
                        return null == e.spriteFrame
                    })), this.onRefreshedPlayerInfo();
                    var e = E.Instance.currentMode;
                    if (e.statusEffectManager.node.on(b, this.onStatusEffectAdded, this), e.statusEffectManager.node.on(w, this.onStatusEffectRemoved, this), this._startActive) this.disableHoverOver(), this.show(), this._startActive = !1;
                    else {
                        for (var t = 0; t < this.node.children.length; t++) this.node.children[t].active = !1;
                        this.enableHoverOver()
                    }
                }, s.onDestroy = function() {
                    var e = E.Instance.currentMode;
                    e.statusEffectManager.node.off(b, this.onStatusEffectAdded, this), e.statusEffectManager.node.off(w, this.onStatusEffectRemoved, this)
                }, s.lateUpdate = function(e) {
                    var t;
                    if (null != (null == (t = this.nameplate) ? void 0 : t.player)) {
                        var a = E.Instance.currentMode;
                        if (a.localGolfPlayer && a.localGolfPlayer.ballVisual) {
                            var i = this.nameplate.player.localState.visual,
                                n = a.localGolfPlayer.ballVisual.node.worldPosition,
                                s = null == i ? void 0 : i.node.worldPosition;
                            if (s && n) {
                                var o = i && i.inHole,
                                    r = l.distance(s, n) <= this.autoHideDistance;
                                (this.isActive || this.desiredVisibility) && (o || r ? this.hide() : o || r || this.show())
                            }
                        }
                        this.isActive && (this.calculateWantedPositionAndScale(), this.node.position = this.wantedPosition, this.node.setScale(this.wantedScale))
                    }
                }, s.onStatusEffectAdded = function(e, t, a) {
                    var i = e.target.owner;
                    this.nameplate && i && i.uid == this.nameplate.playerId && this.onRefreshedPlayerInfo()
                }, s.onStatusEffectRemoved = function(e, t) {
                    var a = e.target.owner;
                    this.nameplate && a && a.uid == this.nameplate.playerId && this.onRefreshedPlayerInfo()
                }, s.attachToPlayer = function(e) {
                    this.onRefreshedPlayerInfo()
                }, s.onRefreshedPlayerInfo = function() {
                    this.nameplate && this._isInitialized && (this.refreshStatusEffects(), this.node.emit(W))
                }, s.refreshStatusEffects = function() {
                    var e;
                    if (null != (e = this.nameplate) && e.player) {
                        var t = this.nameplate.player.localState.golfPlayer.statusEffects.activeStatusEffects;
                        this.activeStatusEffectsRoot.active = this.isActive && t.length > 0;
                        for (var a = 0; a < this._activeStatusEffectIcons.length; ++a) {
                            var i = this._activeStatusEffectIcons[a];
                            a < t.length ? (i.node.active = !0, i.spriteFrame = t[a].statusEffectRef.icon) : (i.spriteFrame = null, i.node.active = !1)
                        }
                    }
                }, s.calculateWantedPositionAndScale = function() {
                    if (this.nameplate && this.nameplate.player) {
                        var e = this.nameplate.player.localState.visual;
                        if (e && e.node) {
                            this.wantedPosition = E.Instance.currentCamera.convertToUINode(e.posLastFrame.clone().add(this.offset), E.Instance.ui);
                            var t = l.distance(e.posLastFrame, E.Instance.currentCamera.node.position),
                                a = h(t, 0, this.maxDistance) / this.maxDistance,
                                i = d(this.scaleRange.x, this.scaleRange.y, a);
                            this.wantedScale = new l(i, i, i)
                        }
                    }
                }, s.onMouseMove = function(e) {
                    var t, a = this;
                    null != (t = this.nameplate) && t.player && this.nameplate.player.localState.visual && (e.getLocation(this.mousePos), null != this.timeIndex && clearTimeout(this.timeIndex), this.timeIndex = setTimeout((function() {
                        if (a.mousePos) {
                            var e = E.Instance.currentCamera.screenPointToRay(a.mousePos.x, a.mousePos.y);
                            if (p.instance.raycastClosest(e, I.BallPick)) {
                                var t = a.nameplate.player.localState.visual,
                                    i = p.instance.raycastClosestResult.collider;
                                i.node == t.node || i.node.parent == t.node ? a.show() : a.hide()
                            } else a.hide()
                        }
                    }), 100), e.bubbles = !0)
                }, s.hide = function() {
                    for (var e = 0; e < this.node.children.length; e++) this.node.children[e].active = !1;
                    this.isActive = !1
                }, s.show = function() {
                    var e = this;
                    if (!this.isActive) {
                        this._isInitialized || (this._startActive = !0);
                        for (var t = 0; t < this.node.children.length; t++) this.node.children[t].active = !0;
                        this.calculateWantedPositionAndScale(), this.node.setScale(0, 0, 0), this.node.position = this.wantedPosition, v(this.node).to(.04, {
                            scale: new l(0, 0, 0)
                        }).call((function() {
                            e.nameplate.setUser(e.nameplate.player)
                        })).to(.3, {
                            scale: this.wantedScale
                        }, {
                            easing: "backOut"
                        }).call((function() {
                            e.isActive = !0, e.refreshStatusEffects()
                        })).start()
                    }
                }, s.disableHoverOver = function() {
                    g() || m.off(y.EventType.MOUSE_MOVE, this.onMouseMove, this)
                }, s.enableHoverOver = function() {
                    g() || m.on(y.EventType.MOUSE_MOVE, this.onMouseMove, this)
                }, t
            }(S)).prototype, "avatar", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), T = t(D.prototype, "offset", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new l
                }
            }), U = t(D.prototype, "scaleRange", [A], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return new c
                }
            }), H = t(D.prototype, "maxDistance", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 120
                }
            }), C = t(D.prototype, "autoHideDistance", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 3
                }
            }), F = t(D.prototype, "activeStatusEffectsRoot", [x], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), z = D)) || z) || z));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/UserNameplate.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts"], (function(e) {
    var a, t, r, i, n, s, u, o, l, c, h, m;
    return {
        setters: [function(e) {
            a = e.applyDecoratedDescriptor, t = e.inheritsLoose, r = e.initializerDefineProperty, i = e.assertThisInitialized, n = e.createClass
        }, function(e) {
            s = e.cclegacy, u = e._decorator, o = e.Sprite, l = e.Label, c = e.CCInteger, h = e.Component
        }, function(e) {
            m = e.GameManager
        }],
        execute: function() {
            var p, v, f, d, g, _, y, C, b;
            s._RF.push({}, "ed9d1vxw5xEvqpEi603Mg2K", "UserNameplate", void 0);
            var I = u.ccclass,
                N = u.property;
            e("UserNameplate", (p = I("UserNameplate"), v = N(o), f = N(l), d = N({
                type: c,
                step: 1
            }), p((y = a((_ = function(e) {
                function a() {
                    for (var a, t = arguments.length, n = new Array(t), s = 0; s < t; s++) n[s] = arguments[s];
                    return a = e.call.apply(e, [this].concat(n)) || this, r(a, "avatarImage", y, i(a)), r(a, "userName", C, i(a)), r(a, "maxNameCharCount", b, i(a)), a._user = void 0, a._initialized = !1, a
                }
                t(a, e);
                var s = a.prototype;
                return s.start = function() {
                    this._initialized = !0, this.refreshUserInfo()
                }, s.setUser = function(e) {
                    this._user && this._user != e && this.cancelAvatarRequest(), this._user = e, this._initialized && this.refreshUserInfo()
                }, s.refreshUserInfo = function() {
                    if (this._user) {
                        if (this.userName) {
                            var e = this._user.username;
                            this.maxNameCharCount > 0 && e.length > this.maxNameCharCount && (e = e.slice(0, this.maxNameCharCount) + "..."), this.userName.string = e
                        }
                        this._user.avatar_url && m.Instance.avatarManager.requestAvatarSpriteFrame(this._user.avatar_url, this.onAvatarLoaded.bind(this))
                    }
                }, s.onAvatarLoaded = function(e) {
                    e && this.avatarImage && (this.avatarImage.node.active = !0, this.avatarImage.spriteFrame = e)
                }, s.cancelAvatarRequest = function() {
                    this._user && m.Instance.avatarManager.cancelAvatarRequest(this._user.avatar_url, this.onAvatarLoaded.bind(this))
                }, s.onDestroy = function() {
                    this.cancelAvatarRequest()
                }, n(a, [{
                    key: "userId",
                    get: function() {
                        var e;
                        return null == (e = this._user) ? void 0 : e.id
                    }
                }]), a
            }(h)).prototype, "avatarImage", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), C = a(_.prototype, "userName", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), b = a(_.prototype, "maxNameCharCount", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return -1
                }
            }), g = _)) || g));
            s._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/utils.ts", ["cc"], (function(t) {
    var n, r, e, o;
    return {
        setters: [function(t) {
            n = t.cclegacy, r = t.Vec3, e = t.sys, o = t.js
        }],
        execute: function() {
            t({
                DGEvent: function(t, n) {
                    t.dgEventList || (t.dgEventList = []);
                    return t.dgEventList.push(n), t[n] = n, t
                },
                formatTime: function(t) {
                    var n = t / 1e3,
                        r = Math.trunc(n / 60),
                        e = Math.trunc(n % 60);
                    return r + ":" + i(e, 2)
                },
                getComponentInParent: function(t, n) {
                    var r, e = t;
                    for (; e && !(r = e.getComponent(n));) e = e.getParent();
                    return r
                },
                getComponentInParentByName: function(t, n) {
                    var r, e = t;
                    for (; e && !(r = e.getComponent(n));) e = e.getParent();
                    return r
                },
                getEventsDispatchedByClass: a,
                getEventsDispatchedByNode: function(t) {
                    var n = t.getComponents("cc.Component"),
                        r = [];
                    for (var e in n) {
                        var i = n[e].__classname__,
                            s = a(o.getClassByName(i));
                        s.length > 0 && (r = r.concat(s))
                    }
                    return r
                },
                getInterfaceSupportComponents: function(t, n) {
                    var r = [];
                    for (var e in t.components) {
                        var o = t.components[e];
                        n in o && r.push(o)
                    }
                    return r
                },
                padNumber: i,
                proxyUrl: c
            }), n._RF.push({}, "22b7a0rQsBLt42acbtx98Ff", "utils", void 0);
            t("SMALL_SCALE", new r(.01, .01, .01)), t("generateRandomString", (function() {
                var t = new Uint32Array(28);
                return window.crypto.getRandomValues(t), Array.from(t, (function(t) {
                    return ("0" + t.toString(16)).substr(-2)
                })).join("")
            })), t("inIFrame", (function() {
                try {
                    return window.self !== window.top
                } catch (t) {
                    return !0
                }
            })), t("isLocalhost", (function() {
                return "localhost" === window.location.hostname
            })), t("isUsingProxy", (function() {
                return !!window.location.hostname.includes("discordsays")
            })), t("isMobile", (function() {
                return !!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || (e.os == e.OS.IOS || e.os == e.OS.ANDROID)
            }));

            function i(t, n) {
                for (var r = t.toString(); r.length < n;) r = "0" + r;
                return r
            }

            function a(t) {
                var n = [];
                return t.dgEventList && (n = t.dgEventList), n
            }
            var s = [{
                    key: new RegExp("https://(.+)\\.ingest\\.sentry\\.io/"),
                    target: function(t) {
                        return ".proxy/sentry/" + (t && t.length ? t[0] : "invalid") + "/"
                    }
                }],
                u = window.fetch;

            function c(t, n) {
                if (void 0 === n && (n = ""), !window._PuttEnv.app_id) throw new Error("Missing Application ID");
                return t + "://" + window._PuttEnv.app_id + ".discordsays.com/.proxy" + n
            }
            window.fetch = function(t, n) {
                var r = g(t.toString(), "https", s);
                return u(r, n)
            };
            var g = function(t, n, r) {
                for (var e = t, o = 0, i = r.length; o < i; ++o) {
                    var a = r[o];
                    if ("string" == typeof a.key) {
                        if (e.startsWith(a.key)) {
                            var s = a.target();
                            e = "" + c(n) + s + t.substr(a.key.length);
                            break
                        }
                    } else {
                        var u = e.match(a.key);
                        if (u) {
                            var g = a.target(u.slice(1));
                            e = "" + c(n) + g + t.substr(u[0].length);
                            break
                        }
                    }
                }
                return e
            };
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/VictoryScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function(e) {
    var t, n, r, a, i, o, c, l, s, u, b, y;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, a = e.assertThisInitialized
        }, function(e) {
            i = e.cclegacy, o = e._decorator, c = e.Node, l = e.Label, s = e.Sprite, u = e.tween, b = e.Vec3, y = e.Component
        }],
        execute: function() {
            var f, p, d, h, g, w, v, k, m, x, z, T, B, E, V, S, A, I;
            i._RF.push({}, "fcd47C8blNKH54/xsXry7PI", "VictoryScreen", void 0);
            var O = o.ccclass,
                _ = o.property;
            e("VictoryScreen", (f = O("VictoryScreen"), p = _(c), d = _(l), h = _(l), g = _(s), w = _(c), v = _(c), k = _([c]), f((z = t((x = function(e) {
                function t() {
                    for (var t, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                    return t = e.call.apply(e, [this].concat(i)) || this, r(t, "victoryBanner", z, a(t)), r(t, "foregroundText", T, a(t)), r(t, "backgroundText", B, a(t)), r(t, "icon", E, a(t)), r(t, "avatar", V, a(t)), r(t, "backBanner", S, a(t)), r(t, "starArray", A, a(t)), r(t, "delayedEntrance", I, a(t)), t
                }
                n(t, e);
                var i = t.prototype;
                return i.onEnable = function() {
                    this.resetValues(), this.animIn()
                }, i.setText = function(e) {
                    this.backgroundText && (this.backgroundText.string = e), this.foregroundText && (this.foregroundText.string = e)
                }, i.setIconColor = function(e) {
                    this.icon && (this.icon.color = e)
                }, i.animIn = function() {
                    var e = this;
                    u(this.avatar).set({
                        scale: new b(0, 0, 0)
                    }).delay(this.delayedEntrance).to(.4, {
                        scale: new b(1, 1, 0)
                    }, {
                        easing: "backOut"
                    }).start(), u(this.victoryBanner).set({
                        scale: new b(0, 0, 0)
                    }).delay(this.delayedEntrance + .3).to(.3, {
                        scale: new b(1, 1, 0)
                    }, {
                        easing: "backOut"
                    }).call((function() {
                        u(e.backBanner).set({
                            scale: new b(0, 0, 0)
                        }).to(.5, {
                            scale: new b(1, 1, 0)
                        }, {
                            easing: "backOut"
                        }).start()
                    })).start(), this.starArray.forEach((function(t, n) {
                        u(t).set({
                            scale: new b(0, 0, 0)
                        }).delay(e.delayedEntrance + .6 + .2 * n).to(.3, {
                            scale: new b(1, 1, 0)
                        }, {
                            easing: "backOut"
                        }).start()
                    }))
                }, i.resetValues = function() {
                    this.avatar.scale = new b(0, 0, 0), this.victoryBanner.scale = new b(0, 0, 0), this.backBanner.scale = new b(0, 0, 0), this.starArray.forEach((function(e) {
                        e.scale = new b(0, 0, 0)
                    }))
                }, t
            }(y)).prototype, "victoryBanner", [p], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), T = t(x.prototype, "foregroundText", [d], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), B = t(x.prototype, "backgroundText", [h], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), E = t(x.prototype, "icon", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), V = t(x.prototype, "avatar", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), S = t(x.prototype, "backBanner", [v], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), A = t(x.prototype, "starArray", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), I = t(x.prototype, "delayedEntrance", [_], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .2
                }
            }), m = x)) || m));
            i._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/VictoryScreenHolder.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlayerNameplate.ts"], (function(e) {
    var t, i, n, r, a, s, o, l, c, u, h, p;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, s = e._decorator, o = e.Node, l = e.Tween, c = e.Vec3, u = e.tween, h = e.Component
        }, function(e) {
            p = e.PlayerNameplate
        }],
        execute: function() {
            var d, y, f, g, m, w, b, v, N;
            a._RF.push({}, "f53f0bWkpZBGombUaxglIaC", "VictoryScreenHolder", void 0);
            var S = s.ccclass,
                B = s.property;
            e("VictoryScreenHolder", (d = S("VictoryScreenHolder"), y = B(o), f = B(o), g = B([p]), d((b = t((w = function(e) {
                function t() {
                    for (var t, i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                    return t = e.call.apply(e, [this].concat(a)) || this, n(t, "ScoreBoard", b, r(t)), n(t, "shroud", v, r(t)), n(t, "winnerNameplates", N, r(t)), t.isAnimating = !1, t
                }
                i(t, e);
                var a = t.prototype;
                return a.setWinners = function(e) {
                    for (var t = 0; t < this.winnerNameplates.length; ++t) this.winnerNameplates[t].node.active = t < e.length, this.winnerNameplates[t].node.active && this.winnerNameplates[t].setUser(e[t])
                }, a.onDisable = function() {
                    l.stopAllByTarget(this.shroud), l.stopAllByTarget(this.node), this.isAnimating = !1, this.ScoreBoard.active = !0
                }, a.onEnable = function() {
                    var e = this;
                    this.isAnimating || (this.node.active = !0, this.isAnimating = !0, this.ScoreBoard.active = !1, this.shroud.scale = new c(0, this.shroud.scale.y, 0), u(this.shroud).to(.5, {
                        scale: new c(1, this.shroud.scale.y, 0)
                    }, {
                        easing: "backOut"
                    }).start(), u(this.shroud).delay(4.9).to(.3, {
                        scale: new c(0, this.shroud.scale.y, 0)
                    }, {
                        easing: "quartIn"
                    }).start(), u(this.node).set({
                        scale: new c(1, 1, 1)
                    }).delay(5).to(.2, {
                        scale: new c(1.1, 1.1, 1.1)
                    }, {
                        easing: "quartOut"
                    }).to(.2, {
                        scale: new c(0, 0, 0)
                    }, {
                        easing: "quartIn"
                    }).call((function() {
                        e.node.active = !1
                    })).start())
                }, t
            }(h)).prototype, "ScoreBoard", [y], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), v = t(w.prototype, "shroud", [f], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), N = t(w.prototype, "winnerNameplates", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), m = w)) || m));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/VirtualCamera.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./utils.ts"], (function(t) {
    var e, o, n, i, a, r, s, c, l, u, h, m, d, p, f;
    return {
        setters: [function(t) {
            e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
        }, function(t) {
            a = t.cclegacy, r = t._decorator, s = t.Vec3, c = t.Node, l = t.CCFloat, u = t.Vec2, h = t.input, m = t.Input, d = t.Component
        }, function(t) {
            p = t.GameManager
        }, function(t) {
            f = t.isMobile
        }],
        execute: function() {
            var v, g, w, _, b, C, y, M, P, T, A, D;
            a._RF.push({}, "e7c4d8ghvxN0aeVzW6gv/Wv", "VirtualCamera", void 0);
            var S = r.ccclass,
                I = r.property,
                z = t("cOnVirtualCameraEnableChange", "on-virtual-camera-enable-change"),
                V = t("cOnVirtualCameraMoveStart", "cam-move-start"),
                E = t("cOnVirtualCameraMoveStop", "cam-move-stop"),
                U = t("CameraState", (function() {
                    this.prevPosition = void 0, this.prevRotation = void 0, this.position = void 0, this.rotation = void 0, this.lookAtPos = new s
                }));
            t("VirtualCamera", (v = S("VirtualCamera"), g = I(c), w = I(l), v((C = e((b = function(t) {
                function e() {
                    for (var e, o = arguments.length, a = new Array(o), r = 0; r < o; r++) a[r] = arguments[r];
                    return e = t.call.apply(t, [this].concat(a)) || this, n(e, "priority", C, i(e)), n(e, "fov", y, i(e)), n(e, "near", M, i(e)), n(e, "far", P, i(e)), n(e, "focalDistance", T, i(e)), n(e, "target", A, i(e)), n(e, "mouseInputSpeed", D, i(e)), e._isActiveCamera = !1, e.reorientFromPrevCamera = !0, e._cameraState = new U, e._isMouseDown = !1, e._mouseMove = new u, e.rad2deg = Math.PI / 180, e._curPos0 = new u, e._curPos1 = new u, e._startLen = 0, e
                }
                o(e, t);
                var a = e.prototype;
                return a.start = function() {
                    f() || h.on(m.EventType.MOUSE_WHEEL, this.onMouseWheel, this), h.on(m.EventType.TOUCH_START, this.onTouchDown, this), h.on(m.EventType.TOUCH_END, this.onTouchUp, this), h.on(m.EventType.TOUCH_MOVE, this.onTouchMove, this), this._cameraState.position = this.node.worldPosition, this._cameraState.prevPosition = this._cameraState.position, this._cameraState.rotation = this.node.worldRotation, this._cameraState.prevRotation = this._cameraState.rotation
                }, a.onEnable = function() {
                    null != p.Instance.cameraBrain && p.Instance.cameraBrain.AddCamera(this), this.node.emit(z, !0)
                }, a.onDisable = function() {
                    null != p.Instance.cameraBrain && p.Instance.cameraBrain.RemoveCamera(this), this.node.emit(z, !1)
                }, a.setActive = function(t) {
                    this._isActiveCamera = t, t || this.onUp()
                }, a.releaseCameraControl = function() {
                    this.onUp()
                }, a.onDown = function() {
                    this._isMouseDown = !0, this.node.emit(V)
                }, a.onTouchDown = function(t) {
                    if (this._isActiveCamera && p.Instance.cameraBrain.AllowedToControlCamera) {
                        var e = t.getAllTouches();
                        1 == e.length ? (p.Instance.currentMode.IsLocalPlayerInGame(), this.onDown()) : 2 == e.length && (e[0].getLocation(this._curPos0), e[1].getLocation(this._curPos1), this._startLen = u.distance(this._curPos0, this._curPos1)), t.bubbles = !1
                    }
                }, a.onMove = function(t) {
                    var e;
                    if (this._isMouseDown && (this._mouseMove = t, null != (e = this.target) && e.isValid)) {
                        var o = this._mouseMove.x * this.mouseInputSpeed * -.04 * this.rad2deg;
                        this.rotateCameraAroundY(o)
                    }
                }, a.onTouchMove = function(t) {
                    if (this._isActiveCamera) {
                        var e = t.getDelta();
                        f() || (e.y *= -1), this.onMove(e)
                    }
                }, a.onUp = function() {
                    this._isMouseDown = !1, this.node.emit(E)
                }, a.onTouchUp = function(t) {
                    this._isActiveCamera && (this.onUp(), t.bubbles = !0)
                }, a.onMouseWheel = function(t) {}, a.changeZoom = function(t) {
                    console.warn("this is not going well")
                }, a.getFocalPoint = function() {
                    return this.node.worldPosition.clone().add(this.node.forward.clone().multiplyScalar(this.focalDistance))
                }, a.onAboutToTransitionTo = function(t) {
                    if (null != t && this.target && this.target.isValid && this.reorientFromPrevCamera && t != this) {
                        var e = t.node.forward.clone();
                        e.y = 0, e = e.normalize();
                        var o = t.node.right.clone();
                        o.y = 0, o = o.normalize();
                        var n = this.node.forward.clone();
                        n.y = 0, n = n.normalize();
                        var i = s.angle(e, n) * Math.sign(s.dot(o, n));
                        this.rotateCameraAroundY(i)
                    }
                }, a.rotateCameraAroundY = function(t) {
                    var e = new s(0, 0, 0),
                        o = new s(0, 0, 0);
                    s.rotateY(e, this.node.worldPosition.clone(), this.target.worldPosition, t), s.rotateY(o, this.node.forward.clone(), s.ZERO, t), this.node.worldPosition = e, this.node.lookAt(o.add(this.node.worldPosition))
                }, e
            }(d)).prototype, "priority", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 0
                }
            }), y = e(b.prototype, "fov", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 45
                }
            }), M = e(b.prototype, "near", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return .1
                }
            }), P = e(b.prototype, "far", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 1e3
                }
            }), T = e(b.prototype, "focalDistance", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 90
                }
            }), A = e(b.prototype, "target", [g], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), D = e(b.prototype, "mouseInputSpeed", [w], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return 5
                }
            }), _ = b)) || _));
            a._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/VisibilityController.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./utils.ts"], (function(t) {
    var i, e, n, o, s, l, a, r, h;
    return {
        setters: [function(t) {
            i = t.applyDecoratedDescriptor, e = t.inheritsLoose
        }, function(t) {
            n = t.cclegacy, o = t._decorator, s = t.Tween, l = t.Vec3, a = t.tween, r = t.Component
        }, function(t) {
            h = t.DGEvent
        }],
        execute: function() {
            var d, c, f, u, v, w;
            n._RF.push({}, "fac8dhxALRPaIMQr2X9mUIF", "VisibilityController", void 0);
            var y = o.ccclass,
                _ = (o.property, t("VisState", function(t) {
                    return t[t.On = 0] = "On", t[t.Off = 1] = "Off", t[t.Hidding = 2] = "Hidding", t
                }({})));
            t("VisibilityController", y("VisibilityController")(((w = function(t) {
                function i() {
                    for (var i, e = arguments.length, n = new Array(e), o = 0; o < e; o++) n[o] = arguments[o];
                    return (i = t.call.apply(t, [this].concat(n)) || this)._state = _.Off, i._inShowCall = !1, i
                }
                e(i, t);
                var n = i.prototype;
                return n.isHidden = function() {
                    return this._state == _.Off || this._state == _.Hidding || !this.node.active
                }, n.onEnable = function() {
                    this._inShowCall || this._state != _.Off || this.showInstantly()
                }, n.onDisable = function() {
                    this._inShowCall || this._state == _.Off || this.hideInstantly()
                }, n.showInstantly = function() {
                    if (this.isHidden()) {
                        this._inShowCall = !0;
                        try {
                            this.node.active || (this.node.active = !0), s.stopAllByTarget(this.node), this._state = _.On, this.node.emit(i.evtShown)
                        } finally {
                            this._inShowCall = !1
                        }
                    }
                }, n.setStateToHidden = function() {
                    this._state = _.Off
                }, n.hideInstantly = function() {
                    if (this._state != _.Off) {
                        this._inShowCall = !0;
                        try {
                            s.stopAllByTarget(this.node);
                            var t = this._state;
                            this._state = _.Off, t != _.Hidding && this.node.emit(i.evtHiding), this.node.emit(i.evtHidden), this.node.active = !1
                        } finally {
                            this._inShowCall = !1
                        }
                    }
                }, n.showWithAnim = function() {
                    if (this.isHidden()) {
                        this._inShowCall = !0;
                        try {
                            this.node.active || (this.node.active = !0);
                            var t = this.node.scale.clone();
                            this.node.setScale(new l(.01, .01, .01)), a(this.node).to(.15, {
                                scale: new l(1.2 * t.x, 1.2 * t.y, 1.2 * t.z)
                            }).to(.15, {
                                scale: new l(1 * t.x, 1 * t.y, 1 * t.z)
                            }).start(), this._state = _.On, this.node.emit(i.evtShown)
                        } finally {
                            this._inShowCall = !1
                        }
                    }
                }, n.hideWithAnim = function() {
                    var t = this;
                    if (!this.isHidden()) {
                        this._inShowCall = !0;
                        try {
                            var e = this.node.scale.clone();
                            this.node.setScale(new l(1 * e.x, 1 * e.y, 1 * e.z)), a(this.node).to(.15, {
                                scale: new l(1.2 * e.x, 1.2 * e.y, 1.2 * e.z)
                            }).to(.15, {
                                scale: new l(.01, .01, .01)
                            }).call((function() {
                                t.onHideAnimComplete()
                            })).start(), this._state = _.Hidding, this.node.emit(i.evtHiding)
                        } finally {
                            this._inShowCall = !1
                        }
                    }
                }, n.onHideAnimComplete = function() {
                    this._state == _.Hidding && (this._state = _.Off, this.node.emit(i.evtHidden), this.node.active = !1)
                }, i
            }(r)).evtShown = void 0, w.evtHidden = void 0, w.evtHiding = void 0, i(c = w, "evtShown", [h], (f = (f = Object.getOwnPropertyDescriptor(c, "evtShown")) ? f.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return f
                }
            }), c), i(c, "evtHidden", [h], (u = (u = Object.getOwnPropertyDescriptor(c, "evtHidden")) ? u.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return u
                }
            }), c), i(c, "evtHiding", [h], (v = (v = Object.getOwnPropertyDescriptor(c, "evtHiding")) ? v.value : void 0, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                initializer: function() {
                    return v
                }
            }), c), d = c)) || d);
            n._RF.pop()
        }
    }
}));

System.register("chunks:///_virtual/VotingScreen.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./gameManager.ts", "./GameMode.ts", "./GameStateCourseSelect.ts", "./GolfMode.ts", "./LevelSelection.ts", "./PlayerNameplate.ts", "./UISpectatorsList.ts"], (function(e) {
    var t, n, o, i, a, r, s, l, u, c, d, h, g, f, v, p, b, m, y, S, P, z, C, _, w;
    return {
        setters: [function(e) {
            t = e.applyDecoratedDescriptor, n = e.inheritsLoose, o = e.initializerDefineProperty, i = e.assertThisInitialized
        }, function(e) {
            a = e.cclegacy, r = e._decorator, s = e.Button, l = e.Label, u = e.Node, c = e.Prefab, d = e.UITransform, h = e.Tween, g = e.tween, f = e.Vec3, v = e.instantiate, p = e.Component
        }, function(e) {
            b = e.GameManager
        }, function(e) {
            m = e.CannotJoinGameReason
        }, function(e) {
            y = e.cCourseSelectVoteCountUpdated
        }, function(e) {
            S = e.cGameCourseSelectBegin, P = e.cGameCourseSelectEnd, z = e.cPrimaryUserUpdate
        }, function(e) {
            C = e.LevelSelection
        }, function(e) {
            _ = e.PlayerNameplate
        }, function(e) {
            w = e.UISpectatorsList
        }],
        execute: function() {
            var L, M, V, I, W, G, B, k, U, D, E, N, Z, T, x, A, O, R, q, F, J;
            a._RF.push({}, "190feY3PB9ODpFnxqDVwjBN", "VotingScreen", void 0);
            var j = r.ccclass,
                H = r.property;
            e("VotingScreen", (L = j("VotingScreen"), M = H([C]), V = H(s), I = H(l), W = H(u), G = H(c), B = H(w), k = H(u), U = H(l), D = H(l), L((Z = t((N = function(e) {
                function t() {
                    for (var t, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    return t = e.call.apply(e, [this].concat(a)) || this, o(t, "zone", Z, i(t)), t.zones_used = 0, o(t, "backButton", T, i(t)), o(t, "countdownLabel", x, i(t)), o(t, "votePrompt", A, i(t)), o(t, "votingPlayerWidgetPrefab", O, i(t)), o(t, "spectatorList", R, i(t)), o(t, "background", q, i(t)), o(t, "gameStartsIn", F, i(t)), o(t, "gameLabel", J, i(t)), t.gameState = void 0, t._golfMode = void 0, t._votingPlayerWidgets = [], t._onVoteCooldown = !1, t
                }
                n(t, e);
                var a = t.prototype;
                return a.onLoad = function() {
                    this._golfMode = b.Instance.currentMode, this._golfMode.node.on(S, this.onStartCourseSelect.bind(this)), this._golfMode.node.on(P, this.onEndCourseSelect.bind(this)), this._golfMode.node.on(z, this.onPrimaryUserUpdate.bind(this)), this.node.active = !1
                }, a.start = function() {}, a.onPrimaryUserUpdate = function() {
                    this.backButton.node.active = !1
                }, a.onGoBack = function() {}, a.onStartCourseSelect = function(e) {
                    var t = this;
                    this.node.active = !0, this.updateCourseButtons(e), this.gameState.node.on(y, this.onVoteCountChanged.bind(this)), this.background && (this.background.active = !0), this.gameStartsIn && (this.gameStartsIn.string = this.gameState.gameStartsInStr), this.gameLabel && (this.gameLabel.string = this.gameState.gameLabelStr);
                    var n = this._golfMode.GetPlayers();
                    this.refreshPlayerWidgets(n), this.scheduleOnce((function() {
                        t.onVoteCountChanged(t.gameState.voteCounts, t.gameState.votes)
                    }), .05), this._onVoteCooldown = !1, this.backButton.node.active = !1
                }, a.onEndCourseSelect = function() {
                    this.node.active && (this.node.active = !1, this.background && (this.background.active = !1), this.onVoteCountChanged(new Array(this.zone.length).fill(0), {}), this.gameState.node.off(y, this.onVoteCountChanged.bind(this)))
                }, a.onVoteCountChanged = function(e, t) {
                    for (var n = e.reduce((function(e, t) {
                            return e + t
                        }), 0), o = 0; o < this.zone.length; ++o) {
                        for (var i in t)
                            if (t[i] == o) {
                                var a = this._golfMode.GetPlayer(i);
                                if (a) {
                                    var r = this.getPlayerWidget(a);
                                    this.zone[o].movePlayerHere(r.node, a)
                                }
                            } this.zone[o].updateVoteCount(void 0 !== e[o] ? e[o] : 0, n)
                    }
                    var s = this._golfMode.GetPlayers();
                    this.refreshPlayerWidgets(s);
                    var l = this._golfMode.GetLocalPlayerId();
                    void 0 !== t[l] ? this.setSelectedLevel(this.zone[t[l]]) : this.setSelectedLevel(null), this.refreshEnabledZones(), this.updateZoneLayout()
                }, a.updateZoneLayout = function() {
                    for (var e = this.zone[0].getComponent(d).width, t = -1, n = [], o = 0; o < this.zones_used; ++o) {
                        var i = this.zone[o].getDesiredVoteScale();
                        i > this.zone[o].node.scale.x && (t = o), n.push(i > this.zone[o].node.scale.x)
                    }
                    for (var a = 0, r = 0; r < this.zones_used; ++r) {
                        a += e * this.zone[r].getDesiredVoteScale() + 50
                    }
                    for (var s = .5 * -a, l = 0; l < this.zones_used; ++l) {
                        var u = this.zone[l],
                            c = u.getDesiredVoteScale();
                        s += .5 * e * c, h.stopAllByTarget(u.node);
                        var v = -1 != t ? l - t : 0,
                            p = n[l] || -1 == t ? 0 : Math.sign(v),
                            b = -1 != t ? n[l] ? 1.1 : .95 : 1;
                        g(u.node).delay(.05 * Math.abs(v)).to(.15, {
                            position: new f(s + p * (10 - 2 * Math.abs(v)), 0, 0),
                            scale: new f(c * b, c * b, c * b)
                        }, {
                            easing: "quadOut"
                        }).to(.15, {
                            position: new f(s, 0, 0),
                            scale: new f(c, c, c)
                        }, {
                            easing: "quadIn"
                        }).start(), s += .5 * e * c + 50
                    }
                }, a.updateCourseButtons = function(e) {
                    for (var t = 0; t < e.length; ++t) this.zone[t].init(e[t].displayName, e[t].thumbnail), this.zone[t].node.active = !0;
                    this.zones_used = e.length;
                    for (var n = e.length; n < this.zone.length; ++n) this.zone[n].node.active = !1;
                    this.refreshEnabledZones()
                }, a.refreshEnabledZones = function() {
                    for (var e = this._golfMode.IsLocalPlayerInGame() || this._golfMode.CanJoinGame() == m.None, t = 0; t < this.zones_used; ++t) this.zone[t].setEnabled(e)
                }, a.SelectMenu = function(e) {
                    var t = this;
                    if (!this._onVoteCooldown) {
                        for (var n = e.target.getComponent(C), o = 0; o < this.zones_used; ++o) {
                            this.zone[o].levelSelect != n.levelSelect || this.gameState.setLocalPlayerLevelVote(o)
                        }
                        this._onVoteCooldown = !0, this.scheduleOnce((function() {
                            t._onVoteCooldown = !1
                        }), .25)
                    }
                }, a.setSelectedLevel = function(e) {
                    for (var t = 0; t < this.zones_used; ++t) {
                        var n = this.zone[t];
                        e && n.levelSelect == e.levelSelect ? n.selectZone() : n.deselectZone()
                    }
                }, a.update = function() {
                    this.gameState.startTimer >= 0 ? (this.votePrompt.active = !1, this.countdownLabel.node.parent.active = !0, this.countdownLabel.string = "" + this.gameState.startTimer) : (this._golfMode.CanJoinGame() == m.None && (this.votePrompt.active = !0), this.countdownLabel.node.parent.active = !1)
                }, a.refreshPlayerWidgets = function(e) {
                    for (var t = this, n = this._votingPlayerWidgets.length - 1; n >= 0; --n) {
                        var o = this._votingPlayerWidgets[n];
                        e.has(o.playerId) || (this._votingPlayerWidgets.splice(n, 1), o.node.destroy())
                    }
                    e.forEach((function(e) {
                        t.getPlayerWidget(e)
                    }))
                }, a.findPlayerWidget = function(e) {
                    return this._votingPlayerWidgets.find((function(t) {
                        return t.playerId == e.uid
                    }))
                }, a.getPlayerWidget = function(e) {
                    var t = this._votingPlayerWidgets.find((function(t) {
                        return t.playerId == e.uid
                    }));
                    t || ((t = v(this.votingPlayerWidgetPrefab).getComponent(_)).setUser(e), this._votingPlayerWidgets.push(t), t.node.getChildByPath("AnimRoot").active = !1, t.node.setParent(this.node, !1), t.node.worldPosition = this.spectatorList.node.worldPosition);
                    return t.setUser(e), t
                }, t
            }(p)).prototype, "zone", [M], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return []
                }
            }), T = t(N.prototype, "backButton", [V], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), x = t(N.prototype, "countdownLabel", [I], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), A = t(N.prototype, "votePrompt", [W], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), O = t(N.prototype, "votingPlayerWidgetPrefab", [G], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), R = t(N.prototype, "spectatorList", [B], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), q = t(N.prototype, "background", [k], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null
            }), F = t(N.prototype, "gameStartsIn", [U], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), J = t(N.prototype, "gameLabel", [D], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: function() {
                    return null
                }
            }), E = N)) || E));
            a._RF.pop()
        }
    }
}));

(function(r) {
    r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main');
})(function(mid, cid) {
    System.register(mid, [cid], function(_export, _context) {
        return {
            setters: [function(_m) {
                var _exportObj = {};

                for (var _key in _m) {
                    if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
                }

                _export(_exportObj);
            }],
            execute: function() {}
        };
    });
});